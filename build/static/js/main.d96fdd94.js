/*! For license information please see main.d96fdd94.js.LICENSE.txt */
(()=>{var e={4(e,t,n){"use strict";var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case C:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case D:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var M=Array.isArray,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],B=-1;function j(e){return{current:e}}function z(e){0>B||(e.current=L[B],L[B]=null,B--)}function U(e,t){B++,L[B]=e.current,e.current=t}var V,q,H=j(null),W=j(null),G=j(null),K=j(null);function Q(e,t){switch(U(G,t),U(W,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),U(H,e)}function Y(){z(H),z(W),z(G)}function X(e){null!==e.memoizedState&&U(K,e);var t=H.current,n=yh(t,e.type);t!==n&&(U(W,e),U(H,n))}function $(e){W.current===e&&(z(H),z(W)),K.current===e&&(z(K),cd._currentValue=R)}function J(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var u=o.split("\n"),l=a.split("\n");for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===l.length)for(r=u.length-1,i=l.length-1;1<=r&&0<=i&&u[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||u[r]!==l[i]){var c="\n"+u[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,ue=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(De(e)/Ee|0)|0},De=Math.log,Ee=Math.LN2;var xe=256,Ce=262144,_e=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Se(r):0!==(o&=a)?i=Se(o):n||0!==(n=a&~e)&&(i=Se(n)):0!==(a=r&~s)?i=Se(a):0!==o?i=Se(o):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Fe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Sd(e.type)}function je(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var ze=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ze,Ve="__reactProps$"+ze,qe="__reactContainer$"+ze,He="__reactEvents$"+ze,We="__reactListeners$"+ze,Ge="__reactHandles$"+ze,Ke="__reactResources$"+ze,Qe="__reactMarker$"+ze;function Ye(e){delete e[Ue],delete e[Ve],delete e[He],delete e[We],delete e[Ge]}function Xe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rh(e);null!==e;){if(n=e[Ue])return n;e=Rh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ue]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function ut(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,ht(t)):null!=n?wt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Dt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(M(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Mt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Rt=null;function Lt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Dt(e,!!n.multiple,t,!1)}}}var Bt=!1;function jt(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Ot||null!==Rt)&&(Zl(),Ot&&(t=Ot,e=Rt,Rt=Ot=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ut)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch($d){Vt=!1}var Ht=null,Wt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),sn=$t(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=$t(on),un=$t(f({},on,{dataTransfer:0})),ln=$t(f({},rn,{relatedTarget:0})),cn=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Dn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=$t(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=$t(f({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var An=Ut&&"TextEvent"in window&&!Sn,kn=Ut&&(!_n||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Nn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Ot?Rt?Rt.push(r):Rt=[r]:Ot=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Bn=null;function jn(e){Yc(e,0)}function zn(e){if(pt(Je(e)))return e}function Un(e,t){if("change"===e)return t}var Vn=!1;if(Ut){var qn;if(Ut){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}qn=Hn}else qn=!1;Vn=qn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),Bn=Ln=null)}function Kn(e){if("value"===e.propertyName&&zn(Bn)){var t=[];Rn(t,Bn,e,Pt(e)),jt(jn,t)}}function Qn(e,t,n){"focusin"===e?(Gn(),Bn=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Gn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Bn)}function Xn(e,t){if("click"===e)return zn(t)}function $n(e,t){if("input"===e||"change"===e)return zn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,ur=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&Zn(ur,r)||(ur=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Ut&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Dr=mr("transitioncancel"),Er=mr("transitionend"),xr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Sr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ar=[],kr=0,Tr=0;function Nr(){for(var e=kr,t=Tr=kr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var s=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Fr(e,t,n,r){Ar[kr++]=e,Ar[kr++]=t,Ar[kr++]=n,Ar[kr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Fr(e,t,n,r),Or(e)}function Mr(e,t){return Fr(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Hl)throw Hl=0,Wl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Lr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)jr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Br(31,n,t,i)).elementType=A,e.lanes=s,e;case v:return qr(n.children,i,s,t);case y:a=8,i|=24;break;case b:return(e=Br(12,n,t,2|i)).elementType=b,e.lanes=s,e;case x:return(e=Br(13,n,t,i)).elementType=x,e.lanes=s,e;case C:return(e=Br(19,n,t,i)).elementType=C,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case D:a=10;break e;case w:a=9;break e;case E:a=11;break e;case _:a=14;break e;case S:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Br(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Wr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Xr++]=Jr,Yr[Xr++]=$r,$r=e,Jr=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-we(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function ui(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var li=null,ci=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function mi(e){throw Di(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Ve]=r,n){case"dialog":Xc("cancel",t),Xc("close",t);break;case"iframe":case"object":case"embed":Xc("load",t);break;case"video":case"audio":for(n=0;n<Kc.length;n++)Xc(Kc[n],t);break;case"source":Xc("error",t);break;case"img":case"image":case"link":Xc("error",t),Xc("load",t);break;case"details":Xc("toggle",t);break;case"input":Xc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xc("invalid",t);break;case"textarea":Xc("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Xc("beforetoggle",t),Xc("toggle",t)),null!=r.onScroll&&Xc("scroll",t),null!=r.onScrollEnd&&Xc("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:li=li.return}}function yi(e){if(e!==li)return!1;if(!hi)return vi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bh(e.type,e.memoizedProps)),t=!t),t&&ci&&mi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Oh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Oh(e)}else 27===n?(n=ci,Sh(e.type)?(e=Ph,Ph=null,ci=e):ci=n):ci=li?Mh(e.stateNode.nextSibling):null;return!0}function bi(){ci=li=null,hi=!1}function wi(){var e=di;return null!==e&&(null===Nl?Nl=e:Nl.push.apply(Nl,e),di=null),e}function Di(e){null===di?di=[e]:di.push(e)}var Ei=j(null),xi=null,Ci=null;function _i(e,t,n){U(Ei,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=Ei.current,z(Ei)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var u=s;s=i;for(var l=0;l<t.length;l++)if(u.context===t[l]){s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ai(s.return,n,e),r||(a=null);break e}s=u.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ai(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ti(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var u=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(u):e=[u])}}else if(i===K.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){xi=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Pi(xi,e)}function Mi(e,t){return null===xi&&Fi(e),Pi(e,t)}function Pi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(o(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Bi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Oi,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Ri(Li,function(){e.controller.abort()})}var Ui=null,Vi=0,qi=0,Hi=null;function Wi(){if(0===--Vi&&null!==Ui){null!==Hi&&(Hi.status="fulfilled");var e=Ui;Ui=null,qi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=P.S;P.S=function(e,t){Ml=ue(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Vi=0,qi=Vc(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vi++,t.then(Wi,Wi)}(0,t),null!==Gi&&Gi(e,t)};var Ki=j(null);function Qi(){var e=Ki.current;return null!==e?e:pl.pooledCache}function Yi(e,t){U(Ki,null===t?Ki.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Bi._currentValue,pool:e}}var $i=Error(o(460)),Ji=Error(o(474)),Zi=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(It,It);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,$i}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,$i;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===$i||e===Zi)throw Error(o(483))}var as=null,us=0;function ls(e){var t=us;return us+=1,null===as&&(as=[]),ns(as,e,t)}function cs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===v?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===S&&rs(s)===t.type)?(cs(t=i(t,n.props),n),t.return=e,t):(cs(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return cs(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case S:return d(e,t=rs(t),n)}if(M(t)||N(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,ls(t),n);if(t.$$typeof===D)return d(e,Mi(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?l(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case S:return f(e,t,n=rs(n),r)}if(M(n)||N(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ls(n),r);if(n.$$typeof===D)return f(e,t,Mi(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return p(e,t,n,r=rs(r),i)}if(M(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ls(r),i);if(r.$$typeof===D)return p(e,t,n,Mi(t,r),i);hs(t,r)}return null}function y(u,l,c,h){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==l;){if(l.key===b){if((b=c.type)===v){if(7===l.tag){n(u,l.sibling),(h=i(l,c.props.children)).return=u,u=h;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&rs(b)===l.type){n(u,l.sibling),cs(h=i(l,c.props),c),h.return=u,u=h;break e}n(u,l);break}t(u,l),l=l.sibling}c.type===v?((h=qr(c.props.children,u.mode,h,c.key)).return=u,u=h):(cs(h=Vr(c.type,c.key,c.props,null,u.mode,h),c),h.return=u,u=h)}return a(u);case g:e:{for(b=c.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(u,l.sibling),(h=i(l,c.children||[])).return=u,u=h;break e}n(u,l);break}t(u,l),l=l.sibling}(h=Gr(c,u.mode,h)).return=u,u=h}return a(u);case S:return y(u,l,c=rs(c),h)}if(M(c))return function(i,o,a,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===c?l=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),hi&&ii(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(o=s(h,o,m),null===c?l=h:c.sibling=h,c=h);return hi&&ii(i,m),l}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,m),l}(u,l,c,h);if(N(c)){if("function"!==typeof(b=N(c)))throw Error(o(150));return function(i,a,u,l){if(null==u)throw Error(o(151));for(var c=null,h=null,m=a,g=a=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),hi&&ii(i,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return hi&&ii(i,g),c}for(m=r(m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),c}(u,l,c=b.call(c),h)}if("function"===typeof c.then)return y(u,l,ls(c),h);if(c.$$typeof===D)return y(u,l,Mi(u,c),h);hs(u,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==l&&6===l.tag?(n(u,l.sibling),(h=i(l,c)).return=u,u=h):(n(u,l),(h=Hr(c,u.mode,h)).return=u,u=h),a(u)):n(u,l)}return function(e,t,n,r){try{us=0;var i=y(e,t,n,r);return as=null,i}catch(o){if(o===$i||o===Zi)throw o;var s=Br(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Fr(e,r,t,n),Or(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function Ds(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function xs(){if(Es){if(null!==Hi)throw Hi}}function Cs(e,t,n,r){Es=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,l=u.next;u.next=null,null===o?s=l:o.next=l,o=u;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(null!==s){var h=i.baseState;for(o=0,c=l=u=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(gl&d)===d:(r&d)===d){0!==d&&d===qi&&(Es=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(v,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(v,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:ms=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=p,u=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),Cl|=o,e.lanes=o,e.memoizedState=h}}function _s(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ss(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var As=j(null),ks=j(0);function Ts(e,t){U(ks,e=El),U(As,t),El=e|t.baseLanes}function Ns(){U(ks,El),U(As,As.current)}function Fs(){El=ks.current,z(As),z(ks)}var Is=j(null),Ms=null;function Ps(e){var t=e.alternate;U(js,1&js.current),U(Is,e),null===Ms&&(null===t||null!==As.current||null!==t.memoizedState)&&(Ms=e)}function Os(e){U(js,js.current),U(Is,e),null===Ms&&(Ms=e)}function Rs(e){22===e.tag?(U(js,js.current),U(Is,e),null===Ms&&(Ms=e)):Ls()}function Ls(){U(js,js.current),U(Is,Is.current)}function Bs(e){z(Is),Ms===e&&(Ms=null),z(js)}var js=j(0);function zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Fh(n)||Ih(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=0,Vs=null,qs=null,Hs=null,Ws=!1,Gs=!1,Ks=!1,Qs=0,Ys=0,Xs=null,$s=0;function Js(){throw Error(o(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return Us=s,Vs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?ga:va,Ks=!1,s=n(r,i),Ks=!1,Gs&&(s=no(t,n,r,i)),to(e),s}function to(e){P.H=ma;var t=null!==qs&&null!==qs.next;if(Us=0,Hs=qs=Vs=null,Ws=!1,Ys=0,Xs=null,t)throw Error(o(300));null===e||Ma||null!==(e=e.dependencies)&&Ni(e)&&(Ma=!0)}function no(e,t,n,r){Vs=e;var i=0;do{if(Gs&&(Xs=null),Ys=0,Gs=!1,25<=i)throw Error(o(301));if(i+=1,Hs=qs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}P.H=ya,s=t(n,r)}while(Gs);return s}function ro(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?lo(t):t,e=e.useState()[0],(null!==qs?qs.memoizedState:null)!==e&&(Vs.flags|=1024),t}function io(){var e=0!==Qs;return Qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}Us=0,Hs=qs=Vs=null,Gs=!1,Ys=Qs=0,Xs=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?Vs.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function uo(){if(null===qs){var e=Vs.alternate;e=null!==e?e.memoizedState:null}else e=qs.next;var t=null===Hs?Vs.memoizedState:Hs.next;if(null!==t)Hs=t,qs=e;else{if(null===e){if(null===Vs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qs=e).memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},null===Hs?Vs.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function lo(e){var t=Ys;return Ys+=1,null===Xs&&(Xs=[]),e=ns(Xs,e,t),t=Vs,null===(null===Hs?t.memoizedState:Hs.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?ga:va),e}function co(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return lo(e);if(e.$$typeof===D)return Ii(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Vs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Vs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Vs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(uo(),qs,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var u=a=null,l=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(gl&d)===d:(Us&d)===d){var f=c.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===qi&&(h=!0);else{if((Us&f)===f){c=c.next,f===qi&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=d,a=s):l=l.next=d,Vs.lanes|=f,Cl|=f}d=c.action,Ks&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=f,a=s):l=l.next=f,Vs.lanes|=d,Cl|=d;c=c.next}while(null!==c&&c!==t);if(null===l?a=s:l.next=u,!Jn(s,e.memoizedState)&&(Ma=!0,h&&null!==(n=Hi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Jn(s,t.memoizedState)||(Ma=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vo(e,t,n){var r=Vs,i=uo(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Jn((qs||i).memoizedState,n);if(a&&(i.memoizedState=n,Ma=!0),i=i.queue,Vo(wo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Hs&&1&Hs.memoizedState.tag){if(r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pl)throw Error(o(349));s||0!==(127&Us)||yo(r,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Vs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Eo(e)}function wo(e,t,n){return n(function(){Do(t)&&Eo(e)})}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Eo(e){var t=Mr(e,2);null!==t&&Ql(t,e,2)}function xo(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Ks){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Co(e,t,n,r){return e.baseState=n,mo(e,qs,"function"===typeof r?r:fo)}function _o(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==P.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,So(t,s)):(s.next=n.next,t.pending=n.next=s)}}function So(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=P.T,o={};P.T=o;try{var a=n(i,r),u=P.S;null!==u&&u(o,a),Ao(e,t,a)}catch(l){To(e,t,l)}finally{null!==s&&null!==o.types&&(s.types=o.types),P.T=s}}else try{Ao(e,t,s=n(i,r))}catch(c){To(e,t,c)}}function Ao(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ko(e,t,n)},function(n){return To(e,t,n)}):ko(e,t,n)}function ko(e,t,n){t.status="fulfilled",t.value=n,No(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,So(e,n)))}function To(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,No(t),t=t.next}while(t!==r)}e.action=null}function No(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fo(e,t){return t}function Io(e,t){if(hi){var n=pl.formState;if(null!==n){e:{var r=Vs;if(hi){if(ci){t:{for(var i=ci,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Mh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ci=Mh(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},n.queue=r,n=la.bind(null,Vs,r),r.dispatch=n,r=xo(!1),s=ha.bind(null,Vs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=_o.bind(null,Vs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Mo(e){return Po(uo(),qs,e)}function Po(e,t,n){if(t=mo(e,t,Fo)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=lo(t)}catch(o){if(o===$i)throw Zi;throw o}else r=t;var i=(t=uo()).queue,s=i.dispatch;return n!==t.memoizedState&&(Vs.flags|=2048,Lo(9,{destroy:void 0},Oo.bind(null,i,n),null)),[r,s,e]}function Oo(e,t){e.action=t}function Ro(e){var t=uo(),n=qs;if(null!==n)return Po(t,n,e);uo(),t=t.memoizedState;var r=(n=uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Vs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return uo().memoizedState}function jo(e,t,n,r){var i=ao();Vs.flags|=e,i.memoizedState=Lo(1|t,{destroy:void 0},n,void 0===r?null:r)}function zo(e,t,n,r){var i=uo();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==qs&&null!==r&&Zs(r,qs.memoizedState.deps)?i.memoizedState=Lo(t,s,n,r):(Vs.flags|=e,i.memoizedState=Lo(1|t,s,n,r))}function Uo(e,t){jo(8390656,8,e,t)}function Vo(e,t){zo(2048,8,e,t)}function qo(e){var t=uo().memoizedState;return function(e){Vs.flags|=4;var t=Vs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Go(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),Ks){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $o(e,t,n){return void 0===n||0!==(1073741824&Us)&&0===(261930&gl)?e.memoizedState=t:(e.memoizedState=n,e=Kl(),Vs.lanes|=e,Cl|=e,n)}function Jo(e,t,n,r){return Jn(n,t)?n:null!==As.current?(e=$o(e,n,r),Jn(e,t)||(Ma=!0),e):0===(42&Us)||0!==(1073741824&Us)&&0===(261930&gl)?(Ma=!0,e.memoizedState=n):(e=Kl(),Vs.lanes|=e,Cl|=e,t)}function Zo(e,t,n,r,i){var s=O.p;O.p=0!==s&&8>s?s:8;var o=P.T,a={};P.T=a,ha(e,!1,t,n);try{var u=i(),l=P.S;if(null!==l&&l(a,u),null!==u&&"object"===typeof u&&"function"===typeof u.then)ca(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(u,r),Gl());else ca(e,t,r,Gl())}catch(c){ca(e,t,{then:function(){},status:"rejected",reason:c},Gl())}finally{O.p=s,null!==o&&null!==a.types&&(o.types=a.types),P.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;Zo(e,i,t,R,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ca(e,t.next.queue,{},Gl())}function ia(){return Ii(cd)}function sa(){return uo().memoizedState}function oa(){return uo().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gl(),r=bs(t,e=ys(n),n);return null!==r&&(Ql(r,t,n),ws(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function ua(e,t,n){var r=Gl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Ir(e,t,n,r))&&(Ql(n,e,r),pa(n,t,r))}function la(e,t,n){ca(e,t,n,Gl())}function ca(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o))return Fr(e,t,i,0),null===pl&&Nr(),!1}catch(u){}if(null!==(n=Ir(e,t,i,r)))return Ql(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Vc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=Ir(e,n,r,2))&&Ql(t,e,2)}function da(e){var t=e.alternate;return e===Vs||null!==t&&t===Vs}function fa(e,t){Gs=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var ma={readContext:Ii,use:co,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};ma.useEffectEvent=Js;var ga={readContext:Ii,use:co,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Uo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){jo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Ks){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Ks){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ua.bind(null,Vs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=la.bind(null,Vs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return $o(ao(),e,t)},useTransition:function(){var e=xo(!1);return e=Zo.bind(null,Vs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Vs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pl)throw Error(o(349));0!==(127&gl)||yo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Uo(wo.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pl.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=$s++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Io,useActionState:Io,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Vs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Vs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Ii,use:co,useCallback:Yo,useContext:Ii,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:po,useRef:Bo,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Jo(uo(),qs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=uo().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:vo,useId:sa,useHostTransitionStatus:ia,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){return Co(uo(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};va.useEffectEvent=qo;var ya={readContext:Ii,use:co,useCallback:Yo,useContext:Ii,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:go,useRef:Bo,useState:function(){return go(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=uo();return null===qs?$o(n,e,t):Jo(n,qs.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=uo().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:vo,useId:sa,useHostTransitionStatus:ia,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){var n=uo();return null!==qs?Co(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=qo;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gl(),i=ys(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Ql(t,e,r),ws(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gl(),i=ys(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Ql(t,e,r),ws(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gl(),r=ys(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Ql(t,e,n),ws(t,e,n))}};function Da(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function Ea(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ca(e){Sr(e)}function _a(e){console.error(e)}function Sa(e){Sr(e)}function Aa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ta(e,t,n){return(n=ys(n)).tag=3,n.payload={element:null},n.callback=function(){Aa(e,t)},n}function Na(e){return(e=ys(e)).tag=3,e}function Fa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ka(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ka(t,n,r),"function"!==typeof i&&(null===Rl?Rl=new Set([this]):Rl.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(o(461)),Ma=!1;function Pa(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Fi(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Ma?(hi&&a&&oi(t),t.flags|=1,Pa(e,t,r,i),t.child):(so(e,t,i),iu(e,t,i))}function Ra(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||jr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,La(e,t,s,r,i))}if(s=e.child,!su(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return iu(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Ma=!1,t.pendingProps=r=s,!su(e,i))return t.lanes=e.lanes,iu(e,t,i);0!==(131072&e.flags)&&(Ma=!0)}}return Ha(e,t,n,r,i)}function Ba(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return za(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,za(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Ns(),Rs(t)}else null!==s?(Yi(0,s.cachePool),Ts(t,s),Ls(),t.memoizedState=null):(null!==e&&Yi(0,null),Ns(),Ls());return Pa(e,t,i,n),t.child}function ja(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function za(e,t,n,r,i){var s=Qi();return s=null===s?null:{parent:Bi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ns(),Rs(t),null!==e&&Ti(e,t,r,!0),t.childLanes=i,null}function Ua(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Va(e,t,n){return fs(t,e.child,null,n),(e=Ua(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ha(e,t,n,r,i){return Fi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ma?(hi&&r&&oi(t),t.flags|=1,Pa(e,t,n,i),t.child):(so(e,t,i),iu(e,t,i))}function Wa(e,t,n,r,i,s){return Fi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ma?(hi&&r&&oi(t),t.flags|=1,Pa(e,t,n,s),t.child):(so(e,t,s),iu(e,t,s))}function Ga(e,t,n,r,i){if(Fi(t),null===t.stateNode){var s=Rr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ii(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ii(o):Rr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&wa.enqueueReplaceState(s,s.state,null),Cs(t,r,s,i),xs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,u=xa(n,a);s.props=u;var l=s.context,c=n.contextType;o=Rr,"object"===typeof c&&null!==c&&(o=Ii(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&Ea(t,s,r,o),ms=!1;var d=t.memoizedState;s.state=d,Cs(t,r,s,i),xs(),l=t.memoizedState,a||d!==l||ms?("function"===typeof h&&(ba(t,n,h,r),l=t.memoizedState),(u=ms||Da(t,n,u,r,d,l,o))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=u):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),c=xa(n,o=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,l=n.contextType,u=Rr,"object"===typeof l&&null!==l&&(u=Ii(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==u)&&Ea(t,s,r,u),ms=!1,d=t.memoizedState,s.state=d,Cs(t,r,s,i),xs();var f=t.memoizedState;o!==h||d!==f||ms||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(c=ms||Da(t,n,c,r,d,f,u)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,qa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Pa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=iu(e,t,i),e}function Ka(e,t,n,r){return bi(),t.flags|=256,Pa(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Al),e}function $a(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&js.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Ps(t):Ls(),(e=ci)?null!==(e=null!==(e=Nh(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw mi(t);return Ih(e)?t.lanes=32:t.lanes=536870912,null}var u=i.children;return i=i.fallback,s?(Ls(),u=Za({mode:"hidden",children:u},s=t.mode),i=qr(i,s,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(i=t.child).memoizedState=Ya(n),i.childLanes=Xa(e,r,n),t.memoizedState=Qa,ja(null,i)):(Ps(t),Ja(t,u))}var l=e.memoizedState;if(null!==l&&null!==(u=l.dehydrated)){if(a)256&t.flags?(Ps(t),t.flags&=-257,t=eu(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),u=i.fallback,s=t.mode,i=Za({mode:"visible",children:i.children},s),(u=qr(u,s,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ya(n),i.childLanes=Xa(e,r,n),t.memoizedState=Qa,t=ja(null,i));else if(Ps(t),Ih(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,Di({value:i,source:null,stack:null}),t=eu(e,t,n)}else if(Ma||Ti(e,t,n,!1),r=0!==(n&e.childLanes),Ma||r){if(null!==(r=pl)&&(0!==(i=Oe(r,n))&&i!==l.retryLane))throw l.retryLane=i,Mr(e,i),Ql(r,e,i),Ia;Fh(u)||oc(),t=eu(e,t,n)}else Fh(u)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ci=Mh(u.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ui(t,e),(t=Ja(t,i.children)).flags|=4096);return t}return s?(Ls(),u=i.fallback,s=t.mode,c=(l=e.child).sibling,(i=zr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?u=zr(c,u):(u=qr(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,ja(null,i),i=t.child,null===(u=e.child.memoizedState)?u=Ya(n):(null!==(s=u.cachePool)?(l=Bi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Xi(),u={baseLanes:u.baseLanes|n,cachePool:s}),i.memoizedState=u,i.childLanes=Xa(e,r,n),t.memoizedState=Qa,ja(e.child,i)):(Ps(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function eu(e,t,n){return fs(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function nu(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function ru(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=js.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,U(js,o),Pa(e,t,r,n),r=hi?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tu(e,n,t);else if(19===e.tag)tu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nu(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nu(t,!0,n,null,s,r);break;case"together":nu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function iu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ti(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function su(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function ou(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ma=!0;else{if(!su(e,n)&&0===(128&t.flags))return Ma=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_i(0,Bi,e.memoizedState.cache),bi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Os(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ps(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$a(e,t,n):(Ps(t),null!==(e=iu(e,t,n))?e.sibling:null);Ps(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ti(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ru(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(js,js.current),r)break;return null;case 22:return t.lanes=0,Ba(e,t,n,t.pendingProps);case 24:_i(0,Bi,e.memoizedState.cache)}return iu(e,t,n)}(e,t,n);Ma=0!==(131072&e.flags)}else Ma=!1,hi&&0!==(1048576&t.flags)&&si(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===E){t.tag=11,t=Oa(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Ra(null,t,e,r,n);break e}}throw t=I(e)||e,Error(o(306,t,""))}jr(e)?(r=xa(e,r),t.tag=1,t=Ga(null,t,e,r,n)):(t.tag=0,t=Ha(null,t,e,r,n))}return t;case 0:return Ha(e,t,t.type,t.pendingProps,n);case 1:return Ga(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),Cs(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,Bi,r),r!==s.cache&&ki(t,[Bi],n,!0),xs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ka(e,t,r,n);break e}if(r!==i){Di(i=Qr(Error(o(424)),t)),t=Ka(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ci=Mh(e.firstChild),li=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=iu(e,t,n);break e}Pa(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=gh(G.current).createElement(n))[Ue]=t,r[Ve]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&hi&&(r=t.stateNode=Lh(t.type,t.pendingProps,G.current),li=t,fi=!0,i=ci,Sh(t.type)?(Ph=i,ci=Mh(r.firstChild)):ci=i),Pa(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ci)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Mh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,li=t,ci=Mh(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),X(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,bh(i,s)?r=null:null!==a&&bh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),cd._currentValue=i),qa(e,t),Pa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ci)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,li=t,ci=null,e=!0):e=!1),e||mi(t)),null;case 13:return $a(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return Oa(e,t,t.type,t.pendingProps,n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Pa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Fi(t),r=r(i=Ii(i)),t.flags|=1,Pa(e,t,r,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return ru(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Ua(t,r),t.lanes=536870912,ja(null,e);if(Os(t),(e=ci)?null!==(e=null!==(e=Nh(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Ua(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Os(t),i)if(256&t.flags)t.flags&=-257,t=Va(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ma||Ti(e,t,n,!1),i=0!==(n&e.childLanes),Ma||i){if(null!==(r=pl)&&0!==(a=Oe(r,n))&&a!==s.retryLane)throw s.retryLane=a,Mr(e,a),Ql(r,e,a),Ia;oc(),t=Va(e,t,n)}else e=s.treeContext,ci=Mh(a.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ui(t,e),(t=Ua(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ba(e,t,n,t.pendingProps);case 24:return Fi(t),r=Ii(Bi),null===e?(null===(i=Qi())&&(i=pl,s=ji(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),_i(0,Bi,i)):(0!==(e.lanes&n)&&(vs(e,t),Cs(t,null,null,n),xs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Bi,r)):(r=s.cache,_i(0,Bi,r),r!==i.cache&&ki(t,[Bi],n,!0))),Pa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function au(e){e.flags|=4}function uu(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw is=es,Ji;e.flags|=8192}}else e.flags&=-16777217}function lu(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!rc())throw is=es,Ji;e.flags|=8192}}function cu(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,kl|=t)}function hu(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function du(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fu(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return du(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Bi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?au(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),du(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(au(t),null!==s?(du(t),lu(t,s)):(du(t),uu(t,i,0,0,n))):s?s!==e.memoizedState?(au(t),du(t),lu(t,s)):(du(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&au(t),du(t),uu(t,i,0,0,n)),null;case 27:if($(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return du(t),null}e=H.current,yi(t)?gi(t):(e=Lh(i,r,n),t.stateNode=e,au(t))}return du(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return du(t),null}if(s=H.current,yi(t))gi(t);else{var a=gh(G.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Ue]=t,s[Ve]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(dh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&au(t)}}return du(t),uu(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=G.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||mi(t,!0)}else(e=gh(e).createTextNode(r))[Ue]=t,t.stateNode=e}return du(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;du(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return du(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;du(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cu(t,t.updateQueue),du(t),null);case 4:return Y(),null===e&&Zc(t.stateNode.containerInfo),du(t),null;case 10:return Si(t.type),du(t),null;case 19:if(z(js),null===(r=t.memoizedState))return du(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hu(r,!1);else{if(0!==xl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=zs(e))){for(t.flags|=128,hu(r,!1),e=s.updateQueue,t.updateQueue=e,cu(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(js,1&js.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ue()>Pl&&(t.flags|=128,i=!0,hu(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=zs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cu(t,e),hu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return du(t),null}else 2*ue()-r.renderingStartTime>Pl&&536870912!==n&&(t.flags|=128,i=!0,hu(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=js.current,U(js,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(du(t),null);case 22:case 23:return Bs(t),Fs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(du(t),6&t.subtreeFlags&&(t.flags|=8192)):du(t),null!==(n=t.updateQueue)&&cu(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Bi),du(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pu(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Bi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(js),null;case 4:return Y(),null;case 10:return Si(t.type),null;case 22:case 23:return Bs(t),Fs(),null!==e&&z(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Bi),null;default:return null}}function mu(e,t){switch(ai(t),t.tag){case 3:Si(Bi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:z(js);break;case 10:Si(t.type);break;case 22:case 23:Bs(t),Fs(),null!==e&&z(Ki);break;case 24:Si(Bi)}}function gu(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){xc(t,t.return,a)}}function vu(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var u=n,l=a;try{l()}catch(c){xc(i,u,c)}}}r=r.next}while(r!==s)}}catch(c){xc(t,t.return,c)}}function yu(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ss(t,n)}catch(r){xc(e,e.return,r)}}}function bu(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){xc(e,t,r)}}function wu(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){xc(e,t,i)}}function Du(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){xc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){xc(e,t,s)}else n.current=null}function Eu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){xc(e,e.return,i)}}function xu(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,u=null,l=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||ch(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&ch(e,t,f,p,r,d)}}return void yt(e,a,u,l,c,h,s,i);case"select":for(s in p=a=u=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||ch(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":u=s;break;case"multiple":a=s;default:s!==l&&ch(e,t,i,s,r,l)}return t=u,n=a,r=p,void(null!=f?Dt(e,!!n,f,!1):!!r!==!!n&&(null!=t?Dt(e,!!n,t,!0):Dt(e,!!n,n?[]:"",!1)));case"textarea":for(u in p=f=null,n)if(i=n[u],n.hasOwnProperty(u)&&null!=i&&!r.hasOwnProperty(u))switch(u){case"value":case"children":break;default:ch(e,t,u,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&ch(e,t,a,i,r,s)}return void Et(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ch(e,t,m,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ch(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ch(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ch(e,t,c,f,r,p)}return;default:if(kt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&hh(e,t,v,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ch(e,t,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||ch(e,t,d,f,r,p)}(r,e.type,n,t),r[Ve]=t}catch(i){xc(e,e.return,i)}}function Cu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sh(e.type)||4===e.tag}function _u(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Su(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Au(e,t,n),e=e.sibling;null!==e;)Au(e,t,n),e=e.sibling}function ku(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[Ue]=e,t[Ve]=n}catch(s){xc(e,e.return,s)}}var Tu=!1,Nu=!1,Fu=!1,Iu="function"===typeof WeakSet?WeakSet:Set,Mu=null;function Pu(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Qu(e,n),4&r&&gu(5,n);break;case 1:if(Qu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){xc(n,n.return,o)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){xc(n,n.return,a)}}64&r&&yu(n),512&r&&wu(n,n.return);break;case 3:if(Qu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ss(e,t)}catch(o){xc(n,n.return,o)}}break;case 27:null===t&&4&r&&ku(n);case 26:case 5:Qu(e,n),null===t&&4&r&&Eu(n),512&r&&wu(n,n.return);break;case 12:Qu(e,n);break;case 31:Qu(e,n),4&r&&zu(e,n);break;case 13:Qu(e,n),4&r&&Uu(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ac.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Tu)){t=null!==t&&null!==t.memoizedState||Nu,i=Tu;var s=Nu;Tu=r,(Nu=t)&&!s?Xu(e,n,0!==(8772&n.subtreeFlags)):Qu(e,n),Tu=i,Nu=s}break;case 30:break;default:Qu(e,n)}}function Ou(e){var t=e.alternate;null!==t&&(e.alternate=null,Ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ru=null,Lu=!1;function Bu(e,t,n){for(n=n.child;null!==n;)ju(e,t,n),n=n.sibling}function ju(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Nu||Du(n,t),Bu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nu||Du(n,t);var r=Ru,i=Lu;Sh(n.type)&&(Ru=n.stateNode,Lu=!1),Bu(e,t,n),Bh(n.stateNode),Ru=r,Lu=i;break;case 5:Nu||Du(n,t);case 6:if(r=Ru,i=Lu,Ru=null,Bu(e,t,n),Lu=i,null!==(Ru=r))if(Lu)try{(9===Ru.nodeType?Ru.body:"HTML"===Ru.nodeName?Ru.ownerDocument.body:Ru).removeChild(n.stateNode)}catch(o){xc(n,t,o)}else try{Ru.removeChild(n.stateNode)}catch(o){xc(n,t,o)}break;case 18:null!==Ru&&(Lu?(Ah(9===(e=Ru).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hd(e)):Ah(Ru,n.stateNode));break;case 4:r=Ru,i=Lu,Ru=n.stateNode.containerInfo,Lu=!0,Bu(e,t,n),Ru=r,Lu=i;break;case 0:case 11:case 14:case 15:vu(2,n,t),Nu||vu(4,n,t),Bu(e,t,n);break;case 1:Nu||(Du(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bu(n,t,r)),Bu(e,t,n);break;case 21:Bu(e,t,n);break;case 22:Nu=(r=Nu)||null!==n.memoizedState,Bu(e,t,n),Nu=r;break;default:Bu(e,t,n)}}function zu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hd(e)}catch(n){xc(t,t.return,n)}}}function Uu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hd(e)}catch(n){xc(t,t.return,n)}}function Vu(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Iu),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Iu),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=kc.bind(null,e,t);t.then(r,r)}})}function qu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 27:if(Sh(u.type)){Ru=u.stateNode,Lu=!1;break e}break;case 5:Ru=u.stateNode,Lu=!1;break e;case 3:case 4:Ru=u.stateNode.containerInfo,Lu=!0;break e}u=u.return}if(null===Ru)throw Error(o(160));ju(s,a,i),Ru=null,Lu=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wu(t,e),t=t.sibling}var Hu=null;function Wu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qu(t,e),Gu(e),4&r&&(vu(3,e,e.return),gu(3,e),vu(5,e,e.return));break;case 1:qu(t,e),Gu(e),512&r&&(Nu||null===n||Du(n,n.return)),64&r&&Tu&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Hu;if(qu(t,e),Gu(e),512&r&&(Nu||null===n||Du(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),dh(s,r,n),s[Ue]=e,et(s),r=s;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var u=0;u<a.length;u++)if((s=a[u]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(u,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(u=0;u<a.length;u++)if((s=a[u]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(u,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Ue]=e,et(s),r=s}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=$h(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rd(i,e.type,e.stateNode):$h(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xu(e,e.memoizedProps,n.memoizedProps)}break;case 27:qu(t,e),Gu(e),512&r&&(Nu||null===n||Du(n,n.return)),null!==n&&4&r&&xu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qu(t,e),Gu(e),512&r&&(Nu||null===n||Du(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(m){xc(e,e.return,m)}}4&r&&null!=e.stateNode&&xu(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Fu=!0);break;case 6:if(qu(t,e),Gu(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){xc(e,e.return,m)}}break;case 3:if(td=null,i=Hu,Hu=Uh(t.containerInfo),qu(t,e),Hu=i,Gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hd(t.containerInfo)}catch(m){xc(e,e.return,m)}Fu&&(Fu=!1,Ku(e));break;case 4:r=Hu,Hu=Uh(e.stateNode.containerInfo),qu(t,e),Gu(e),Hu=r;break;case 12:default:qu(t,e),Gu(e);break;case 31:case 19:qu(t,e),Gu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vu(e,r)));break;case 13:qu(t,e),Gu(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Il=ue()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vu(e,r)));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,c=Tu,h=Nu;if(Tu=c||i,Nu=h||l,qu(t,e),Nu=h,Tu=c,Gu(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||Tu||Nu||Yu(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{u=l.stateNode;var d=l.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;u.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){xc(l,l.return,m)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){xc(l,l.return,m)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;i?kh(p,!0):kh(l.stateNode,!1)}catch(m){xc(l,l.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vu(e,n))));case 30:case 21:}}function Gu(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cu(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Au(e,_u(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Ct(s,""),n.flags&=-33),Au(e,_u(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Su(e,_u(e),a);break;default:throw Error(o(161))}}catch(u){xc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ku(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ku(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Pu(e,t.alternate,t),t=t.sibling}function Yu(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vu(4,t,t.return),Yu(t);break;case 1:Du(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bu(t,t.return,n),Yu(t);break;case 27:Bh(t.stateNode);case 26:case 5:Du(t,t.return),Yu(t);break;case 22:null===t.memoizedState&&Yu(t);break;default:Yu(t)}e=e.sibling}}function Xu(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Xu(i,s,n),gu(4,s);break;case 1:if(Xu(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){xc(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(null!==u)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)_s(u[i],a)}catch(l){xc(r,r.return,l)}}n&&64&o&&yu(s),wu(s,s.return);break;case 27:ku(s);case 26:case 5:Xu(i,s,n),n&&null===r&&4&o&&Eu(s),wu(s,s.return);break;case 12:Xu(i,s,n);break;case 31:Xu(i,s,n),n&&4&o&&zu(i,s);break;case 13:Xu(i,s,n),n&&4&o&&Uu(i,s);break;case 22:null===s.memoizedState&&Xu(i,s,n),wu(s,s.return);break;case 30:break;default:Xu(i,s,n)}t=t.sibling}}function $u(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Ju(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Zu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zu(e,t,n,r),2048&i&&gu(9,t);break;case 1:case 31:case 13:default:Zu(e,t,n,r);break;case 3:Zu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Zu(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(u){xc(t,t.return,u)}}else Zu(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Zu(e,t,n,r):nl(e,t):2&s._visibility?Zu(e,t,n,r):(s._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$u(o,t);break;case 24:Zu(e,t,n,r),2048&i&&Ju(t.alternate,t)}}function tl(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,u=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:tl(s,o,a,u,i),gu(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?tl(s,o,a,u,i):nl(s,o):(c._visibility|=2,tl(s,o,a,u,i)),i&&2048&l&&$u(o.alternate,o);break;case 24:tl(s,o,a,u,i),i&&2048&l&&Ju(o.alternate,o);break;default:tl(s,o,a,u,i)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nl(n,r),2048&i&&$u(r.alternate,r);break;case 24:nl(n,r),2048&i&&Ju(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function il(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)sl(e,t,n),e=e.sibling}function sl(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),s=t.querySelector(Kh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Qh(r),(i=jh.get(i))&&Zh(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hu,e.memoizedState,e.memoizedProps);break;case 5:default:il(e,t,n);break;case 3:case 4:var r=Hu;Hu=Uh(e.stateNode.containerInfo),il(e,t,n),Hu=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,il(e,t,n),rl=r):il(e,t,n))}}function ol(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Mu=r,cl(r,e)}ol(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ul(e),e=e.sibling}function ul(e){switch(e.tag){case 0:case 11:case 15:al(e),2048&e.flags&&vu(9,e,e.return);break;case 3:case 12:default:al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):al(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Mu=r,cl(r,e)}ol(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vu(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function cl(e,t){for(;null!==Mu;){var n=Mu;switch(n.tag){case 0:case 11:case 15:vu(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Mu=r;else e:for(n=e;null!==Mu;){var i=(r=Mu).sibling,s=r.return;if(Ou(r),r===n){Mu=null;break e}if(null!==i){i.return=s,Mu=i;break e}Mu=s}}}var hl={getCacheForType:function(e){var t=Ii(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ii(Bi).controller.signal}},dl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,ml=null,gl=0,vl=0,yl=null,bl=!1,wl=!1,Dl=!1,El=0,xl=0,Cl=0,_l=0,Sl=0,Al=0,kl=0,Tl=null,Nl=null,Fl=!1,Il=0,Ml=0,Pl=1/0,Ol=null,Rl=null,Ll=0,Bl=null,jl=null,zl=0,Ul=0,Vl=null,ql=null,Hl=0,Wl=null;function Gl(){return 0!==(2&fl)&&0!==gl?gl&-gl:null!==P.T?Vc():Be()}function Kl(){if(0===Al)if(0===(536870912&gl)||hi){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Al=e}else Al=536870912;return null!==(e=Is.current)&&(e.flags|=32),Al}function Ql(e,t,n){(e!==pl||2!==vl&&9!==vl)&&null===e.cancelPendingCommit||(tc(e,0),Jl(e,gl,Al,!1)),Ie(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(_l|=n),4===xl&&Jl(e,gl,Al,!1)),Oc(e))}function Yl(e,t,n){if(0!==(6&fl))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||ke(e,t),i=r?function(e,t){var n=fl;fl|=2;var r=ic(),i=sc();pl!==e||gl!==t?(Ol=null,Pl=ue()+500,tc(e,t)):wl=ke(e,t);e:for(;;)try{if(0!==vl&&null!==ml){t=ml;var s=yl;t:switch(vl){case 1:vl=0,yl=null,dc(e,t,s,1);break;case 2:case 9:if(ts(s)){vl=0,yl=null,hc(t);break}t=function(){2!==vl&&9!==vl||pl!==e||(vl=7),Oc(e)},s.then(t,t);break e;case 3:vl=7;break e;case 4:vl=5;break e;case 7:ts(s)?(vl=0,yl=null,hc(t)):(vl=0,yl=null,dc(e,t,s,7));break;case 5:var a=null;switch(ml.tag){case 26:a=ml.memoizedState;case 5:case 27:var u=ml;if(a?id(a):u.stateNode.complete){vl=0,yl=null;var l=u.sibling;if(null!==l)ml=l;else{var c=u.return;null!==c?(ml=c,fc(c)):ml=null}break t}}vl=0,yl=null,dc(e,t,s,5);break;case 6:vl=0,yl=null,dc(e,t,s,6);break;case 8:ec(),xl=6;break e;default:throw Error(o(462))}}lc();break}catch(h){nc(e,h)}return Ci=xi=null,P.H=r,P.A=i,fl=n,null!==ml?0:(pl=null,gl=0,Nr(),xl)}(e,t):ac(e,t,!0),s=r;;){if(0===i){wl&&!r&&Jl(e,t,0,!1);break}if(n=e.current.alternate,!s||$l(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var u=e;i=Tl;var l=u.current.memoizedState.isDehydrated;if(l&&(tc(u,a).flags|=256),2!==(a=ac(u,a,!1))){if(Dl&&!l){u.errorRecoveryDisabledLanes|=s,_l|=s,i=4;break e}s=Nl,Nl=i,null!==s&&(null===Nl?Nl=s:Nl.push.apply(Nl,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tc(e,0),Jl(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Jl(r,t,Al,!bl);break e;case 2:Nl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Il+300-ue())){if(Jl(r,t,Al,!bl),0!==Ae(r,0,!0))break e;zl=t,r.timeoutHandle=Dh(Xl.bind(null,r,n,Nl,Ol,Fl,t,Al,_l,kl,bl,s,"Throttled",-0,0),i)}else Xl(r,n,Nl,Ol,Fl,t,Al,_l,kl,bl,s,null,-0,0)}break}i=ac(e,t,!1),s=!1}Oc(e)}function Xl(e,t,n,r,i,s,o,a,u,l,c,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){sl(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var p=(62914560&s)===s?Il-ue():(4194048&s)===s?Ml-ue():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fh(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var u=n[r],l=u.startTime;if(l>a)break;var c=u.transferSize,h=u.initiatorType;c&&fh(h)&&(o+=c*((u=u.responseEnd)<a?1:(a-l)/(u-l)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return zl=s,e.cancelPendingCommit=p(mc.bind(null,e,t,s,n,r,i,o,a,u,c,h,null,d,f)),void Jl(e,s,o,!l)}mc(e,t,s,n,r,i,o,a,u)}function $l(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,r){t&=~Sl,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Me(e,n,t)}function Zl(){return 0!==(6&fl)||(Rc(0,!1),!1)}function ec(){if(null!==ml){if(0===vl)var e=ml.return;else Ci=xi=null,oo(e=ml),as=null,us=0,e=ml;for(;null!==e;)mu(e.alternate,e),e=e.return;ml=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Eh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zl=0,ec(),pl=e,ml=n=zr(e.current,null),gl=t,vl=0,yl=null,bl=!1,wl=ke(e,t),Dl=!1,kl=Al=Sl=_l=Cl=xl=0,Nl=Tl=null,Fl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return El=t,Nr(),n}function nc(e,t){Vs=null,P.H=ma,t===$i||t===Zi?(t=ss(),vl=3):t===Ji?(t=ss(),vl=4):vl=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yl=t,null===ml&&(xl=1,Aa(e,Qr(t,e.current)))}function rc(){var e=Is.current;return null===e||((4194048&gl)===gl?null===Ms:((62914560&gl)===gl||0!==(536870912&gl))&&e===Ms)}function ic(){var e=P.H;return P.H=ma,null===e?ma:e}function sc(){var e=P.A;return P.A=hl,e}function oc(){xl=4,bl||(4194048&gl)!==gl&&null!==Is.current||(wl=!0),0===(134217727&Cl)&&0===(134217727&_l)||null===pl||Jl(pl,gl,Al,!1)}function ac(e,t,n){var r=fl;fl|=2;var i=ic(),s=sc();pl===e&&gl===t||(Ol=null,tc(e,t)),t=!1;var o=xl;e:for(;;)try{if(0!==vl&&null!==ml){var a=ml,u=yl;switch(vl){case 8:ec(),o=6;break e;case 3:case 2:case 9:case 6:null===Is.current&&(t=!0);var l=vl;if(vl=0,yl=null,dc(e,a,u,l),n&&wl){o=0;break e}break;default:l=vl,vl=0,yl=null,dc(e,a,u,l)}}uc(),o=xl;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,Ci=xi=null,fl=r,P.H=i,P.A=s,null===ml&&(pl=null,gl=0,Nr()),o}function uc(){for(;null!==ml;)cc(ml)}function lc(){for(;null!==ml&&!oe();)cc(ml)}function cc(e){var t=ou(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?fc(e):ml=t}function hc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,gl);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,gl);break;case 5:oo(t);default:mu(n,t),t=ou(n,t=ml=Ur(t,El),El)}e.memoizedProps=e.pendingProps,null===t?fc(e):ml=t}function dc(e,t,n,r){Ci=xi=null,oo(t),as=null,us=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ti(t,n,i,!0),null!==(n=Is.current)){switch(n.tag){case 31:case 13:return null===Ms?oc():null===n.alternate&&0===xl&&(xl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cc(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cc(e,r,i)),!1}throw Error(o(435,n.tag))}return Cc(e,r,i),oc(),!1}if(hi)return null!==(t=Is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Di(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&Di(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),Ds(e,i=Ta(e.stateNode,r,i)),4!==xl&&(xl=2)),!1;var s=Error(o(520),{cause:r});if(s=Qr(s,n),null===Tl?Tl=[s]:Tl.push(s),4!==xl&&(xl=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ds(n,e=Ta(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Rl||!Rl.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Fa(i=Na(i),e,n,r),Ds(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gl))return xl=1,Aa(e,Qr(n,e.current)),void(ml=null)}catch(s){if(null!==i)throw ml=i,s;return xl=1,Aa(e,Qr(n,e.current)),void(ml=null)}32768&t.flags?(hi||1===r?e=!0:wl||0!==(536870912&gl)?e=!1:(bl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Is.current)&&13===r.tag&&(r.flags|=16384))),pc(t,e)):fc(t)}function fc(e){var t=e;do{if(0!==(32768&t.flags))return void pc(t,bl);e=t.return;var n=fu(t.alternate,t,El);if(null!==n)return void(ml=n);if(null!==(t=t.sibling))return void(ml=t);ml=t=e}while(null!==t);0===xl&&(xl=5)}function pc(e,t){do{var n=pu(e.alternate,e);if(null!==n)return n.flags&=32767,void(ml=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ml=e);ml=e=n}while(null!==e);xl=6,ml=null}function mc(e,t,n,r,i,s,a,u,l){e.cancelPendingCommit=null;do{wc()}while(0!==Ll);if(0!==(6&fl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,u=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-we(n),h=1<<c;a[c]=0,u[c]=-1;var d=l[c];if(null!==d)for(l[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Me(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Tr,a,u,l),e===pl&&(ml=pl=null,gl=0),jl=t,Bl=e,zl=n,Ul=s,Vl=i,ql=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Dc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,i=O.p,O.p=2,a=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,ph=bd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,u=-1,l=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(u=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:e,selectionRange:n},bd=!1,Mu=t;null!==Mu;)if(e=(t=Mu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Mu=e;else for(;null!==Mu;){switch(s=(t=Mu).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=xa(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){xc(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Th(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Th(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Mu=e;break}Mu=t.return}}(e,t)}finally{fl=a,O.p=i,P.T=r}}Ll=1,gc(),vc(),yc()}}function gc(){if(1===Ll){Ll=0;var e=Bl,t=jl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=O.p;O.p=2;var i=fl;fl|=4;try{Wu(t,e);var s=mh,o=rr(e.containerInfo),a=s.focusedElem,u=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==u&&ir(a)){var l=u.start,c=u.end;if(void 0===c&&(c=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(u.start,p),g=void 0===u.end?m:Math.min(u.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=tr(a,m),y=tr(a,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bd=!!ph,mh=ph=null}finally{fl=i,O.p=r,P.T=n}}e.current=t,Ll=2}}function vc(){if(2===Ll){Ll=0;var e=Bl,t=jl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=O.p;O.p=2;var i=fl;fl|=4;try{Pu(e,t.alternate,t)}finally{fl=i,O.p=r,P.T=n}}Ll=3}}function yc(){if(4===Ll||3===Ll){Ll=0,ae();var e=Bl,t=jl,n=zl,r=ql;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ll=5:(Ll=0,jl=Bl=null,bc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Rl=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(u){}if(null!==r){t=P.T,i=O.p,O.p=2,P.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{P.T=t,O.p=i}}0!==(3&zl)&&wc(),Oc(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wl?Hl++:(Hl=0,Wl=e):Hl=0,Rc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function wc(){return gc(),vc(),yc(),Dc()}function Dc(){if(5!==Ll)return!1;var e=Bl,t=Ul;Ul=0;var n=Le(zl),r=P.T,i=O.p;try{O.p=32>n?32:n,P.T=null,n=Vl,Vl=null;var s=Bl,a=zl;if(Ll=0,jl=Bl=null,zl=0,0!==(6&fl))throw Error(o(331));var u=fl;if(fl|=4,ul(s.current),el(s,s.current,a,n),fl=u,Rc(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(l){}return!0}finally{O.p=i,P.T=r,bc(e,t)}}function Ec(e,t,n){t=Qr(n,t),null!==(e=bs(e,t=Ta(e.stateNode,t,2),2))&&(Ie(e,2),Oc(e))}function xc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rl||!Rl.has(r))){e=Qr(n,e),null!==(r=bs(t,n=Na(2),2))&&(Fa(n,r,t,e),Ie(r,2),Oc(r));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Dl=!0,i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(gl&n)===n&&(4===xl||3===xl&&(62914560&gl)===gl&&300>ue()-Il?0===(2&fl)&&tc(e,0):Sl|=n,kl===gl&&(kl=0)),Oc(e)}function Sc(e,t){0===t&&(t=Ne()),null!==(e=Mr(e,t))&&(Ie(e,t),Oc(e))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sc(e,n)}var Tc=null,Nc=null,Fc=!1,Ic=!1,Mc=!1,Pc=0;function Oc(e){e!==Nc&&null===e.next&&(null===Nc?Tc=Nc=e:Nc=Nc.next=e),Ic=!0,Fc||(Fc=!0,Ch(function(){0!==(6&fl)?ie(ce,Lc):Bc()}))}function Rc(e,t){if(!Mc&&Ic){Mc=!0;do{for(var n=!1,r=Tc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Uc(r,s))}else s=gl,0===(3&(s=Ae(r,r===pl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,s)||(n=!0,Uc(r,s));r=r.next}}while(n);Mc=!1}}function Lc(){Bc()}function Bc(){Ic=Fc=!1;var e=0;0!==Pc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wh&&(wh=e,!0);return wh=null,!1}()&&(e=Pc);for(var t=ue(),n=null,r=Tc;null!==r;){var i=r.next,s=jc(r,t);0===s?(r.next=null,null===n?Tc=i:n.next=i,null===i&&(Nc=n)):(n=r,(0!==e||0!==(3&s))&&(Ic=!0)),r=i}0!==Ll&&5!==Ll||Rc(e,!1),0!==Pc&&(Pc=0)}function jc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,u=i[o];-1===u?0!==(a&n)&&0===(a&r)||(i[o]=Te(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}if(n=gl,n=Ae(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vl||9===vl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=zc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function zc(e,t){if(0!==Ll&&5!==Ll)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=gl;return 0===(r=Ae(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yl(e,r,t),jc(e,ue()),null!=e.callbackNode&&e.callbackNode===n?zc.bind(null,e):null)}function Uc(e,t){if(wc())return null;Yl(e,t,!0)}function Vc(){if(0===Pc){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Pc=e}return Pc}function qc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ft(""+e)}function Hc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wc=0;Wc<Cr.length;Wc++){var Gc=Cr[Wc];_r(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}_r(gr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(Dr,"onTransitionCancel"),_r(Er,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Yc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(c){Sr(c)}i.currentTarget=null,s=u}else for(o=0;o<r.length;o++){if(u=(a=r[o]).instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(c){Sr(c)}i.currentTarget=null,s=u}}}}function Xc(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function $c(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Jc]){e[Jc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qc.has(t)||$c(t,!1,e),$c(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jc]||(t[Jc]=!0,$c("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Sd(t)){case 2:var i=wd;break;case 8:i=Dd;break;default:i=Ed}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Xe(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}jt(function(){var r=s,i=Pt(n),o=[];e:{var a=xr.get(e);if(void 0!==a){var l=nn,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":l=yn;break;case"focusin":c="focus",l=ln;break;case"focusout":c="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=wn;break;case gr:case vr:case yr:l=cn;break;case Er:l=Dn;break;case"scroll":case"scrollend":l=sn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bn;break;case"toggle":case"beforetoggle":l=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&h.push(nh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Mt||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[qe])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(d=u(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(l=null,c=r),l!==c)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==l?a:Je(l),p=null==c?a:Je(c),(a=new h(g,m+"leave",l,n,i)).target=d,a.relatedTarget=p,g=null,Xe(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,l&&c)e:{for(h=ih,m=c,p=0,g=f=l;g;g=h(g))p++;g=0;for(var v=m;v;v=h(v))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==l&&sh(o,a,l,h,!1),null!==c&&null!==d&&sh(o,d,c,h,!0)}if("select"===(l=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Un;else if(On(a))if(Vn)y=$n;else{y=Yn;var b=Qn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&kt(r.elementType)&&(y=Un):y=Xn;switch(y&&(y=y(e,r))?Rn(o,y,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(or=b,ar=r,ur=null);break;case"focusout":ur=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(o,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Mn?Fn(e,n)&&(D="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(D="onCompositionStart");D&&(kn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==D?"onCompositionEnd"===D&&Mn&&(w=Kt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Mn=!0)),0<(b=rh(r,D)).length&&(D=new dn(D,e,null,n,i),o.push({event:D,listeners:b}),w?D.data=w:null!==(w=In(n))&&(D.data=w))),(w=An?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Nn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!_n&&Fn(e,t)?(e=Kt(),Gt=Wt=Ht=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(D=rh(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:D}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=qc((i[Ve]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ve]||null)?qc(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Pc){var e=o?Hc(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Hc(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yc(o,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=zt(e,n))&&r.unshift(nh(e,i,s)),null!=(i=zt(e,t))&&r.push(nh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(a=a.tag,null!==u&&u===r)break;5!==a&&26!==a&&27!==a||null===l||(u=l,i?null!=(l=zt(n,s))&&o.unshift(nh(n,l,u)):i||null!=(l=zt(n,s))&&o.push(nh(n,l,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function uh(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function lh(e,t){return t=uh(t),uh(e)===t}function ch(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":At(e,r,s);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ch(e,t,"name",i.name,i,null),ch(e,t,"formEncType",i.formEncType,i,null),ch(e,t,"formMethod",i.formMethod,i,null),ch(e,t,"formTarget",i.formTarget,i,null)):(ch(e,t,"encType",i.encType,i,null),ch(e,t,"method",i.method,i,null),ch(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=It);break;case"onScroll":null!=r&&Xc("scroll",e);break;case"onScrollEnd":null!=r&&Xc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ft(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xc("beforetoggle",e),Xc("toggle",e),ut(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ut(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=Tt.get(n)||n,r)}}function hh(e,t,n,r,i,s){switch(n){case"style":At(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Xc("scroll",e);break;case"onScrollEnd":null!=r&&Xc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ve]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ut(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xc("error",e),Xc("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,r,a,n,null)}}return s&&ch(e,t,"srcSet",n.srcSet,n,null),void(i&&ch(e,t,"src",n.src,n,null));case"input":Xc("invalid",e);var u=r=a=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:ch(e,t,i,h,n,null)}}return void bt(e,r,u,l,c,a,s,!1);case"select":for(s in Xc("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(u=n[s]))switch(s){case"value":r=u;break;case"defaultValue":a=u;break;case"multiple":i=u;default:ch(e,t,s,u,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?Dt(e,!!i,t,!1):null!=n&&Dt(e,!!i,n,!0));case"textarea":for(a in Xc("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(u=n[a]))switch(a){case"value":i=u;break;case"defaultValue":s=u;break;case"children":r=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(o(91));break;default:ch(e,t,a,u,n,null)}return void xt(e,i,s,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ch(e,t,l,i,n,null);return;case"dialog":Xc("beforetoggle",e),Xc("toggle",e),Xc("cancel",e),Xc("close",e);break;case"iframe":case"object":Xc("load",e);break;case"video":case"audio":for(i=0;i<Kc.length;i++)Xc(Kc[i],e);break;case"image":Xc("error",e),Xc("load",e);break;case"details":Xc("toggle",e);break;case"embed":case"source":case"link":Xc("error",e),Xc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,c,i,n,null)}return;default:if(kt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(null!=(i=n[u])&&ch(e,t,u,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,mh=null;function gh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wh=null;var Dh="function"===typeof setTimeout?setTimeout:void 0,Eh="function"===typeof clearTimeout?clearTimeout:void 0,xh="function"===typeof Promise?Promise:void 0,Ch="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xh?function(e){return xh.resolve(null).then(e).catch(_h)}:Dh;function _h(e){setTimeout(function(){throw e})}function Sh(e){return"head"===e}function Ah(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Hd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bh(e.ownerDocument.documentElement);else if("head"===n){Bh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Bh(e.ownerDocument.body);n=i}while(n);Hd(t)}function kh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Th(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Th(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}function Fh(e){return"$?"===e.data||"$~"===e.data}function Ih(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Mh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ph=null;function Oh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Mh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lh(e,t,n){switch(t=gh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Bh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var jh=new Map,zh=new Set;function Uh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vh=O.d;O.d={f:function(){var e=Vh.f(),t=Zl();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Vh.r(e)},D:function(e){Vh.D(e),Hh("dns-prefetch",e,null)},C:function(e,t){Vh.C(e,t),Hh("preconnect",e,t)},L:function(e,t,n){Vh.L(e,t,n);var r=qh;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Gh(e);break;case"script":s=Yh(e)}jh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Kh(s))||"script"===t&&r.querySelector(Xh(s))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Vh.m(e,t);var n=qh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yh(e)}if(!jh.has(s)&&(e=f({rel:"modulepreload",href:e},t),jh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xh(s)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Vh.X(e,t);var n=qh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector(Xh(i)))||(e=f({src:e,async:!0},t),(t=jh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Vh.S(e,t,n);var r=qh;if(r&&e){var i=Ze(r).hoistableStyles,s=Gh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Kh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jh.get(s))&&Zh(e,n);var u=o=r.createElement("link");et(u),dh(u,"link",e),u._p=new Promise(function(e,t){u.onload=e,u.onerror=t}),u.addEventListener("load",function(){a.loading|=1}),u.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Jh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Vh.M(e,t);var n=qh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector(Xh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=jh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var qh="undefined"===typeof document?null:document;function Hh(e,t,n){var r=qh;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zh.has(i)||(zh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wh(e,t,n,r){var i,s,a,u,l=(l=G.current)?Uh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gh(n.href),(r=(n=Ze(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gh(n.href);var c=Ze(l).hoistableStyles,h=c.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=l.querySelector(Kh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),jh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jh.set(e,n),c||(i=l,s=e,a=n,u=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yh(n),(r=(n=Ze(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Gh(e){return'href="'+vt(e)+'"'}function Kh(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yh(e){return'[src="'+vt(e)+'"]'}function Xh(e){return"script[async]"+e}function $h(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gh(n.href);var s=e.querySelector(Kh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Qh(n),(i=jh.get(i))&&Zh(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(s,"link",r),t.state.loading|=4,Jh(s,n.precedence,e),t.instance=s;case"script":return s=Yh(n.src),(i=e.querySelector(Xh(s)))?(t.instance=i,et(i),i):(r=n,(i=jh.get(s))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jh(r,n.precedence,e));return t.instance}function Jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ld,e),ad=null,od.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var cd={$$typeof:D,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function hd(e,t,n,r,i,s,o,a,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,s,o,a,u,l,c,h){return e=new hd(e,t,n,o,u,l,c,h,a),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fd(e){return e?e=Rr:Rr}function pd(e,t,n,r,i,s){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ys(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Ql(n,0,t),ws(n,e,t))}function md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gd(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Mr(e,67108864);null!==t&&Ql(t,0,67108864),gd(e,67108864)}}function yd(e){if(13===e.tag||31===e.tag){var t=Gl(),n=Mr(e,t=Re(t));null!==n&&Ql(n,0,t),gd(e,t)}}var bd=!0;function wd(e,t,n,r){var i=P.T;P.T=null;var s=O.p;try{O.p=2,Ed(e,t,n,r)}finally{O.p=s,P.T=i}}function Dd(e,t,n,r){var i=P.T;P.T=null;var s=O.p;try{O.p=8,Ed(e,t,n,r)}finally{O.p=s,P.T=i}}function Ed(e,t,n,r){if(bd){var i=xd(r);if(null===i)th(e,t,r,Cd,n),Od(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kd=Rd(kd,e,t,n,r,i),!0;case"dragenter":return Td=Rd(Td,e,t,n,r,i),!0;case"mouseover":return Nd=Rd(Nd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fd.set(s,Rd(Fd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Id.set(s,Rd(Id.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Od(e,r),4&t&&-1<Pd.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Se(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var u=1<<31-we(o);a.entanglements[1]|=u,o&=~u}Oc(s),0===(6&fl)&&(Pl=ue()+500,Rc(0,!1))}}break;case 31:case 13:null!==(a=Mr(s,2))&&Ql(a,0,2),Zl(),gd(s,2)}if(null===(s=xd(r))&&th(e,t,r,Cd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function xd(e){return _d(e=Pt(e))}var Cd=null;function _d(e){if(Cd=null,null!==(e=Xe(e))){var t=u(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cd=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ad=!1,kd=null,Td=null,Nd=null,Fd=new Map,Id=new Map,Md=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":kd=null;break;case"dragenter":case"dragleave":Td=null;break;case"mouseover":case"mouseout":Nd=null;break;case"pointerover":case"pointerout":Fd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(t.pointerId)}}function Rd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ld(e){var t=Xe(e.target);if(null!==t){var n=u(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void je(e.priority,function(){yd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void je(e.priority,function(){yd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function jd(e,t,n){Bd(e)&&n.delete(t)}function zd(){Ad=!1,null!==kd&&Bd(kd)&&(kd=null),null!==Td&&Bd(Td)&&(Td=null),null!==Nd&&Bd(Nd)&&(Nd=null),Fd.forEach(jd),Id.forEach(jd)}function Ud(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zd)))}var Vd=null;function qd(e){Vd!==e&&(Vd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vd===e&&(Vd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===_d(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Hd(e){function t(t){return Ud(t,e)}null!==kd&&Ud(kd,e),null!==Td&&Ud(Td,e),null!==Nd&&Ud(Nd,e),Fd.forEach(t),Id.forEach(t);for(var n=0;n<Md.length;n++){var r=Md[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Md.length&&null===(n=Md[0]).blockedOn;)Ld(n),null===n.blockedOn&&Md.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Ve]||null;if("function"===typeof s)o||qd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Ve]||null)a=o.formAction;else if(null!==_d(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),qd(n)}}}function Wd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gd(e){this._internalRoot=e}function Kd(e){this._internalRoot=e}Kd.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));pd(t.current,Gl(),e,t,null,null)},Kd.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),Zl(),t[qe]=null}},Kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&0!==t&&t<Md[n].priority;n++);Md.splice(n,0,e),0===n&&Ld(e)}};var Qd=i.version;if("19.2.3"!==Qd)throw Error(o(527,Qd,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{ve=Xd.inject(Yd),ye=Xd}catch(Jd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ca,s=_a,u=Sa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(u=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,s,u,Wd),e[qe]=t.current,Zc(e),new Gd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ca,u=_a,l=Sa,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(u=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=dd(e,1,!0,t,0,r,i,c,s,u,l,Wd)).context=fd(null),n=t.current,(i=ys(r=Re(r=Gl()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,Ie(t,n),Oc(t),e[qe]=t.current,Zc(e),new Kd(t)},t.version="19.2.3"},16(e,t,n){var r;!function(e,i){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.xorwow=a}(0,e=n.nmd(e),n.amdD)},43(e,t,n){"use strict";e.exports=n(288)},66(e,t,n){var r;!function(e,i){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.xor128=a}(0,e=n.nmd(e),n.amdD)},234(){},262(e,t,n){var r;!function(e,i){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.tychei=a}(0,e=n.nmd(e),n.amdD)},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var D=w.prototype=new b;D.constructor=w,g(D,y.prototype),D.isPureReactComponent=!0;var E=Array.isArray;function x(){}var C={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function S(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u,l,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return N((c=e._init)(e._payload),t,i,s,o)}}if(c)return o=o(e),c=""===s?"."+T(e,0):s,E(o)?(i="",null!=c&&(i=c.replace(k,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(A(o)&&(u=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+c,o=S(u.type,l,u.props)),t.push(o)),1;c=0;var h,f=""===s?".":s+":";if(E(e))for(var m=0;m<e.length;m++)c+=N(s=e[m],t,i,a=f+T(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=N(s=s.value,t,i,a=f+T(s,m++),o);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function F(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=P,t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return S(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,M)}catch(s){M(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.3"},334(e,t,n){var r=n(359),i=n(66),s=n(16),o=n(538),a=n(907),u=n(262),l=n(430);l.alea=r,l.xor128=i,l.xorwow=s,l.xorshift7=o,l.xor4096=a,l.tychei=u,e.exports=l},359(e,t,n){var r;!function(e,i){function s(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new s(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.alea=a}(0,e=n.nmd(e),n.amdD)},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},422(e){e.exports=function(){"use strict";function e(){return!0}function t(){return!1}function n(){}const r="Argument is not a typed-function.";function i(){function s(e){return"object"===typeof e&&null!==e&&e.constructor===Object}const o=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:s},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],a={name:"any",test:e,isAny:!0};let u,l,c=0,h={createCount:0};function d(e){const t=u.get(e);if(t)return t;let n='Unknown type "'+e+'"';const r=e.toLowerCase();let i;for(i of l)if(i.toLowerCase()===r){n+='. Did you mean "'+i+'" ?';break}throw new TypeError(n)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=t?d(t).index:l.length,r=[];for(let s=0;s<e.length;++s){if(!e[s]||"string"!==typeof e[s].name||"function"!==typeof e[s].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[s].name;if(u.has(t))throw new TypeError('Duplicate type name "'+t+'"');r.push(t),u.set(t,{name:t,test:e[s].test,isAny:e[s].isAny,index:n+s,conversionsTo:[]})}const i=l.slice(n);l=l.slice(0,n).concat(r).concat(i);for(let s=n+r.length;s<l.length;++s)u.get(l[s]).index=s}function p(){u=new Map,l=[],c=0,f([a],!1)}function m(){let e;for(e of l)u.get(e).conversionsTo=[];c=0}function g(e){const t=l.filter(t=>{const n=u.get(t);return!n.isAny&&n.test(e)});return t.length?t:["any"]}function v(e){return e&&"function"===typeof e&&"_typedFunctionData"in e}function y(e,t,n){if(!v(e))throw new TypeError(r);const i=n&&n.exact,s=_(Array.isArray(t)?t.join(","):t),o=D(s);if(!i||o in e.signatures){const t=e._typedFunctionData.signatureMap.get(o);if(t)return t}const a=s.length;let u,l;if(i){let t;for(t in u=[],e.signatures)u.push(e._typedFunctionData.signatureMap.get(t))}else u=e._typedFunctionData.signatures;for(let r=0;r<a;++r){const e=s[r],t=[];let n;for(n of u){const i=T(n.params,r);if(i&&(!e.restParam||i.restParam)){if(!i.hasAny){const t=C(i);if(e.types.some(e=>!t.has(e.name)))continue}t.push(n)}}if(u=t,0===u.length)break}for(l of u)if(l.params.length<=a)return l;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+D(s,", ")+"))")}function b(e,t,n){return y(e,t,n).implementation}function w(e,t){const n=d(t);if(n.test(e))return e;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+t+" defined.");for(let i=0;i<r.length;i++)if(d(r[i].from).test(e))return r[i].convert(e);throw new Error("Cannot convert "+e+" to "+t)}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(t)}function E(e){const t=0===e.indexOf("..."),n=(t?e.length>3?e.slice(3):"any":e).split("|").map(e=>d(e.trim()));let r=!1,i=t?"...":"";return{types:n.map(function(e){return r=e.isAny||r,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}}),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:t}}function x(e){const t=B(e.types.map(e=>e.name));let n=e.hasAny,r=e.name;const i=t.map(function(e){const t=d(e.from);return n=t.isAny||n,r+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:e.restParam}}function C(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(t=>e.typeSet.add(t.name))),e.typeSet}function _(e){const t=[];if("string"!==typeof e)throw new TypeError("Signatures must be strings");const n=e.trim();if(""===n)return t;const r=n.split(",");for(let i=0;i<r.length;++i){const e=E(r[i].trim());if(e.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function S(e){const t=X(e);return!!t&&t.restParam}function A(t){if(t&&0!==t.types.length){if(1===t.types.length)return d(t.types[0].name).test;if(2===t.types.length){const e=d(t.types[0].name).test,n=d(t.types[1].name).test;return function(t){return e(t)||n(t)}}{const e=t.types.map(function(e){return d(e.name).test});return function(t){for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}}return e}function k(e){let t,n,r;if(S(e)){t=Y(e).map(A);const n=t.length,r=A(X(e)),i=function(e){for(let t=n;t<e.length;t++)if(!r(e[t]))return!1;return!0};return function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return i(e)&&e.length>=n+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=A(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=A(e[0]),r=A(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(A),function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function T(e,t){return t<e.length?e[t]:S(e)?X(e):null}function N(e,t){const n=T(e,t);return n?C(n):new Set}function F(e){return null===e.conversion||void 0===e.conversion}function I(e,t){const n=new Set;return e.forEach(e=>{const r=N(e.params,t);let i;for(i of r)n.add(i)}),n.has("any")?["any"]:Array.from(n)}function M(e,t,n){let r,i;const s=e||"unnamed";let o,a=n;for(o=0;o<t.length;o++){const e=[];if(a.forEach(n=>{const r=A(T(n.params,o));(o<n.params.length||S(n.params))&&r(t[o])&&e.push(n)}),0===e.length){if(i=I(a,o),i.length>0){const e=g(t[o]);return r=new TypeError("Unexpected type of argument in function "+s+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+o+")"),r.data={category:"wrongType",fn:s,index:o,actual:e,expected:i},r}}else a=e}const u=a.map(function(e){return S(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,u))return i=I(a,o),r=new TypeError("Too few arguments in function "+s+" (expected: "+i.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:s,index:t.length,expected:i},r;const l=Math.max.apply(null,u);if(t.length>l)return r=new TypeError("Too many arguments in function "+s+" (expected: "+l+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:s,index:t.length,expectedLength:l},r;const c=[];for(let h=0;h<t.length;++h)c.push(g(t[h]).join("|"));return r=new TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+s+"."),r.data={category:"mismatch",actual:c},r}function P(e){let t=l.length+1;for(let n=0;n<e.types.length;n++)t=Math.min(t,e.types[n].typeIndex);return t}function O(e){let t=c+1;for(let n=0;n<e.types.length;n++)F(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function R(e,t){if(e.hasAny){if(!t.hasAny)return.1}else if(t.hasAny)return-.1;if(e.restParam){if(!t.restParam)return.01}else if(t.restParam)return-.01;const n=P(e)-P(t);if(n<0)return-.001;if(n>0)return.001;const r=O(e),i=O(t);if(e.hasConversion){if(!t.hasConversion)return 1e-6*(1+r)}else if(t.hasConversion)return 1e-6*-(1+i);const s=r-i;return s<0?-1e-7:s>0?1e-7:0}function L(e,t){const n=e.params,r=t.params,i=X(n),s=X(r),o=S(n),a=S(r);if(o&&i.hasAny){if(!a||!s.hasAny)return 1e7}else if(a&&s.hasAny)return-1e7;let u,l=0,c=0;for(u of n)u.hasAny&&++l,u.hasConversion&&++c;let h=0,d=0;for(u of r)u.hasAny&&++h,u.hasConversion&&++d;if(l!==h)return 1e6*(l-h);if(o&&i.hasConversion){if(!a||!s.hasConversion)return 1e5}else if(a&&s.hasConversion)return-1e5;if(c!==d)return 1e4*(c-d);if(o){if(!a)return 1e3}else if(a)return-1e3;const f=(n.length-r.length)*(o?-100:100);if(0!==f)return f;const p=[];let m,g=0;for(let b=0;b<n.length;++b){const e=R(n[b],r[b]);p.push(e),g+=e}if(0!==g)return(g<0?-10:10)+g;let v=9;const y=v/(p.length+1);for(m of p){if(0!==m)return(m<0?-v:v)+m;v-=y}return 0}function B(e){if(0===e.length)return[];const t=e.map(d);if(1===e.length)return t[0].conversionsTo;const n=new Set(e),r=new Set;for(let s=0;s<t.length;++s)for(const e of t[s].conversionsTo)n.has(e.from)||r.add(e.from);const i=[];for(const s of r){let e=c+1,n=null;for(let r=0;r<t.length;++r)for(const i of t[r].conversionsTo)i.from===s&&i.index<e&&(e=i.index,n=i);i.push(n)}return i}function j(e,t){let n=t,r="";if(e.some(e=>e.hasConversion)){const i=S(e),s=e.map(z);r=s.map(e=>e.name).join(";"),n=function(){const e=[],n=i?arguments.length-1:arguments.length;for(let t=0;t<n;t++)e[t]=s[t](arguments[t]);return i&&(e[n]=arguments[n].map(s[n])),t.apply(this,e)}}let i=n;if(S(e)){const t=e.length-1;i=function(){return n.apply(this,$(arguments,0,t).concat([$(arguments,t)]))}}return r&&Object.defineProperty(i,"name",{value:r}),i}function z(e){let t,n,r,i;const s=[],o=[];let a="";e.types.forEach(function(e){e.conversion&&(a+=e.conversion.from+"~>"+e.conversion.to+",",s.push(d(e.conversion.from).test),o.push(e.conversion.convert))}),a=a?a.slice(0,-1):"pass";let u=e=>e;switch(o.length){case 0:break;case 1:t=s[0],r=o[0],u=function(e){return t(e)?r(e):e};break;case 2:t=s[0],n=s[1],r=o[0],i=o[1],u=function(e){return t(e)?r(e):n(e)?i(e):e};break;default:u=function(e){for(let t=0;t<o.length;t++)if(s[t](e))return o[t](e);return e}}return Object.defineProperty(u,"name",{value:a}),u}function U(e){function t(e,n,r){if(n<e.length){const i=e[n];let s=[];if(i.restParam){const e=i.types.filter(F);e.length<i.types.length&&s.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),s.push(i)}else s=i.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return Z(s,function(i){return t(e,n+1,r.concat([i]))})}return[r]}return t(e,0,[])}function V(e,t){const n=Math.max(e.length,t.length);for(let a=0;a<n;a++){const n=N(e,a),r=N(t,a);let i,s=!1;for(i of r)if(n.has(i)){s=!0;break}if(!s)return!1}const r=e.length,i=t.length,s=S(e),o=S(t);return s?o?r===i:i>=r:o?r>=i:r===i}function q(e){return e.map(e=>ie(e)?ne(e.referToSelf.callback):re(e)?te(e.referTo.references,e.referTo.callback):e)}function H(e,t,n){const r=[];let i;for(i of e){let e=n[i];if("number"!==typeof e)throw new TypeError('No definition for referenced signature "'+i+'"');if(e=t[e],"function"!==typeof e)return!1;r.push(e)}return r}function W(e,t,n){const r=q(e),i=new Array(r.length).fill(!1);let s=!0;for(;s;){s=!1;let e=!0;for(let o=0;o<r.length;++o){if(i[o])continue;const a=r[o];if(ie(a))r[o]=a.referToSelf.callback(n),r[o].referToSelf=a.referToSelf,i[o]=!0,e=!1;else if(re(a)){const n=H(a.referTo.references,r,t);n?(r[o]=a.referTo.callback.apply(this,n),r[o].referTo=a.referTo,i[o]=!0,e=!1):s=!0}}if(e&&s)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function G(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(n=>{const r=e[n];if(t.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function K(e,r){if(h.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&G(r);const i=[],s=[],o={},a=[];let u;for(u in r){if(!Object.prototype.hasOwnProperty.call(r,u))continue;const e=_(u);if(!e)continue;i.forEach(function(t){if(V(t,e))throw new TypeError('Conflicting signatures "'+D(t)+'" and "'+D(e)+'".')}),i.push(e);const t=s.length;s.push(r[u]);const n=e.map(x);let l;for(l of U(n)){const e=D(l);a.push({params:l,name:e,fn:t}),l.every(e=>!e.hasConversion)&&(o[e]=t)}}a.sort(L);const l=W(s,o,ue);let c;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(o[c]=l[o[c]]);const d=[],f=new Map;for(c of a)f.has(c.name)||(c.fn=l[c.fn],d.push(c),f.set(c.name,c));const p=d[0]&&d[0].params.length<=2&&!S(d[0].params),m=d[1]&&d[1].params.length<=2&&!S(d[1].params),g=d[2]&&d[2].params.length<=2&&!S(d[2].params),v=d[3]&&d[3].params.length<=2&&!S(d[3].params),y=d[4]&&d[4].params.length<=2&&!S(d[4].params),b=d[5]&&d[5].params.length<=2&&!S(d[5].params),w=p&&m&&g&&v&&y&&b;for(let t=0;t<d.length;++t)d[t].test=k(d[t].params);const E=p?A(d[0].params[0]):t,C=m?A(d[1].params[0]):t,T=g?A(d[2].params[0]):t,N=v?A(d[3].params[0]):t,F=y?A(d[4].params[0]):t,I=b?A(d[5].params[0]):t,M=p?A(d[0].params[1]):t,P=m?A(d[1].params[1]):t,O=g?A(d[2].params[1]):t,R=v?A(d[3].params[1]):t,B=y?A(d[4].params[1]):t,z=b?A(d[5].params[1]):t;for(let t=0;t<d.length;++t)d[t].implementation=j(d[t].params,d[t].fn);const q=p?d[0].implementation:n,H=m?d[1].implementation:n,K=g?d[2].implementation:n,Q=v?d[3].implementation:n,Y=y?d[4].implementation:n,X=b?d[5].implementation:n,$=p?d[0].params.length:-1,J=m?d[1].params.length:-1,Z=g?d[2].params.length:-1,ee=v?d[3].params.length:-1,te=y?d[4].params.length:-1,ne=b?d[5].params.length:-1,re=w?6:0,ie=d.length,se=d.map(e=>e.test),oe=d.map(e=>e.implementation),ae=function(){for(let e=re;e<ie;e++)if(se[e](arguments))return oe[e].apply(this,arguments);return h.onMismatch(e,arguments,d)};function ue(e,t){return arguments.length===$&&E(e)&&M(t)?q.apply(this,arguments):arguments.length===J&&C(e)&&P(t)?H.apply(this,arguments):arguments.length===Z&&T(e)&&O(t)?K.apply(this,arguments):arguments.length===ee&&N(e)&&R(t)?Q.apply(this,arguments):arguments.length===te&&F(e)&&B(t)?Y.apply(this,arguments):arguments.length===ne&&I(e)&&z(t)?X.apply(this,arguments):ae.apply(this,arguments)}try{Object.defineProperty(ue,"name",{value:e})}catch(le){}return ue.signatures=o,ue._typedFunctionData={signatures:d,signatureMap:f},ue}function Q(e,t,n){throw M(e,t,n)}function Y(e){return $(e,0,e.length-1)}function X(e){return e[e.length-1]}function $(e,t,n){return Array.prototype.slice.call(e,t,n)}function J(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Z(e,t){return Array.prototype.concat.apply([],e.map(t))}function ee(){const e=Y(arguments).map(e=>D(_(e))),t=X(arguments);if("function"!==typeof t)throw new TypeError("Callback function expected as last argument");return te(e,t)}function te(e,t){return{referTo:{references:e,callback:t}}}function ne(e){if("function"!==typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function re(e){return e&&"object"===typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"===typeof e.referTo.callback}function ie(e){return e&&"object"===typeof e.referToSelf&&"function"===typeof e.referToSelf.callback}function se(e,t){if(!e)return t;if(t&&t!==e){const n=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw n.data={actual:t,expected:e},n}return e}function oe(e){let t;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(v(e[n])||"string"===typeof e[n].signature)&&(t=se(t,e[n].name));return t}function ae(e,t){let n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n in e&&t[n]!==e[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:t[n],destFunction:e[n]},r}e[n]=t[n]}}p(),f(o);const ue=h;function le(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return h=function(e){const t="string"===typeof e;let n=t?e:"";const r={};for(let i=t?1:0;i<arguments.length;++i){const e=arguments[i];let o,a={};if("function"===typeof e?(o=e.name,"string"===typeof e.signature?a[e.signature]=e:v(e)&&(a=e.signatures)):s(e)&&(a=e,t||(o=oe(e))),0===Object.keys(a).length){const t=new TypeError("Argument to 'typed' at index "+i+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:i,argument:e},t}t||(n=se(n,o)),ae(r,a)}return K(n||"",r)},h.create=i,h.createCount=ue.createCount,h.onMismatch=Q,h.throwMismatchError=Q,h.createError=M,h.clear=p,h.clearConversions=m,h.addTypes=f,h._findType=d,h.referTo=ee,h.referToSelf=ne,h.convert=w,h.findSignature=y,h.find=b,h.isTypedFunction=v,h.warnAgainstDeprecatedThis=!0,h.addType=function(e,t){let n="any";!1!==t&&u.has("Object")&&(n="Object"),h.addTypes([e],n)},h.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};le(e);const n=d(e.to),r=n.conversionsTo.find(t=>t.from===e.from);if(r){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+n.name+'"');h.removeConversion({from:r.from,to:e.to,convert:r.convert})}n.conversionsTo.push({from:e.from,to:n.name,convert:e.convert,index:c++})},h.addConversions=function(e,t){e.forEach(e=>h.addConversion(e,t))},h.removeConversion=function(e){le(e);const t=d(e.to),n=J(t.conversionsTo,t=>t.from===e.from);if(!n)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(n.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const r=t.conversionsTo.indexOf(n);t.conversionsTo.splice(r,1)},h.resolve=function(e,t){if(!v(e))throw new TypeError(r);const n=e._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(t))return n[r];return null},h}return i()}()},430(e,t,n){var r;!function(i,s,o){var a,u=256,l=o.pow(u,6),c=o.pow(2,52),h=2*c,d=255;function f(e,t,n){var r=[],d=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(s)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,y(s)]}}():e,3),r),f=new p(r),b=function(){for(var e=f.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=f.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|f.g(4)},b.quick=function(){return f.g(4)/4294967296},b.double=b,v(y(f.S),s),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(b,d,"global"in t?t.global:this==o,t.state)}function p(e){var t,n=e.length,r=this,i=0,s=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[s=d&s+e[i%n]+(t=o[i])],o[s]=t;(r.g=function(e){for(var t,n=0,i=r.i,s=r.j,o=r.S;e--;)t=o[i=d&i+1],n=n*u+o[d&(o[i]=o[s=d&s+t])+(o[s]=t)];return r.i=i,r.j=s,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(s){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[d&i]=d&(n^=19*t[d&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(o.random(),s),e.exports){e.exports=f;try{a=n(234)}catch(b){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},538(e,t,n){var r;!function(e,i){function s(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.xorshift7=a}(0,e=n.nmd(e),n.amdD)},579(e,t,n){"use strict";e.exports=n(799)},672(e,t,n){"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=u.T,n=o.p;try{if(u.T=null,o.p=2,e)return e()}finally{u.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return u.H.useFormState(e,t,n)},t.useFormStatus=function(){return u.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){"use strict";e.exports=n(896)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,u=e[a],l=a+1,c=e[l];if(0>s(u,n))l<i&&0>s(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[a]=n,r=a);else{if(!(l<i&&0>s(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var l=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function D(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function E(e){if(g=!1,D(e),!m)if(null!==r(l))m=!0,C||(C=!0,x());else{var t=r(c);null!==t&&I(E,t.startTime-e)}}var x,C=!1,_=-1,S=5,A=-1;function k(){return!!v||!(t.unstable_now()-A<S)}function T(){if(v=!1,C){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var s=f;try{t:{for(D(e),d=r(l);null!==d&&!(d.expirationTime>e&&k());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,D(e),n=!0;break t}d===r(l)&&i(l),D(e)}else i(l);d=r(l)}if(null!==d)n=!0;else{var u=r(c);null!==u&&I(E,u.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?x():C=!1}}}if("function"===typeof w)x=function(){w(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,F=N.port2;N.port1.onmessage=T,x=function(){F.postMessage(null)}}else x=function(){y(T,0)};function I(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(l)&&e===r(c)&&(g?(b(_),_=-1):g=!0,I(E,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,C||(C=!0,x()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},907(e,t,n){var r;!function(e,i){function s(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,s=t.i;return t.w=r=r+1640531527|0,n=i[s+34&127],e=i[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,i,s,o,a=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,s=-32;s<u;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(o=o+1640531527|0,i=0==(n=a[127&s]^=r+o)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,s=512;s>0;--s)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;e.w=o,e.X=a,e.i=i}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(t,n,t,i))||(i.exports=r):this.xor4096=a}(0,e=n.nmd(e),n.amdD)},939(e){e.exports=function e(t,n){"use strict";var r,i,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(o,"")||"",d=c(n).replace(o,"")||"",f=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(u),16)||1!==f.length&&h.match(a)&&Date.parse(h),g=parseInt(d.match(u),16)||m&&d.match(a)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(f.length,p.length);v<y;v++){if(r=!(f[v]||"").match(l)&&parseFloat(f[v])||f[v]||0,i=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".70c9b135.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="campuseats:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,u;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),u&&document.head.appendChild(a)}}})(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/CampusEats/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,a,u]=r,l=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkcampuseats=self.webpackChunkcampuseats||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],p=(0,e.forwardRef)((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:p}=t,m=u(t,f);return(0,e.createElement)("svg",a(a(a({ref:n},d),{},{width:i,height:i,stroke:r,strokeWidth:o?24*Number(s)/Number(i):s,className:h("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...p.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(c)?c:[c]])}),m=["className"],g=(t,n)=>{const r=(0,e.forwardRef)((r,i)=>{let{className:s}=r,o=u(r,m);return(0,e.createElement)(p,a({ref:i,iconNode:n,className:h("lucide-".concat(l(c(t))),"lucide-".concat(t),s)},o))});return r.displayName=c(t),r},v=g("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),y=g("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),b=g("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),w=g("sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),D=g("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),E=g("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]),x=g("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),C=g("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),_=g("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),S=g("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),A=g("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),k=g("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),T=g("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),N=g("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),F=g("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),I=g("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),M=g("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),P=g("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),O=g("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),R=g("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),L=g("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),B=g("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),j=g("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),z=g("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),U=g("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,l=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new H;const u=t<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(e){return function(e){const t=V(e);return q.encodeByteArray(t,!0)}(e).replace(/\./g,"")},G=function(e){try{return q.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function K(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Q=()=>{try{return K().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/CampusEats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&G(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Y=e=>{var t;return null===(t=Q())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},X=()=>{var e;return null===(e=Q())||void 0===e?void 0:e.config},$=e=>{var t;return null===(t=Q())||void 0===t?void 0:t["_".concat(e)]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Z(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function ee(e){return(await fetch(e,{credentials:"include"})).ok}const te={};let ne=!1;function re(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Z(window.location.host)||te[e]===t||te[e]||ne)return;function n(e){return"__firebase__banner__".concat(e)}te[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(te))te[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{ne=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),u=document.getElementById(a)||document.createElement("a"),l=n("preprendIcon"),c=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(u,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,l),t.append(c,o,u,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function se(){var e;const t=null===(e=Q())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function oe(){return!se()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"===typeof indexedDB}catch(e){return!1}}class ue extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ce,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ue(n,s,t)}}const ce=/\{\$([^}]+)}/g;function he(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(de(n)&&de(s)){if(!he(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function de(e){return null!==e&&"object"===typeof e}function fe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pe(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function me(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ge{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ve),void 0===r.error&&(r.error=ve),void 0===r.complete&&(r.complete=ve);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ve(){}function ye(e){return e&&e._delegate?e._delegate:e}class be{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const we="[DEFAULT]";class De{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new J;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:we})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===we?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;return this.component?this.component.multipleInstances?e:we:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new De(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xe=[];var Ce;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ce||(Ce={}));const _e={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Se=Ce.INFO,Ae={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},ke=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Te{constructor(e){this.name=e,this._logLevel=Se,this._logHandler=ke,this._userLogHandler=null,xe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}let Ne,Fe;const Ie=new WeakMap,Me=new WeakMap,Pe=new WeakMap,Oe=new WeakMap,Re=new WeakMap;let Le={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Me.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ze(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Be(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ue(this),n),ze(Ie.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ze(e.apply(Ue(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ue(this),t,...r);return Pe.set(s,t.sort?t.sort():[t]),ze(s)}}function je(e){return"function"===typeof e?Be(e):(e instanceof IDBTransaction&&function(e){if(Me.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Me.set(e,t)}(e),t=e,(Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Le):e);var t}function ze(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ze(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Ie.set(t,e)}).catch(()=>{}),Re.set(t,e),t}(e);if(Oe.has(e))return Oe.get(e);const t=je(e);return t!==e&&(Oe.set(e,t),Re.set(t,e)),t}const Ue=e=>Re.get(e);const Ve=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],He=new Map;function We(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(He.get(t))return He.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ve.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return He.set(t,s),s}Le=(e=>a(a({},e),{},{get:(t,n,r)=>We(t,n)||e.get(t,n,r),has:(t,n)=>!!We(t,n)||e.has(t,n)}))(Le);class Ge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ke="@firebase/app",Qe="0.14.7",Ye=new Te("@firebase/app"),Xe="@firebase/app-compat",$e="@firebase/analytics-compat",Je="@firebase/analytics",Ze="@firebase/app-check-compat",et="@firebase/app-check",tt="@firebase/auth",nt="@firebase/auth-compat",rt="@firebase/database",it="@firebase/data-connect",st="@firebase/database-compat",ot="@firebase/functions",at="@firebase/functions-compat",ut="@firebase/installations",lt="@firebase/installations-compat",ct="@firebase/messaging",ht="@firebase/messaging-compat",dt="@firebase/performance",ft="@firebase/performance-compat",pt="@firebase/remote-config",mt="@firebase/remote-config-compat",gt="@firebase/storage",vt="@firebase/storage-compat",yt="@firebase/firestore",bt="@firebase/ai",wt="@firebase/firestore-compat",Dt="firebase",Et="[DEFAULT]",xt={[Ke]:"fire-core",[Xe]:"fire-core-compat",[Je]:"fire-analytics",[$e]:"fire-analytics-compat",[et]:"fire-app-check",[Ze]:"fire-app-check-compat",[tt]:"fire-auth",[nt]:"fire-auth-compat",[rt]:"fire-rtdb",[it]:"fire-data-connect",[st]:"fire-rtdb-compat",[ot]:"fire-fn",[at]:"fire-fn-compat",[ut]:"fire-iid",[lt]:"fire-iid-compat",[ct]:"fire-fcm",[ht]:"fire-fcm-compat",[dt]:"fire-perf",[ft]:"fire-perf-compat",[pt]:"fire-rc",[mt]:"fire-rc-compat",[gt]:"fire-gcs",[vt]:"fire-gcs-compat",[yt]:"fire-fst",[wt]:"fire-fst-compat",[bt]:"fire-vertex","fire-js":"fire-js",[Dt]:"fire-js-all"},Ct=new Map,_t=new Map,St=new Map;function At(e,t){try{e.container.addComponent(t)}catch(n){Ye.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function kt(e){const t=e.name;if(St.has(t))return Ye.debug("There were multiple attempts to register component ".concat(t,".")),!1;St.set(t,e);for(const n of Ct.values())At(n,e);for(const n of _t.values())At(n,e);return!0}function Tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Nt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ft=new le("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class It{constructor(e,t,n){this._isDeleted=!1,this._options=a({},e),this._config=a({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const Mt="12.8.0";function Pt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=a({name:Et,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(n||(n=X()),!n)throw Ft.create("no-options");const s=Ct.get(i);if(s){if(he(n,s.options)&&he(r,s.config))return s;throw Ft.create("duplicate-app",{appName:i})}const o=new Ee(i);for(const a of St.values())o.addComponent(a);const u=new It(n,r,o);return Ct.set(i,u),u}function Ot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;const t=Ct.get(e);if(!t&&e===Et&&X())return Pt();if(!t)throw Ft.create("no-app",{appName:e});return t}function Rt(e,t,n){var r;let i=null!==(r=xt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ye.warn(e.join(" "))}kt(new be("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Lt="firebase-heartbeat-store";let Bt=null;function jt(){return Bt||(Bt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ze(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ze(o.result),e.oldVersion,e.newVersion,ze(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Lt)}catch(n){console.warn(n)}}}).catch(e=>{throw Ft.create("idb-open",{originalErrorMessage:e.message})})),Bt}async function zt(e,t){try{const n=(await jt()).transaction(Lt,"readwrite"),r=n.objectStore(Lt);await r.put(t,Ut(e)),await n.done}catch(n){if(n instanceof ue)Ye.warn(n.message);else{const e=Ft.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ye.warn(e.message)}}}function Ut(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ht(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ye.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Wt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=W(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ye.warn(t),""}}}function qt(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ae()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jt()).transaction(Lt),n=await t.objectStore(Lt).get(Ut(e));return await t.done,n}catch(t){if(t instanceof ue)Ye.warn(t.message);else{const e=Ft.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ye.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return zt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return zt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Wt(e){return W(JSON.stringify({version:2,heartbeats:e})).length}var Gt;Gt="",kt(new be("platform-logger",e=>new Ge(e),"PRIVATE")),kt(new be("heartbeat",e=>new Vt(e),"PRIVATE")),Rt(Ke,Qe,Gt),Rt(Ke,Qe,"esm2020"),Rt("fire-js","");Rt("firebase","12.8.0","app");const Kt=["providerId"],Qt=["uid","auth","stsTokenManager"],Yt=["providerId","signInMethod"];function Xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $t=Xt,Jt=new le("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zt=new Te("@firebase/auth");function en(e){if(Zt.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zt.error("Auth (".concat(Mt,"): ").concat(e),...n)}}function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw an(e,...n)}function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return an(e,...n)}function rn(e,t,n){const r=a(a({},$t()),{},{[t]:n});return new le("auth","Firebase",r).create(t,{appName:e.name})}function sn(e){return rn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function on(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tn(e,"argument-error"),rn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Jt.create(e,...n)}function un(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw an(t,...r)}}function ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw en(t),new Error(t)}function cn(e,t){e||ln(t)}function hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function dn(){return"http:"===fn()||"https:"===fn()}function fn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function pn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(dn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class mn{constructor(e,t){this.shortDelay=e,this.longDelay=t,cn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return pn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(e,t){cn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class vn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wn=new mn(3e4,6e4);function Dn(e,t){return e.tenantId&&!t.tenantId?a(a({},t),{},{tenantId:e.tenantId}):t}async function En(e,t,n,r){return xn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=fe(a({key:e.config.apiKey},s)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const l=a({method:t,headers:u},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Z(e.emulatorConfig.host)&&(l.credentials="include"),vn.fetch()(await _n(e,e.config.apiHost,n,o),l)})}async function xn(e,t,n){e._canInitEmulator=!1;const r=a(a({},yn),t);try{const t=new An(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw kn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw kn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw kn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw kn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw rn(e,a,o);tn(e,a)}}catch(i){if(i instanceof ue)throw i;tn(e,"network-request-failed",{message:String(i)})}}async function Cn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await En(e,t,n,r,i);return"mfaPendingCredential"in s&&tn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function _n(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?gn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(bn.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function Sn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class An{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(nn(this.auth,"network-request-failed")),wn.get())})}}function kn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nn(e,t,r);return i.customData._tokenResponse=n,i}function Tn(e){return void 0!==e&&void 0!==e.enterprise}class Nn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fn(e,t){return En(e,"GET","/v2/recaptchaConfig",Dn(e,t))}async function In(e,t){return En(e,"POST","/v1/accounts:lookup",t)}function Mn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Pn(e){return 1e3*Number(e)}function On(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return en("JWT malformed, contained fewer than 3 sections"),null;try{const e=G(n);return e?JSON.parse(e):(en("Failed to decode base64 JWT payload"),null)}catch(i){return en("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Rn(e){const t=On(e);return un(t,"internal-error"),un("undefined"!==typeof t.exp,"internal-error"),un("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ln(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof ue&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Bn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class jn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mn(this.lastLoginAt),this.creationTime=Mn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ln(e,In(n,{idToken:r}));un(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?Un(s.providerUserInfo):[],a=(u=e.providerData,l=o,[...u.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var u,l;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Un(e){return e.map(e=>{let{providerId:t}=e,n=u(e,Kt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){un(e.idToken,"internal-error"),un("undefined"!==typeof e.idToken,"internal-error"),un("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Rn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){un(0!==e.length,"internal-error");const t=Rn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(un(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xn(e,{},async()=>{const n=fe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await _n(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&Z(e.emulatorConfig.host)&&(a.credentials="include"),vn.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Vn;return n&&(un("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(un("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(un("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return ln("not implemented")}}function qn(e,t){un("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=u(e,Qt);this.providerId="firebase",this.proactiveRefresh=new Bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ln(this,this.stsTokenManager.getToken(this.auth,e));return un(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ye(e),r=await n.getIdToken(t),i=On(r);un(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mn(Pn(i.auth_time)),issuedAtTime:Mn(Pn(i.iat)),expirationTime:Mn(Pn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ye(e);await zn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>a({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hn(a(a({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nt(this.auth.app))return Promise.reject(sn(this.auth));const e=await this.getIdToken();return await Ln(this,async function(e,t){return En(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return a(a({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>a({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,u,l,c;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:E,stsTokenManager:x}=t;un(b&&x,e,"internal-error");const C=Vn.fromJSON(this.name,x);un("string"===typeof b,e,"internal-error"),qn(h,e.name),qn(d,e.name),un("boolean"===typeof w,e,"internal-error"),un("boolean"===typeof D,e,"internal-error"),qn(f,e.name),qn(p,e.name),qn(m,e.name),qn(g,e.name),qn(v,e.name),qn(y,e.name);const _=new Hn({uid:b,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return E&&Array.isArray(E)&&(_.providerData=E.map(e=>a({},e))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Vn;r.updateFromServerResponse(t);const i=new Hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zn(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];un(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Un(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new Vn;o.updateFromIdToken(n);const a=new Hn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,u),a}}const Wn=new Map;function Gn(e){cn(e instanceof Function,"Expected a class definition");let t=Wn.get(e);return t?(cn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wn.set(e,t),t)}class Kn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kn.type="NONE";const Qn=Kn;function Yn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yn(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await In(this.auth,{idToken:e}).catch(()=>{});return t?Hn._fromGetAccountInfoResponse(this.auth,t,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xn(Gn(Qn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Gn(Qn);const s=Yn(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){let n;if("string"===typeof t){const r=await In(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Hn._fromGetAccountInfoResponse(e,r,t)}else n=Hn._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(u){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new Xn(i,e,n)):new Xn(i,e,n)}}function $n(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rr(t))return"Blackberry";if(ir(t))return"Webos";if(Zn(t))return"Safari";if((t.includes("chrome/")||er(t))&&!t.includes("edge/"))return"Chrome";if(nr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/firefox\//i.test(e)}function Zn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/crios\//i.test(e)}function tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iemobile/i.test(e)}function nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/android/i.test(e)}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/blackberry/i.test(e)}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/webos/i.test(e)}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function or(){return function(){const e=ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return sr(e)||nr(e)||ir(e)||rr(e)||/windows phone/i.test(e)||tr(e)}function ur(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$n(ie());break;case"Worker":t="".concat($n(ie()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mt,"/").concat(r)}class lr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class cr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class hr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fr(this),this.idTokenSubscription=new fr(this),this.beforeStateQueue=new lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Xn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await In(this,{idToken:e}),n=await Hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return un(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zn(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nt(this.app))return Promise.reject(sn(this));const t=e?ye(e):null;return t&&un(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&un(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nt(this.app)?Promise.reject(sn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nt(this.app)?Promise.reject(sn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return En(e,"GET","/v2/passwordPolicy",Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new cr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new le("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return En(e,"POST","/v2/accounts:revokeToken",Dn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gn(e)||this._popupRedirectResolver;un(t,this,"argument-error"),this.redirectPersistenceManager=await Xn.create(this,[Gn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(un(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return un(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Nt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Zt.logLevel<=Ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zt.warn("Auth (".concat(Mt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function dr(e){return ye(e)}class fr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ge(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mr(e){return pr.loadJS(e)}function gr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class vr{constructor(){this.enterprise=new yr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const br="NO_RECAPTCHA";class wr{constructor(e){this.type="recaptcha-enterprise",this.auth=dr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Tn(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(br)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new vr).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Fn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Nn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Tn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=pr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),mr(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Dr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new wr(e);let o;if(i)o=br;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const u=a({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in u){const e=u.phoneEnrollmentInfo.phoneNumber,t=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const e=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Er(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Dr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Dr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Dr(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Dr(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Dr(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function xr(e){const t=dr(e),n=await Fn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Nn(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new wr(t).verify()}}function Cr(e,t,n){const r=dr(e);un(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=_r(t),{host:o,port:a}=function(e){const t=_r(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sr(t)}}}(t),u=null===a?"":":".concat(a),l={url:"".concat(s,"//").concat(o).concat(u,"/")},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return un(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void un(he(l,r.config.emulator)&&he(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Z(o)?(ee("".concat(s,"//").concat(o).concat(u)),re("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _r(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ar{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ln("not implemented")}_getIdTokenResponse(e){return ln("not implemented")}_linkToIdToken(e,t){return ln("not implemented")}_getReauthenticationResolver(e){return ln("not implemented")}}async function kr(e,t){return En(e,"POST","/v1/accounts:signUp",t)}async function Tr(e,t){return Cn(e,"POST","/v1/accounts:signInWithPassword",Dn(e,t))}class Nr extends Ar{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Nr(e,t,"password")}static _fromEmailAndCode(e,t){return new Nr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Er(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Tr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cn(e,"POST","/v1/accounts:signInWithEmailLink",Dn(e,t))}(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Er(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cn(e,"POST","/v1/accounts:signInWithEmailLink",Dn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fr(e,t){return Cn(e,"POST","/v1/accounts:signInWithIdp",Dn(e,t))}class Ir extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=u(t,Yt);if(!n||!r)return null;const s=new Ir(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Fr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fe(t)}return e}}async function Mr(e,t){return En(e,"POST","/v1/accounts:sendVerificationCode",Dn(e,t))}const Pr={USER_NOT_FOUND:"user-not-found"};class Or extends Ar{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Or({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Or({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Cn(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Cn(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,t));if(n.temporaryProof)throw kn(e,"account-exists-with-different-credential",n);return n}(e,a({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Cn(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,a(a({},t),{},{operation:"REAUTH"})),Pr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Or({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Rr{constructor(e){var t,n,r,i,s,o;const a=pe(me(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);un(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=pe(me(e)).link,n=t?pe(me(t)).deep_link_id:null,r=pe(me(e)).deep_link_id;return(r?pe(me(r)).link:null)||r||n||t||e}(e);try{return new Rr(t)}catch(n){return null}}}class Lr{constructor(){this.providerId=Lr.PROVIDER_ID}static credential(e,t){return Nr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Rr.parseLink(t);return un(n,"argument-error"),Nr._fromEmailAndCode(e,n.code,n.tenantId)}}Lr.PROVIDER_ID="password",Lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Br{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jr extends Br{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zr extends jr{constructor(){super("facebook.com")}static credential(e){return Ir._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch(n){return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com",zr.PROVIDER_ID="facebook.com";class Ur extends jr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ir._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch(i){return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com",Ur.PROVIDER_ID="google.com";class Vr extends jr{constructor(){super("github.com")}static credential(e){return Ir._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch(n){return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com",Vr.PROVIDER_ID="github.com";class qr extends jr{constructor(){super("twitter.com")}static credential(e,t){return Ir._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qr.credential(n,r)}catch(i){return null}}}async function Hr(e,t){return Cn(e,"POST","/v1/accounts:signUp",Dn(e,t))}qr.TWITTER_SIGN_IN_METHOD="twitter.com",qr.PROVIDER_ID="twitter.com";class Wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Hn._fromIdTokenResponse(e,n,r),s=Gr(n);return new Wr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Gr(n);return new Wr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Gr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Kr extends ue{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Kr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Kr(e,t,n,r)}}function Qr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Kr._fromErrorAndOperation(e,n,t,r);throw n})}async function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ln(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wr._forOperation(e,"link",r)}async function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Nt(r.app))return Promise.reject(sn(r));const i="reauthenticate";try{const s=await Ln(e,Qr(r,i,t,e),n);un(s.idToken,r,"internal-error");const o=On(s.idToken);un(o,r,"internal-error");const{sub:a}=o;return un(e.uid===a,r,"user-mismatch"),Wr._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&tn(r,"user-mismatch"),s}}async function $r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Nt(e.app))return Promise.reject(sn(e));const r="signIn",i=await Qr(e,r,t),s=await Wr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Jr(e,t){return $r(dr(e),t)}async function Zr(e){const t=dr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ei(e,t){return En(e,"POST","/v2/accounts/mfaEnrollment:start",Dn(e,t))}new WeakMap;const ti="__sak";class ni{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ri extends ni{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ar(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);or()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ri.type="LOCAL";const ii=ri;function si(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function oi(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ai{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=oi(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return si(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=oi(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=oi(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=si(n);const i=setInterval(()=>{const e=si(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ai.type="COOKIE";class ui extends ni{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ui.type="SESSION";const li=ui;class ci{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ci(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ci.receivers=[];class di{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const u=hi("",20);r.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function fi(){return window}function pi(){return"undefined"!==typeof fi().WorkerGlobalScope&&"function"===typeof fi().importScripts}const mi="firebaseLocalStorageDb",gi="firebaseLocalStorage",vi="fbase_key";class yi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bi(e,t){return e.transaction([gi],t?"readwrite":"readonly").objectStore(gi)}function wi(){const e=indexedDB.open(mi,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(gi,{keyPath:vi})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(gi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mi);return new yi(e).toPromise()}(),t(await wi()))})})}async function Di(e,t,n){const r=bi(e,!0).put({[vi]:t,value:n});return new yi(r).toPromise()}function Ei(e,t){const n=bi(e,!0).delete(t);return new yi(n).toPromise()}class xi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await wi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ci._getInstance(pi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new di(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wi();return await Di(e,ti,"1"),await Ei(e,ti),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Di(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=bi(e,!1).get(t),r=await new yi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ei(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=bi(e,!1).getAll();return new yi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xi.type="LOCAL";const Ci=xi;function _i(e,t){return En(e,"POST","/v2/accounts/mfaSignIn:start",Dn(e,t))}gr("rcb"),new mn(3e4,6e4);const Si="recaptcha";async function Ai(e,t,n){if(!e._getRecaptchaConfig())try{await xr(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){un("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Er(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===br){un((null===n||void 0===n?void 0:n.type)===Si,e,"argument-error");return ei(e,await ki(e,t,n))}return ei(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;un("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;un(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Er(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===br){un((null===n||void 0===n?void 0:n.type)===Si,e,"argument-error");return _i(e,await ki(e,t,n))}return _i(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Er(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===br){un((null===n||void 0===n?void 0:n.type)===Si,e,"argument-error");return Mr(e,await ki(e,t,n))}return Mr(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ki(e,t,n){un(n.type===Si,e,"argument-error");const r=await n.verify();un("string"===typeof r,e,"argument-error");const i=a({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ti{constructor(e){this.providerId=Ti.PROVIDER_ID,this.auth=dr(e)}verifyPhoneNumber(e,t){return Ai(this.auth,e,ye(t))}static credential(e,t){return Or._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ti.credentialFromTaggedObject(t)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Or._fromTokenResponse(n,r):null}}function Ni(e,t){return t?Gn(t):(un(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ti.PROVIDER_ID="phone",Ti.PHONE_SIGN_IN_METHOD="phone";class Fi extends Ar{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ii(e){return $r(e.auth,new Fi(e),e.bypassAuthState)}function Mi(e){const{auth:t,user:n}=e;return un(n,t,"internal-error"),Xr(n,new Fi(e),e.bypassAuthState)}async function Pi(e){const{auth:t,user:n}=e;return un(n,t,"internal-error"),Yr(n,new Fi(e),e.bypassAuthState)}class Oi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Pi;case"reauthViaPopup":case"reauthViaRedirect":return Mi;default:tn(this.auth,"internal-error")}}resolve(e){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ri=new mn(2e3,1e4);async function Li(e,t,n){if(Nt(e.app))return Promise.reject(nn(e,"operation-not-supported-in-this-environment"));const r=dr(e);on(e,t,Br);const i=Ni(r,n);return new Bi(r,"signInViaPopup",t,i).executeNotNull()}class Bi extends Oi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return un(e,this.auth,"internal-error"),e}async onExecution(){cn(1===this.filter.length,"Popup operations only handle one event");const e=hi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ri.get())};e()}}Bi.currentPopupAction=null;const ji=new Map;class zi extends Oi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ji.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qi(t),r=Vi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ji.set(this.auth._key(),e)}return this.bypassAuthState||ji.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ui(e,t){ji.set(e._key(),t)}function Vi(e){return Gn(e._redirectPersistence)}function qi(e){return Yn("pendingRedirect",e.config.apiKey,e.name)}async function Hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Nt(e.app))return Promise.reject(sn(e));const r=dr(e),i=Ni(r,t),s=new zi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Wi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ki(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ki(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gi(e))}saveEventToCache(e){this.cachedEventUids.add(Gi(e)),this.lastProcessedEventTime=Date.now()}}function Gi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ki(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yi=/^https?/;async function Xi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return En(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($i(r))return}catch(n){}tn(e,"unauthorized-domain")}function $i(e){const t=hn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Yi.test(n))return!1;if(Qi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ji=new mn(3e4,6e4);function Zi(){const e=fi().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function es(e){return new Promise((t,n)=>{var r,i;function s(){Zi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zi(),n(nn(e,"network-request-failed"))},timeout:Ji.get()})}if(null!==(r=fi().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=fi().gapi)||void 0===i||!i.load){const t=gr("iframefcb");return fi()[t]=()=>{gapi.load?s():n(nn(e,"network-request-failed"))},mr("".concat(pr.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw ts=null,e})}let ts=null;const ns=new mn(5e3,15e3),rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},is=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ss(e){const t=e.config;un(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Mt},i=is.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(fe(r).slice(1))}async function os(e){const t=await function(e){return ts=ts||es(e),ts}(e),n=fi().gapi;return un(n,e,"internal-error"),t.open({where:document.body,url:ss(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=nn(e,"network-request-failed"),s=fi().setTimeout(()=>{r(i)},ns.get());function o(){fi().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const as={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class us{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=a(a({},as),{},{width:r.toString(),height:i.toString(),top:s,left:o}),c=ie().toLowerCase();n&&(u=er(c)?"_blank":n),Jn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return sr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new us(null);const d=window.open(t||"",u,h);un(d,e,"popup-blocked");try{d.focus()}catch(f){}return new us(d)}const cs="__/auth/handler",hs="emulator/auth/handler",ds=encodeURIComponent("fac");async function fs(e,t,n,r,i,s){un(e.config.authDomain,e,"auth-domain-config-required"),un(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mt,eventId:i};if(t instanceof Br){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof jr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const u=await e._getAppCheckToken(),l=u?"#".concat(ds,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(cs);return gn(t,hs)}(e),"?").concat(fe(a).slice(1)).concat(l)}const ps="webStorageSupport";const ms=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=li,this._completeRedirectFn=Hi,this._overrideRedirectResult=Ui}async _openPopup(e,t,n,r){var i;cn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ls(e,await fs(e,t,n,hn(),r),hi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){fi().location.href=e}(await fs(e,t,n,hn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await os(e),n=new Wi(e);return t.register("authEvent",t=>{un(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ps,{type:ps},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[ps];void 0!==i&&t(!!i),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ar()||Zn()||sr()}};var gs="@firebase/auth",vs="1.12.0";class ys{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bs=$("authIdTokenMaxAge")||300;let ws=null;var Ds,Es;Ds={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=nn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},pr=Ds,Es="Browser",kt(new be("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;un(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:Es,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ur(Es)},l=new hr(r,i,s,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),kt(new be("auth-internal",e=>(e=>new ys(e))(dr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(gs,vs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Es)),Rt(gs,vs,"esm2020");var xs,Cs,_s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ss={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),u=s(1),l=s(16777216);function c(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(u)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var l=s.add(r);l.l(e)<=0&&(i=i.add(n),s=l),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),l=(s=o(n)).j(t);h(l)||l.l(e)>0;)l=(s=o(n-=r)).j(t);c(s)&&(s=u),i=i.add(s),e=f(e,l)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(l)<0&&e.l(l)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Cs=Ss.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},xs=Ss.Integer=r}).apply("undefined"!==typeof _s?_s:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var As,ks,Ts,Ns,Fs,Is,Ms,Ps,Os="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Rs={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Os&&Os];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function u(e,t,n){return(u=a).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function c(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},D=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(E)}};function E(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function x(){this.u=this.u,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function S(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}c(A,C),A.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var k="closure_listenable_"+(1e6*Math.random()|0),T=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++T,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}R.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=B(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new N(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var j="closure_lm_"+(1e6*Math.random()|0),z={};function U(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)U(e,t[s],n,r,i);return null}return n=X(n),e&&e[k]?e.J(t,n,o(r)?!!r.capture:!!r,i):V(e,t,n,!1,r,i)}function V(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let u=Q(e);if(u||(e[j]=u=new R(e)),(n=u.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[k]?e.K(t,n,o(r)?!!r.capture:!!r,i):V(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[k]?(e=e.i,(s=String(t).toString())in e.g&&((n=B(t=e.g[s],n,r,i))>-1&&(F(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[k])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(L(n,e),0==n.h&&(n.src=null,t[j]=null)):F(e)}}}function G(e){return e in z?z[e]:z[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new A(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[j])instanceof R?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){x.call(this),this.i=new R(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;O(t=new C(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&L(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}c($,x),$.prototype[k]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)F(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}c(ne,x);var re=[];function ie(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ue(){}function le(){}var ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){C.call(this,"d")}function de(){C.call(this,"c")}c(he,C),c(de,C);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){C.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){C.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ye(t,e))}function we(e,t){C.call(this,fe.Ja,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",c(ge,C),fe.STAT_EVENT="statevent",c(ye,C),fe.Ja="timingevent",c(we,C),Ee.prototype.ua=function(){this.g=!1},Ee.prototype.info=function(){};var Ce,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Se={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ae(){}function ke(e){return encodeURIComponent(String(e))}function Te(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ne(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}c(Ae,ue),Ae.prototype.g=function(){return new XMLHttpRequest},Ce=new Ae;var Ie={},Me={};function Pe(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Be(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Fe,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(u(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=U(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var u=a[e].split("=");if(u.length>1){const e=u[0];u=u[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+u+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Re(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Ie:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.T=Date.now()+e.H,je(e,e.H)}function je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=De(u(e.aa,e),t)}function ze(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||en(e.j,e)}function Ve(e){ze(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=De(u(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!S(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let u=i[t];const c=u[0];if(!(c<=n.K))if(n.K=c,u=u[1],2==n.I)if("c"==u[0]){n.M=u[1],n.ba=u[2];const t=u[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=u[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&c>0&&(r=1.5*c,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,l=r.O;l&&(a.H=l),a.D&&(ze(a),Be(a)),r.g=o}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=u[0]&&"close"!=u[0]||nn(n,7);else 3==n.I&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?nn(n,7):Vt(n):"noop"!=u[0]&&n.l&&n.l.qa(u),n.A=0)}ve()}catch(c){}}Ne.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Bt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const u=Bt(this.g),l=this.g.ya();this.g.ca();if(!(u<3)&&(3!=u||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||4!=u||7==l||ve(),ze(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Re(e))return e.g.la();const t=jt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Bt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ve(e),Ue(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,u,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),Ve(this),Ue(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Me){4==u&&(this.m=4,be(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ie){this.m=4,be(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),qe(this,t)}if(Re(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=u||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Ve(this),Ue(this)}else xe(this.i,this.l,n,null),qe(this,n);4==u&&Ve(this),this.o&&!this.K&&(4==u?en(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&Bt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=Te(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Ve(this),Ue(this)}}}catch(u){}},Ne.prototype.cancel=function(){this.K=!0,Ve(this)},Ne.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Ve(this),this.m=2,Ue(this)):je(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ut(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,lt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,lt,!0),"@"),e.push(ke(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var lt=/[#\/\?@]/g,ct=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=Dt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(Dt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(Dt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new ae}function Ct(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function St(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.B=null,kt(e)}function kt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Tt(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Nt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tt(n),"string"===typeof e?null!=n&&ke(n):it(e,t,n))}function Ft(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=Dt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=ke(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+ke(n[t])),e.push(r)}}return this.i=e.join("&")},c(Ct,ue),Ct.prototype.g=function(){return new _t(this.i,this.h)},c(_t,$),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,kt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;St(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):kt(this),3==this.readyState&&St(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Na=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),c(Ft,$);var It=/^https?$/i,Mt=["POST","PUT"];function Pt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Lt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Rt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Bt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!It.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Bt(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Ot(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Bt(e){return e.g?e.g.readyState:0}function jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zt("baseRetryDelayMs",5e3,e),this.Za=zt("retryDelaySeedMs",1e4,e),this.Ta=zt("forwardChannelMaxRetries",2,e),this.va=zt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Vt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Ne(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Be(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||D(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&Nt(r,e.u,e.o),n=new Ne(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Pe(n,r,t)}function Kt(e,t){e.H&&I(e.H,function(e,n){it(t,n,e)}),e.l&&I({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?u(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let u=!0;for(let l=0;l<n;l++){var s=i[l].g;const n=i[l].map;if((s-=t)<0)t=Math.max(0,i[l].g-100),u=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(mo){throw e.push(s+"type="+encodeURIComponent("_badmap")),mo}}catch(mo){r&&r(n)}}if(u){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||D(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=De(u(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&Nt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=De(u(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Ee;if(s.Image){const r=new Image;r.onload=l(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=l(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ft(new Ct({ab:n})):new Ft(e.ma)).Fa(e.L),t}function an(){}function un(){}function ln(e,t){$.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!S(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function cn(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Ft.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ce.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Pt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Mt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Pt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),Ft.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rt(this):this.Xa())},e.Xa=function(){Rt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Bt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ne(this,this.j,e);let s=this.o;if(this.U&&(s?(s=M(s),O(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),s&&(this.R?t="headers="+ke(Tt(s))+"&"+t:this.u&&Nt(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Pe(i,n,null)):Pe(i,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=De(u(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},un.prototype.g=function(e,t){return new ln(e,t)},c(ln,$),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Vt(this.g)},ln.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},ln.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,ln.Z.N.call(this)},c(cn,he),c(hn,de),c(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new cn(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},un.prototype.createWebChannel=un.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Ps=Rs.createWebChannelTransport=function(){return new un},Ms=Rs.getStatEventTarget=function(){return me()},Is=Rs.Event=fe,Fs=Rs.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Ns=Rs.ErrorCode=_e,Se.COMPLETE="complete",Ts=Rs.EventType=Se,le.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",$.prototype.listen=$.prototype.J,ks=Rs.WebChannel=le,Rs.FetchXmlHttpFactory=Ct,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,As=Rs.XhrIo=Ft}).apply("undefined"!==typeof Os?Os:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class Ls{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ls.UNAUTHENTICATED=new Ls(null),Ls.GOOGLE_CREDENTIALS=new Ls("google-credentials-uid"),Ls.FIRST_PARTY=new Ls("first-party-uid"),Ls.MOCK_USER=new Ls("mock-user");let Bs="12.8.0";const js=new Te("@firebase/firestore");function zs(){return js.logLevel}function Us(e){if(js.logLevel<=Ce.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hs);js.debug("Firestore (".concat(Bs,"): ").concat(e),...i)}}function Vs(e){if(js.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hs);js.error("Firestore (".concat(Bs,"): ").concat(e),...i)}}function qs(e){if(js.logLevel<=Ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hs);js.warn("Firestore (".concat(Bs,"): ").concat(e),...i)}}function Hs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ws(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Gs(e,r,n)}function Gs(e,t,n){let r="FIRESTORE (".concat(Bs,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Ks(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Gs(t,i,r)}function Qs(e,t){return e}const Ys={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xs extends ue{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class $s{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Js{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ls.UNAUTHENTICATED))}shutdown(){}}class eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class to{constructor(e){this.t=e,this.currentUser=Ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ks(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $s,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Us("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Us("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $s)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Us("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ks("string"==typeof t.accessToken,31837,{l:t}),new Js(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ks(null===e||"string"==typeof e,2055,{h:e}),new Ls(e)}}class no{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ls.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ro{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new no(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ls.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class io{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class so{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ks(void 0===this.o,3512);const n=e=>{null!=e.error&&Us("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Us("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Us("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Us("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new io(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ks("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new io(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ao{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=oo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function uo(e,t){return e<t?-1:e>t?1:0}function lo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return fo(n)===fo(i)?uo(n,i):fo(n)?1:-1}return uo(e.length,t.length)}const co=55296,ho=57343;function fo(e){const t=e.charCodeAt(0);return t>=co&&t<=ho}function po(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const mo="__name__";class go{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ws(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ws(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof go?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=go.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return uo(e.length,t.length)}static compareSegments(e,t){const n=go.isNumericId(e),r=go.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?go.extractNumericId(e).compare(go.extractNumericId(t)):lo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class vo extends go{construct(e,t,n){return new vo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Xs(Ys.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new vo(e)}static emptyPath(){return new vo([])}}const yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bo extends go{construct(e,t,n){return new bo(e,t,n)}static isValidIdentifier(e){return yo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===mo}static keyField(){return new bo([mo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Xs(Ys.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Xs(Ys.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Xs(Ys.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Xs(Ys.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bo(t)}static emptyPath(){return new bo([])}}class wo{constructor(e){this.path=e}static fromPath(e){return new wo(vo.fromString(e))}static fromName(e){return new wo(vo.fromString(e).popFirst(5))}static empty(){return new wo(vo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wo(new vo(e.slice()))}}function Do(e,t,n){if(!n)throw new Xs(Ys.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Eo(e){if(!wo.isDocumentKey(e))throw new Xs(Ys.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xo(e){if(wo.isDocumentKey(e))throw new Xs(Ys.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Co(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function _o(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ws(12329,{type:typeof e})}function So(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xs(Ys.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_o(e);throw new Xs(Ys.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ao(e,t){const n={typeString:e};return t&&(n.value=t),n}function ko(e,t){if(!Co(e))throw new Xs(Ys.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Xs(Ys.INVALID_ARGUMENT,n);return!0}const To=-62135596800,No=1e6;class Fo{static now(){return Fo.fromMillis(Date.now())}static fromDate(e){return Fo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*No);return new Fo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xs(Ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xs(Ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<To)throw new Xs(Ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xs(Ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/No}_compareTo(e){return this.seconds===e.seconds?uo(this.nanoseconds,e.nanoseconds):uo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fo._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ko(e,Fo._jsonSchema))return new Fo(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-To;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fo._jsonSchemaVersion="firestore/timestamp/1.0",Fo._jsonSchema={type:Ao("string",Fo._jsonSchemaVersion),seconds:Ao("number"),nanoseconds:Ao("number")};class Io{static fromTimestamp(e){return new Io(e)}static min(){return new Io(new Fo(0,0))}static max(){return new Io(new Fo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;class Po{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Po.UNKNOWN_ID=-1;function Oo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Io.fromTimestamp(1e9===r?new Fo(n+1,0):new Fo(n,r));return new Lo(i,wo.empty(),t)}function Ro(e){return new Lo(e.readTime,e.key,Mo)}class Lo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Lo(Io.min(),wo.empty(),Mo)}static max(){return new Lo(Io.max(),wo.empty(),Mo)}}function Bo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=wo.comparator(e.documentKey,t.documentKey),0!==n?n:uo(e.largestBatchId,t.largestBatchId))}const jo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Uo(e){if(e.code!==Ys.FAILED_PRECONDITION||e.message!==jo)throw e;Us("LocalStore","Unexpectedly lost primary lease")}class Vo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ws(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Vo?t:Vo.resolve(t)}catch(e){return Vo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Vo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Vo.reject(t)}static resolve(e){return new Vo((t,n)=>{t(e)})}static reject(e){return new Vo((t,n)=>{n(e)})}static waitFor(e){return new Vo((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Vo.resolve(!1);for(const n of e)t=t.next(e=>e?Vo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Vo((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;t(e[u]).next(e=>{s[u]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Vo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function qo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(e){return"IndexedDbTransactionError"===e.name}class Wo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wo.ce=-1;const Go=-1;function Ko(e){return null==e}function Qo(e){return 0===e&&1/e==-1/0}function Yo(e){return"number"==typeof e&&Number.isInteger(e)&&!Qo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Xo="\x01";function $o(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zo(t)),t=Jo(e.get(n),t);return Zo(t)}function Jo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Xo:n+="\x01\x11";break;default:n+=t}}return n}function Zo(e){return e+Xo+"\x01"}const ea="remoteDocuments",ta="owner",na="mutationQueues",ra="mutations";const ia="documentMutations",sa="remoteDocumentsV14",oa="remoteDocumentGlobal",aa="targets",ua="targetDocuments",la="targetGlobal",ca="collectionParents",ha="clientMetadata",da="bundles",fa="namedQueries",pa="indexConfiguration",ma="indexState",ga="indexEntries",va="documentOverlays",ya="globals",ba=[na,ra,ia,ea,aa,ta,la,ua,ha,oa,ca,da,fa],wa=[na,ra,ia,sa,aa,ta,la,ua,ha,oa,ca,da,fa,va],Da=wa,Ea=[...Da,pa,ma,ga];function xa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ca(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _a(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sa{constructor(e,t){this.comparator=e,this.root=t||ka.EMPTY}insert(e,t){return new Sa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ka.BLACK,null,null))}remove(e){return new Sa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ka.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ka{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ka.RED,this.left=null!=r?r:ka.EMPTY,this.right=null!=i?i:ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ka(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ka.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ws(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ws(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ws(27949);return e+(this.isRed()?0:1)}}ka.EMPTY=null,ka.RED=!0,ka.BLACK=!1,ka.EMPTY=new class{constructor(){this.size=0}get key(){throw Ws(57766)}get value(){throw Ws(16141)}get color(){throw Ws(16727)}get left(){throw Ws(29726)}get right(){throw Ws(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ka(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ta{constructor(e){this.comparator=e,this.data=new Sa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Na(this.data.getIterator())}getIteratorFrom(e){return new Na(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ta))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ta(this.comparator);return t.data=e,t}}class Na{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fa{constructor(e){this.fields=e,e.sort(bo.comparator)}static empty(){return new Fa([])}unionWith(e){let t=new Ta(bo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ia extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ma{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ia("Invalid base64 string: "+e):e}}(e);return new Ma(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ma(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return uo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ma.EMPTY_BYTE_STRING=new Ma("");const Pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(e){if(Ks(!!e,39018),"string"==typeof e){let t=0;const n=Pa.exec(e);if(Ks(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ra(e.seconds),nanos:Ra(e.nanos)}}function Ra(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function La(e){return"string"==typeof e?Ma.fromBase64String(e):Ma.fromUint8Array(e)}const Ba="server_timestamp",ja="__type__",za="__previous_value__",Ua="__local_write_time__";function Va(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ja])||void 0===t?void 0:t.stringValue)===Ba}function qa(e){const t=e.mapValue.fields[za];return Va(t)?qa(t):t}function Ha(e){const t=Oa(e.mapValue.fields[Ua].timestampValue);return new Fo(t.seconds,t.nanos)}class Wa{constructor(e,t,n,r,i,s,o,a,u,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u,this.isUsingEmulator=l,this.apiKey=c}}const Ga="(default)";class Ka{constructor(e,t){this.projectId=e,this.database=t||Ga}static empty(){return new Ka("","")}get isDefaultDatabase(){return this.database===Ga}isEqual(e){return e instanceof Ka&&e.projectId===this.projectId&&e.database===this.database}}const Qa="__type__",Ya="__max__",Xa={mapValue:{fields:{__type__:{stringValue:Ya}}}},$a="__vector__",Ja="value";function Za(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Va(e)?4:mu(e)?9007199254740991:fu(e)?10:11:Ws(28295,{value:e})}function eu(e,t){if(e===t)return!0;const n=Za(e);if(n!==Za(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ha(e).isEqual(Ha(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Oa(e.timestampValue),r=Oa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return La(e.bytesValue).isEqual(La(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ra(e.geoPointValue.latitude)===Ra(t.geoPointValue.latitude)&&Ra(e.geoPointValue.longitude)===Ra(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ra(e.integerValue)===Ra(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ra(e.doubleValue),r=Ra(t.doubleValue);return n===r?Qo(n)===Qo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],eu);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xa(n)!==xa(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eu(n[i],r[i])))return!1;return!0}(e,t);default:return Ws(52216,{left:e})}}function tu(e,t){return void 0!==(e.values||[]).find(e=>eu(e,t))}function nu(e,t){if(e===t)return 0;const n=Za(e),r=Za(t);if(n!==r)return uo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return uo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ra(e.integerValue||e.doubleValue),r=Ra(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ru(e.timestampValue,t.timestampValue);case 4:return ru(Ha(e),Ha(t));case 5:return lo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=La(e),r=La(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=uo(n[i],r[i]);if(0!==e)return e}return uo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=uo(Ra(e.latitude),Ra(t.latitude));return 0!==n?n:uo(Ra(e.longitude),Ra(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return iu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},u=null===(n=o[Ja])||void 0===n?void 0:n.arrayValue,l=null===(r=a[Ja])||void 0===r?void 0:r.arrayValue,c=uo((null===u||void 0===u||null===(i=u.values)||void 0===i?void 0:i.length)||0,(null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:iu(u,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Xa.mapValue&&t===Xa.mapValue)return 0;if(e===Xa.mapValue)return 1;if(t===Xa.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=lo(r[o],s[o]);if(0!==e)return e;const t=nu(n[r[o]],i[s[o]]);if(0!==t)return t}return uo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ws(23264,{he:n})}}function ru(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uo(e,t);const n=Oa(e),r=Oa(t),i=uo(n.seconds,r.seconds);return 0!==i?i:uo(n.nanos,r.nanos)}function iu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=nu(n[i],r[i]);if(e)return e}return uo(n.length,r.length)}function su(e){return ou(e)}function ou(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Oa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return La(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return wo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ou(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ou(e.fields[i]));return n+"}"}(e.mapValue):Ws(61005,{value:e})}function au(e){switch(Za(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qa(e);return t?16+au(t):16;case 5:return 2*e.stringValue.length;case 6:return La(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+au(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ca(e.fields,(e,n)=>{t+=e.length+au(n)}),t}(e.mapValue);default:throw Ws(13486,{value:e})}}function uu(e){return!!e&&"integerValue"in e}function lu(e){return!!e&&"arrayValue"in e}function cu(e){return!!e&&"nullValue"in e}function hu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function du(e){return!!e&&"mapValue"in e}function fu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Qa])||void 0===t?void 0:t.stringValue)===$a}function pu(e){if(e.geoPointValue)return{geoPointValue:a({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:a({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ca(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=pu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pu(e.arrayValue.values[n]);return t}return a({},e)}function mu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ya}class gu{constructor(e){this.value=e}static empty(){return new gu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(t)}setAll(e){let t=bo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=pu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ca(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new gu(pu(this.value))}}function vu(e){const t=[];return Ca(e.fields,(e,n)=>{const r=new bo([e]);if(du(n)){const e=vu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Fa(t)}class yu{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new yu(e,0,Io.min(),Io.min(),Io.min(),gu.empty(),0)}static newFoundDocument(e,t,n,r){return new yu(e,1,t,Io.min(),n,r,0)}static newNoDocument(e,t){return new yu(e,2,t,Io.min(),Io.min(),gu.empty(),0)}static newUnknownDocument(e,t){return new yu(e,3,t,Io.min(),Io.min(),gu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Io.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Io.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class bu{constructor(e,t){this.position=e,this.inclusive=t}}function wu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?wo.comparator(wo.fromName(o.referenceValue),n.key):nu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Du(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!eu(e.position[n],t.position[n]))return!1;return!0}class Eu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function xu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Cu{}class _u extends Cu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Mu(e,t,n):"array-contains"===t?new Lu(e,n):"in"===t?new Bu(e,n):"not-in"===t?new ju(e,n):"array-contains-any"===t?new zu(e,n):new _u(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pu(e,n):new Ou(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(nu(t,this.value)):null!==t&&Za(this.value)===Za(t)&&this.matchesComparison(nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ws(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Su extends Cu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Su(e,t)}matches(e){return Au(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Au(e){return"and"===e.op}function ku(e){return Tu(e)&&Au(e)}function Tu(e){for(const t of e.filters)if(t instanceof Su)return!1;return!0}function Nu(e){if(e instanceof _u)return e.field.canonicalString()+e.op.toString()+su(e.value);if(ku(e))return e.filters.map(e=>Nu(e)).join(",");{const t=e.filters.map(e=>Nu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fu(e,t){return e instanceof _u?function(e,t){return t instanceof _u&&e.op===t.op&&e.field.isEqual(t.field)&&eu(e.value,t.value)}(e,t):e instanceof Su?function(e,t){return t instanceof Su&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Fu(n,t.filters[r]),!0)}(e,t):void Ws(19439)}function Iu(e){return e instanceof _u?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(su(e.value))}(e):e instanceof Su?function(e){return e.op.toString()+" {"+e.getFilters().map(Iu).join(" ,")+"}"}(e):"Filter"}class Mu extends _u{constructor(e,t,n){super(e,t,n),this.key=wo.fromName(n.referenceValue)}matches(e){const t=wo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pu extends _u{constructor(e,t){super(e,"in",t),this.keys=Ru("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ou extends _u{constructor(e,t){super(e,"not-in",t),this.keys=Ru("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ru(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>wo.fromName(e.referenceValue))}class Lu extends _u{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lu(t)&&tu(t.arrayValue,this.value)}}class Bu extends _u{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tu(this.value.arrayValue,t)}}class ju extends _u{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!tu(this.value.arrayValue,t)}}class zu extends _u{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>tu(this.value.arrayValue,e))}}class Uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Vu(e){return new Uu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qu(e){const t=Qs(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Nu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ko(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>su(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>su(e)).join(",")),t.Te=e}return t.Te}function Hu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Du(e.startAt,t.startAt)&&Du(e.endAt,t.endAt)}function Wu(e){return wo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ku(e,t,n,r,i,s,o,a){return new Gu(e,t,n,r,i,s,o,a)}function Qu(e){return new Gu(e)}function Yu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xu(e){return null!==e.collectionGroup}function $u(e){const t=Qs(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ta(bo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Eu(r,n))}),e.has(bo.keyField().canonicalString())||t.Ie.push(new Eu(bo.keyField(),n))}return t.Ie}function Ju(e){const t=Qs(e);return t.Ee||(t.Ee=Zu(t,$u(e))),t.Ee}function Zu(e,t){if("F"===e.limitType)return Vu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Eu(e.field,t)});const n=e.endAt?new bu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bu(e.startAt.position,e.startAt.inclusive):null;return Vu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function el(e,t,n){return new Gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tl(e,t){return Hu(Ju(e),Ju(t))&&e.limitType===t.limitType}function nl(e){return"".concat(qu(Ju(e)),"|lt:").concat(e.limitType)}function rl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Iu(e)).join(", "),"]")),Ko(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>su(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>su(e)).join(",")),"Target(".concat(t,")")}(Ju(e)),"; limitType=").concat(e.limitType,")")}function il(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $u(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=wu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$u(e),t))&&!(e.endAt&&!function(e,t,n){const r=wu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$u(e),t))}(e,t)}function sl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ol(e){return(t,n)=>{let r=!1;for(const i of $u(e)){const e=al(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function al(e,t,n){const r=e.field.isKeyField()?wo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nu(r,i):Ws(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ws(19790,{direction:e.dir})}}class ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return _a(this.inner)}size(){return this.innerSize}}const ll=new Sa(wo.comparator);function cl(){return ll}const hl=new Sa(wo.comparator);function dl(){let e=hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function fl(e){let t=hl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function pl(){return gl()}function ml(){return gl()}function gl(){return new ul(e=>e.toString(),(e,t)=>e.isEqual(t))}const vl=new Sa(wo.comparator),yl=new Ta(wo.comparator);function bl(){let e=yl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const wl=new Ta(uo);function Dl(){return wl}function El(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(t)?"-0":t}}function xl(e){return{integerValue:""+e}}function Cl(e,t){return Yo(t)?xl(t):El(e,t)}class _l{constructor(){this._=void 0}}function Sl(e,t,n){return e instanceof Tl?function(e,t){const n={fields:{[ja]:{stringValue:Ba},[Ua]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Va(t)&&(t=qa(t)),t&&(n.fields[za]=t),{mapValue:n}}(n,t):e instanceof Nl?Fl(e,t):e instanceof Il?Ml(e,t):function(e,t){const n=kl(e,t),r=Ol(n)+Ol(e.Ae);return uu(n)&&uu(e.Ae)?xl(r):El(e.serializer,r)}(e,t)}function Al(e,t,n){return e instanceof Nl?Fl(e,t):e instanceof Il?Ml(e,t):n}function kl(e,t){return e instanceof Pl?function(e){return uu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Tl extends _l{}class Nl extends _l{constructor(e){super(),this.elements=e}}function Fl(e,t){const n=Rl(t);for(const r of e.elements)n.some(e=>eu(e,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends _l{constructor(e){super(),this.elements=e}}function Ml(e,t){let n=Rl(t);for(const r of e.elements)n=n.filter(e=>!eu(e,r));return{arrayValue:{values:n}}}class Pl extends _l{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ol(e){return Ra(e.integerValue||e.doubleValue)}function Rl(e){return lu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ll{constructor(e,t){this.version=e,this.transformResults=t}}class Bl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bl}static exists(e){return new Bl(void 0,e)}static updateTime(e){return new Bl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class zl{}function Ul(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $l(e.key,Bl.none()):new Gl(e.key,e.data,Bl.none());{const n=e.data,r=gu.empty();let i=new Ta(bo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Kl(e.key,r,new Fa(i.toArray()),Bl.none())}}function Vl(e,t,n){e instanceof Gl?function(e,t,n){const r=e.value.clone(),i=Yl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kl?function(e,t,n){if(!jl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ql(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ql(e,t,n,r){return e instanceof Gl?function(e,t,n,r){if(!jl(e.precondition,t))return n;const i=e.value.clone(),s=Xl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kl?function(e,t,n,r){if(!jl(e.precondition,t))return n;const i=Xl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ql(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return jl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kl(r.transform,e||null);null!=i&&(null===n&&(n=gu.empty()),n.set(r.field,i))}return n||null}function Wl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&po(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nl&&t instanceof Nl||e instanceof Il&&t instanceof Il?po(e.elements,t.elements,eu):e instanceof Pl&&t instanceof Pl?eu(e.Ae,t.Ae):e instanceof Tl&&t instanceof Tl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gl extends zl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kl extends zl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ql(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yl(e,t,n){const r=new Map;Ks(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Al(o,a,n[i]))}return r}function Xl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Sl(e,s,t))}return r}class $l extends zl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jl extends zl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ql(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ql(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ml();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ul(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Io.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bl())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(e,t)=>Wl(e,t))&&po(this.baseMutations,e.baseMutations,(e,t)=>Wl(e,t))}}class ec{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ks(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=vl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ec(e,t,n,r)}}class tc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nc{constructor(e,t){this.count=e,this.unchangedNames=t}}var rc,ic;function sc(e){switch(e){case Ys.OK:return Ws(64938);case Ys.CANCELLED:case Ys.UNKNOWN:case Ys.DEADLINE_EXCEEDED:case Ys.RESOURCE_EXHAUSTED:case Ys.INTERNAL:case Ys.UNAVAILABLE:case Ys.UNAUTHENTICATED:return!1;case Ys.INVALID_ARGUMENT:case Ys.NOT_FOUND:case Ys.ALREADY_EXISTS:case Ys.PERMISSION_DENIED:case Ys.FAILED_PRECONDITION:case Ys.ABORTED:case Ys.OUT_OF_RANGE:case Ys.UNIMPLEMENTED:case Ys.DATA_LOSS:return!0;default:return Ws(15467,{code:e})}}function oc(e){if(void 0===e)return Vs("GRPC error has no .code"),Ys.UNKNOWN;switch(e){case rc.OK:return Ys.OK;case rc.CANCELLED:return Ys.CANCELLED;case rc.UNKNOWN:return Ys.UNKNOWN;case rc.DEADLINE_EXCEEDED:return Ys.DEADLINE_EXCEEDED;case rc.RESOURCE_EXHAUSTED:return Ys.RESOURCE_EXHAUSTED;case rc.INTERNAL:return Ys.INTERNAL;case rc.UNAVAILABLE:return Ys.UNAVAILABLE;case rc.UNAUTHENTICATED:return Ys.UNAUTHENTICATED;case rc.INVALID_ARGUMENT:return Ys.INVALID_ARGUMENT;case rc.NOT_FOUND:return Ys.NOT_FOUND;case rc.ALREADY_EXISTS:return Ys.ALREADY_EXISTS;case rc.PERMISSION_DENIED:return Ys.PERMISSION_DENIED;case rc.FAILED_PRECONDITION:return Ys.FAILED_PRECONDITION;case rc.ABORTED:return Ys.ABORTED;case rc.OUT_OF_RANGE:return Ys.OUT_OF_RANGE;case rc.UNIMPLEMENTED:return Ys.UNIMPLEMENTED;case rc.DATA_LOSS:return Ys.DATA_LOSS;default:return Ws(39323,{code:e})}}(ic=rc||(rc={}))[ic.OK=0]="OK",ic[ic.CANCELLED=1]="CANCELLED",ic[ic.UNKNOWN=2]="UNKNOWN",ic[ic.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ic[ic.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ic[ic.NOT_FOUND=5]="NOT_FOUND",ic[ic.ALREADY_EXISTS=6]="ALREADY_EXISTS",ic[ic.PERMISSION_DENIED=7]="PERMISSION_DENIED",ic[ic.UNAUTHENTICATED=16]="UNAUTHENTICATED",ic[ic.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ic[ic.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ic[ic.ABORTED=10]="ABORTED",ic[ic.OUT_OF_RANGE=11]="OUT_OF_RANGE",ic[ic.UNIMPLEMENTED=12]="UNIMPLEMENTED",ic[ic.INTERNAL=13]="INTERNAL",ic[ic.UNAVAILABLE=14]="UNAVAILABLE",ic[ic.DATA_LOSS=15]="DATA_LOSS";let ac=null;function uc(){return new TextEncoder}const lc=new xs([4294967295,4294967295],0);function cc(e){const t=uc().encode(e),n=new Cs;return n.update(t),new Uint8Array(n.digest())}function hc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xs([n,r],0),new xs([i,s],0)]}class dc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fc("Invalid padding: ".concat(t));if(n<0)throw new fc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=xs.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(xs.fromNumber(n)));return 1===r.compare(lc)&&(r=new xs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=cc(e),[n,r]=hc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new dc(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=cc(e),[n,r]=hc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pc(Io.min(),r,new Sa(uo),cl(),bl())}}class mc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new mc(n,t,bl(),bl(),bl())}}class gc{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class vc{constructor(e,t){this.targetId=e,this.Ce=t}}class yc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class bc{constructor(){this.ve=0,this.Fe=Ec(),this.Me=Ma.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bl(),t=bl(),n=bl();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ws(38017,{changeType:i})}}),new mc(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Ec()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ks(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wc{constructor(e){this.Ge=e,this.ze=new Map,this.je=cl(),this.He=Dc(),this.Je=Dc(),this.Ze=new Sa(uo)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ws(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Wu(s))if(0===n){const e=new wo(s.path);this.et(t,e,yu.newNoDocument(e,Io.min()))}else Ks(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null===(i=ac)||void 0===i||i.lt(function(e,t,n,r,i){var s,o,a,u,l;const c={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(c.bloomFilter={applied:0===i,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===h||void 0===h||null===(l=h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),c}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=La(n).toUint8Array()}catch(e){if(e instanceof Ia)return qs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new dc(s,r,i)}catch(e){return qs(e instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Wu(i.target)){const t=new wo(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,yu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=bl();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new pc(e,t,this.Ze,this.je,n);return this.je=cl(),this.He=Dc(),this.Je=Dc(),this.Ze=new Sa(uo),r}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new bc,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ta(uo),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ta(uo),this.He=this.He.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Us("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dc(){return new Sa(wo.comparator)}function Ec(){return new Sa(wo.comparator)}const xc={asc:"ASCENDING",desc:"DESCENDING"},Cc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_c={and:"AND",or:"OR"};class Sc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ac(e,t){return e.useProto3Json||Ko(t)?t:{value:t}}function kc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nc(e,t){return kc(e,t.toTimestamp())}function Fc(e){return Ks(!!e,49232),Io.fromTimestamp(function(e){const t=Oa(e);return new Fo(t.seconds,t.nanos)}(e))}function Ic(e,t){return Mc(e,t).canonicalString()}function Mc(e,t){const n=function(e){return new vo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Pc(e){const t=vo.fromString(e);return Ks(eh(t),10190,{key:t.toString()}),t}function Oc(e,t){return Ic(e.databaseId,t.path)}function Rc(e,t){const n=Pc(t);if(n.get(1)!==e.databaseId.projectId)throw new Xs(Ys.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xs(Ys.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wo(zc(n))}function Lc(e,t){return Ic(e.databaseId,t)}function Bc(e){const t=Pc(e);return 4===t.length?vo.emptyPath():zc(t)}function jc(e){return new vo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zc(e){return Ks(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Uc(e,t,n){return{name:Oc(e,t),fields:n.value.mapValue.fields}}function Vc(e,t){let n;if(t instanceof Gl)n={update:Uc(e,t.key,t.value)};else if(t instanceof $l)n={delete:Oc(e,t.key)};else if(t instanceof Kl)n={update:Uc(e,t.key,t.data),updateMask:Zc(t.fieldMask)};else{if(!(t instanceof Jl))return Ws(16599,{dt:t.type});n={verify:Oc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Tl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Il)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ws(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ws(27497)}(e,t.precondition)),n}function qc(e,t){return{documents:[Lc(e,t.path)]}}function Hc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lc(e,i);const s=function(e){if(0!==e.length)return Jc(Su.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Xc(e.field),direction:Kc(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ac(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Wc(e){let t=Bc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ks(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Gc(e);return t instanceof Su&&ku(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Eu($c(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ko(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new bu(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new bu(n,t)}(n.endAt)),Ku(t,i,o,s,a,"F",u,l)}function Gc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$c(e.unaryFilter.field);return _u.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=$c(e.unaryFilter.field);return _u.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$c(e.unaryFilter.field);return _u.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$c(e.unaryFilter.field);return _u.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ws(61313);default:return Ws(60726)}}(e):void 0!==e.fieldFilter?function(e){return _u.create($c(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ws(58110);default:return Ws(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Su.create(e.compositeFilter.filters.map(e=>Gc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ws(1026)}}(e.compositeFilter.op))}(e):Ws(30097,{filter:e})}function Kc(e){return xc[e]}function Qc(e){return Cc[e]}function Yc(e){return _c[e]}function Xc(e){return{fieldPath:e.canonicalString()}}function $c(e){return bo.fromServerFormat(e.fieldPath)}function Jc(e){return e instanceof _u?function(e){if("=="===e.op){if(hu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NAN"}};if(cu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NAN"}};if(cu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(e.field),op:Qc(e.op),value:e.value}}}(e):e instanceof Su?function(e){const t=e.getFilters().map(e=>Jc(e));return 1===t.length?t[0]:{compositeFilter:{op:Yc(e.op),filters:t}}}(e):Ws(54877,{filter:e})}function Zc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function eh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function th(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class nh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Io.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Io.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ma.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rh{constructor(e){this.yt=e}}function ih(e){const t=Wc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?el(t,t.limit,"L"):t}class sh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ra(e.integerValue));else if("doubleValue"in e){const n=Ra(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Qo(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Oa(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(La(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?mu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):fu(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Ws(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ja,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Ra(s)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),wo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}sh.Wt=new sh;class oh{constructor(){this.Sn=new ah}addToCollectionParentIndex(e,t){return this.Sn.add(t),Vo.resolve()}getCollectionParents(e,t){return Vo.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Vo.resolve()}deleteFieldIndex(e,t){return Vo.resolve()}deleteAllFieldIndexes(e){return Vo.resolve()}createTargetIndexes(e,t){return Vo.resolve()}getDocumentsMatchingTarget(e,t){return Vo.resolve(null)}getIndexType(e,t){return Vo.resolve(0)}getFieldIndexes(e,t){return Vo.resolve([])}getNextCollectionGroupToUpdate(e){return Vo.resolve(null)}getMinOffset(e,t){return Vo.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return Vo.resolve(Lo.min())}updateCollectionGroup(e,t,n){return Vo.resolve()}updateIndexEntries(e,t){return Vo.resolve()}}class ah{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ta(vo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ta(vo.comparator)).toArray()}}new Uint8Array(0);const uh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lh=41943040;class ch{static withCacheSize(e){return new ch(e,ch.DEFAULT_COLLECTION_PERCENTILE,ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ch.DEFAULT_COLLECTION_PERCENTILE=10,ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ch.DEFAULT=new ch(lh,ch.DEFAULT_COLLECTION_PERCENTILE,ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ch.DISABLED=new ch(-1,0,0);class hh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hh(0)}static ar(){return new hh(-1)}}const dh="LruGarbageCollector",fh=1048576;function ph(e,t){let[n,r]=e,[i,s]=t;const o=uo(n,i);return 0===o?uo(r,s):o}class mh{constructor(e){this.Pr=e,this.buffer=new Ta(ph),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ph(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){Us(dh,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ho(e)?Us(dh,"Ignoring IndexedDB error during garbage collection: ",e):await Uo(e)}await this.Ar(3e5)})}}class vh{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Vo.resolve(Wo.ce);const n=new mh(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Us("LruGarbageCollector","Garbage collection skipped; disabled"),Vo.resolve(uh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Us("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),uh):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,s,o,a,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Us("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),zs()<=Ce.DEBUG&&Us("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-a)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Vo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function yh(e,t){return new vh(e,t)}class bh{constructor(){this.changes=new ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ql(n.mutation,e,Fa.empty(),Fo.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,bl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bl();const r=pl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=dl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=pl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,bl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=cl();const s=gl(),o=gl();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ql(o.mutation,t,o.mutation.getFieldMask(),Fo.now())):s.set(t.key,Fa.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new wh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=gl();let r=new Sa((e,t)=>e-t),i=bl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Fa.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||bl()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,u=r.value,l=ml();u.forEach(e=>{if(!i.has(e)){const r=Ul(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Vo.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return wo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Vo.resolve(pl());let o=Mo,a=i;return s.next(t=>Vo.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Vo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,bl())).next(e=>({batchId:o,changes:fl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wo(t)).next(e=>{let t=dl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=dl();return this.indexManager.getCollectionParents(e,i).next(o=>Vo.forEach(o,o=>{const a=function(e,t){return new Gu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yu.newInvalidDocument(r)))});let n=dl();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&ql(s.mutation,r,Fa.empty(),Fo.now()),il(t,r)&&(n=n.insert(e,r))}),n})}}class Eh{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Vo.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Fc(e.createTime)}}(t)),Vo.resolve()}getNamedQuery(e,t){return Vo.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:ih(e.bundledQuery),readTime:Fc(e.readTime)}}(t)),Vo.resolve()}}class xh{constructor(){this.overlays=new Sa(wo.comparator),this.Lr=new Map}getOverlay(e,t){return Vo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=pl();return Vo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),Vo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),Vo.resolve()}getOverlaysForCollection(e,t,n){const r=pl(),i=t.length+1,s=new wo(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sa((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=pl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=pl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Vo.resolve(o)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tc(t,n));let i=this.Lr.get(t);void 0===i&&(i=bl(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class Ch{constructor(){this.sessionToken=Ma.EMPTY_BYTE_STRING}getSessionToken(e){return Vo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Vo.resolve()}}class _h{constructor(){this.kr=new Ta(Sh.Kr),this.qr=new Ta(Sh.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new Sh(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Sh(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){const t=new wo(new vo([])),n=new Sh(t,e),r=new Sh(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new wo(new vo([])),n=new Sh(t,e),r=new Sh(t,e+1);let i=bl();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Sh(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sh{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return wo.comparator(e.key,t.key)||uo(e.Hr,t.Hr)}static Ur(e,t){return uo(e.Hr,t.Hr)||wo.comparator(e.key,t.key)}}class Ah{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ta(Sh.Kr)}checkEmpty(e){return Vo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zl(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Jr=this.Jr.add(new Sh(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Vo.resolve(s)}lookupMutationBatch(e,t){return Vo.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Vo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Vo.resolve(0===this.mutationQueue.length?Go:this.Yn-1)}getAllMutationBatches(e){return Vo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sh(t,0),r=new Sh(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Vo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ta(uo);return t.forEach(e=>{const t=new Sh(e,0),r=new Sh(e,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Vo.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;wo.isDocumentKey(i)||(i=i.child(""));const s=new Sh(new wo(i),0);let o=new Ta(uo);return this.Jr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},s),Vo.resolve(this.Yr(o))}Yr(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ks(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return Vo.forEach(t.mutations,r=>{const i=new Sh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){const n=new Sh(t,0),r=this.Jr.firstAfterOrEqual(n);return Vo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vo.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kh{constructor(e){this.ti=e,this.docs=new Sa(wo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vo.resolve(n?n.document.mutableCopy():yu.newInvalidDocument(t))}getEntries(e,t){let n=cl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yu.newInvalidDocument(e))}),Vo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cl();const s=t.path,o=new wo(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Bo(Ro(o),n)<=0||(r.has(o.key)||il(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Vo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ws(9500)}ni(e,t){return Vo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Th(this)}getSize(e){return Vo.resolve(this.size)}}class Th extends bh{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),Vo.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Nh{constructor(e){this.persistence=e,this.ri=new ul(e=>qu(e),Hu),this.lastRemoteSnapshotVersion=Io.min(),this.highestTargetId=0,this.ii=0,this.si=new _h,this.targetCount=0,this.oi=hh._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),Vo.resolve()}getLastRemoteSnapshotVersion(e){return Vo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vo.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Vo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),Vo.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Vo.resolve()}updateTargetData(e,t){return this.lr(t),Vo.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Vo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Vo.waitFor(i).next(()=>r)}getTargetCount(e){return Vo.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return Vo.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),Vo.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Vo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Vo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return Vo.resolve(n)}containsKey(e,t){return Vo.resolve(this.si.containsKey(t))}}class Fh{constructor(e,t){this._i={},this.overlays={},this.ai=new Wo(0),this.ui=!1,this.ui=!0,this.ci=new Ch,this.referenceDelegate=e(this),this.li=new Nh(this),this.indexManager=new oh,this.remoteDocumentCache=function(e){return new kh(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new rh(t),this.Pi=new Eh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Ah(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){Us("MemoryPersistence","Starting transaction:",e);const r=new Ih(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Vo.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class Ih extends zo{constructor(e){super(),this.currentSequenceNumber=e}}class Mh{constructor(e){this.persistence=e,this.Ri=new _h,this.Ai=null}static Vi(e){return new Mh(e)}get di(){if(this.Ai)return this.Ai;throw Ws(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),Vo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),Vo.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Vo.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vo.forEach(this.di,n=>{const r=wo.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,Io.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return Vo.or([()=>Vo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.fi=new ul(e=>$o(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=yh(this,t)}static Vi(e,t){return new Ph(e,t)}Ti(){}Ii(e){return Vo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return Vo.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?Vo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Io.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Vo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Vo.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Vo.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Vo.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=au(e.data.value)),t}wr(e,t,n){return Vo.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.fi.get(t);return Vo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Oh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=bl(),r=bl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Oh(e,t.fromCache,n,r)}}class Rh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lh{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=oe()?8:qo(ie())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Rh;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(zs()<=Ce.DEBUG&&Us("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Vo.resolve()):(zs()<=Ce.DEBUG&&Us("QueryEngine","Query:",rl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(zs()<=Ce.DEBUG&&Us("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ju(t))):Vo.resolve())}gs(e,t){if(Yu(t))return Vo.resolve(null);let n=Ju(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=el(t,null,"F"),n=Ju(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=bl(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ss(t,s,i,n.readTime)?this.gs(e,el(t,null,"F")):this.Ds(e,s,t,n)}))})))}ps(e,t,n,r){return Yu(t)||r.isEqual(Io.min())?Vo.resolve(null):this.fs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ss(t,s,n,r)?Vo.resolve(null):(zs()<=Ce.DEBUG&&Us("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rl(t)),this.Ds(e,s,t,Oo(r,Mo)).next(e=>e))})}bs(e,t){let n=new Ta(ol(e));return t.forEach((t,r)=>{il(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return zs()<=Ce.DEBUG&&Us("QueryEngine","Using full collection scan to execute query:",rl(t)),this.fs.getDocumentsMatchingQuery(e,t,Lo.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Bh="LocalStore";class jh{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Sa(uo),this.Fs=new ul(e=>qu(e),Hu),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dh(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function zh(e,t,n,r){return new jh(e,t,n,r)}async function Uh(e,t){const n=Qs(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=bl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:s}))})})}function Vh(e){const t=Qs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.li.getLastRemoteSnapshotVersion(e))}function qh(e,t,n){let r=bl(),i=bl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=cl();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Io.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Us(Bh,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Bs:r,Ls:i}})}function Hh(e,t){const n=Qs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Go),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wh(e,t){const n=Qs(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.li.getTargetData(e,t).next(i=>i?(r=i,Vo.resolve(r)):n.li.allocateTargetId(e).next(i=>(r=new nh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.li.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.vs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e})}async function Gh(e,t,n){const r=Qs(e),i=r.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ho(e))throw e;Us(Bh,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function Kh(e,t,n){const r=Qs(e);let i=Io.min(),s=bl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Qs(e),i=r.Fs.get(n);return void 0!==i?Vo.resolve(r.vs.get(i)):r.li.getTargetData(t,n)}(r,e,Ju(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:Io.min(),n?s:bl())).next(e=>(Qh(r,sl(t),e),{documents:e,ks:s})))}function Qh(e,t,n){let r=e.Ms.get(t)||Io.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}class Yh{constructor(){this.activeTargetIds=Dl()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xh{constructor(){this.vo=new Yh,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Yh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $h{Mo(e){}shutdown(){}}const Jh="ConnectivityMonitor";class Zh{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Us(Jh,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Us(Jh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ed=null;function td(){return null===ed?ed=268435456+Math.round(2147483648*Math.random()):ed++,"0x"+ed.toString(16)}const nd="RestConnection",rd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class id{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.$o=this.databaseId.database===Ga?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const s=td(),o=this.Qo(e,t.toUriEncodedString());Us(nd,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(a,r,i);const{host:u}=new URL(o),l=Z(u);return this.zo(e,o,a,n,l).then(t=>(Us(nd,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw qs(nd,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){const n=rd[e];let r="".concat(this.qo,"/v1/").concat(t,":").concat(n);return this.databaseInfo.apiKey&&(r="".concat(r,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),r}terminate(){}}class sd{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const od="WebChannelConnection",ad=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class ud extends id{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ud.c_){const e=Ms();ad(e,Is.STAT_EVENT,e=>{e.stat===Fs.PROXY?Us(od,"STAT_EVENT: detected buffering proxy"):e.stat===Fs.NOPROXY&&Us(od,"STAT_EVENT: detected no buffering proxy")}),ud.c_=!0}}zo(e,t,n,r,i){const s=td();return new Promise((i,o)=>{const a=new As;a.setWithCredentials(!0),a.listenOnce(Ts.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ns.NO_ERROR:const n=a.getResponseJson();Us(od,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case Ns.TIMEOUT:Us(od,"RPC '".concat(e,"' ").concat(s," timed out")),o(new Xs(Ys.DEADLINE_EXCEEDED,"Request time out"));break;case Ns.HTTP_ERROR:const r=a.getStatus();if(Us(od,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ys).indexOf(t)>=0?t:Ys.UNKNOWN}(n.status);o(new Xs(e,n.message))}else o(new Xs(Ys.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Xs(Ys.UNAVAILABLE,"Connection failed."));break;default:Ws(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Us(od,"RPC '".concat(e,"' ").concat(s," completed."))}});const u=JSON.stringify(r);Us(od,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",u,n,15)})}T_(e,t,n){const r=td(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(o.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");Us(od,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),o);const l=s.createWebChannel(u,o);this.I_(l);let c=!1,h=!1;const d=new sd({Ho:t=>{h?Us(od,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(Us(od,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),Us(od,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Jo:()=>l.close()});return ad(l,ks.EventType.OPEN,()=>{h||(Us(od,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),d.i_())}),ad(l,ks.EventType.CLOSE,()=>{h||(h=!0,Us(od,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.o_(),this.E_(l))}),ad(l,ks.EventType.ERROR,t=>{h||(h=!0,qs(od,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),d.o_(new Xs(Ys.UNAVAILABLE,"The operation could not be completed")))}),ad(l,ks.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Ks(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Us(od,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=rc[e];if(void 0!==t)return oc(t)}(t),i=o.message;void 0===n&&(n=Ys.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,d.o_(new Xs(n,i)),l.close()}else Us(od,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.__(i)}}),ud.u_(),setTimeout(()=>{d.s_()},0),d}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ps()}}function ld(e){return new ud(e)}function cd(){return"undefined"!=typeof document?document:null}function hd(e){return new Sc(e,!0)}ud.c_=!1;class dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Us("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fd="PersistentStream";class pd{constructor(e,t,n,r,i,s,o,a){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dd(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ys.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ys.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Xs(Ys.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Us(fd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(Us(fd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class md extends pd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ws(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ks(void 0===t||"string"==typeof t,58123),Ma.fromBase64String(t||"")):(Ks(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ma.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ys.UNKNOWN:oc(e.code);return new Xs(t,e.message||"")}(o);n=new yc(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rc(e,r.document.name),s=Fc(r.document.updateTime),o=r.document.createTime?Fc(r.document.createTime):Io.min(),a=new gu({mapValue:{fields:r.document.fields}}),u=yu.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new gc(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Rc(e,r.document),s=r.readTime?Fc(r.readTime):Io.min(),o=yu.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Rc(e,r.document),s=r.removedTargetIds||[];n=new gc([],s,i,null)}else{if(!("filter"in t))return Ws(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nc(r,i),o=e.targetId;n=new vc(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Io.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Io.min():t.readTime?Fc(t.readTime):Io.min()}(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=jc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Wu(r)?{documents:qc(e,r)}:{query:Hc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tc(e,t.resumeToken);const r=Ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Io.min())>0){n.readTime=kc(e,t.snapshotVersion.toTimestamp());const r=Ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ws(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=jc(this.serializer),t.removeTarget=e,this.K_(t)}}class gd extends pd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ks(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ks(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ks(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ks(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Fc(e.updateTime):Fc(t);return n.isEqual(Io.min())&&(n=Fc(t)),new Ll(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Fc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=jc(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Vc(this.serializer,e))};this.K_(t)}}class vd{}class yd extends vd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Xs(Ys.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Wo(e,Mc(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ys.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Xs(Ys.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.jo(e,Mc(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ys.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Xs(Ys.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function bd(e,t,n,r){return new yd(e,t,n,r)}class wd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Vs(t),this.aa=!1):Us("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Dd="RemoteStore";class Ed{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{Fd(this)&&(Us(Dd,"Restarting streams for network reachability change."),await async function(e){const t=Qs(e);t.Ea.add(4),await Cd(t),t.Va.set("Unknown"),t.Ea.delete(4),await xd(t)}(this))})}),this.Va=new wd(n,r)}}async function xd(e){if(Fd(e))for(const t of e.Ra)await t(!0)}async function Cd(e){for(const t of e.Ra)await t(!1)}function _d(e,t){const n=Qs(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Nd(n)?Td(n):Xd(n).O_()&&Ad(n,t))}function Sd(e,t){const n=Qs(e),r=Xd(n);n.Ia.delete(t),r.O_()&&kd(n,t),0===n.Ia.size&&(r.O_()?r.L_():Fd(n)&&n.Va.set("Unknown"))}function Ad(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Io.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xd(e).Z_(t)}function kd(e,t){e.da.$e(t),Xd(e).X_(t)}function Td(e){e.da=new wc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xd(e).start(),e.Va.ua()}function Nd(e){return Fd(e)&&!Xd(e).x_()&&e.Ia.size>0}function Fd(e){return 0===Qs(e).Ea.size}function Id(e){e.da=void 0}async function Md(e){e.Va.set("Online")}async function Pd(e){e.Ia.forEach((t,n)=>{Ad(e,t)})}async function Od(e,t){Id(e),Nd(e)?(e.Va.ha(t),Td(e)):e.Va.set("Unknown")}async function Rd(e,t,n){if(e.Va.set("Online"),t instanceof yc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){Us(Dd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ld(e,n)}else if(t instanceof gc?e.da.Xe(t):t instanceof vc?e.da.st(t):e.da.tt(t),!n.isEqual(Io.min()))try{const t=await Vh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.da.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Ma.EMPTY_BYTE_STRING,r.snapshotVersion)),kd(e,t);const i=new nh(r.target,t,n,r.sequenceNumber);Ad(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Us(Dd,"Failed to raise snapshot:",t),await Ld(e,t)}}async function Ld(e,t,n){if(!Ho(t))throw t;e.Ea.add(1),await Cd(e),e.Va.set("Offline"),n||(n=()=>Vh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Us(Dd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await xd(e)})}function Bd(e,t){return t().catch(n=>Ld(e,n,t))}async function jd(e){const t=Qs(e),n=$d(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Go;for(;zd(t);)try{const e=await Hh(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ud(t,e)}catch(e){await Ld(t,e)}Vd(t)&&qd(t)}function zd(e){return Fd(e)&&e.Ta.length<10}function Ud(e,t){e.Ta.push(t);const n=$d(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function Vd(e){return Fd(e)&&!$d(e).x_()&&e.Ta.length>0}function qd(e){$d(e).start()}async function Hd(e){$d(e).ra()}async function Wd(e){const t=$d(e);for(const n of e.Ta)t.ea(n.mutations)}async function Gd(e,t,n){const r=e.Ta.shift(),i=ec.from(r,t,n);await Bd(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jd(e)}async function Kd(e,t){t&&$d(e).Y_&&await async function(e,t){if(function(e){return sc(e)&&e!==Ys.ABORTED}(t.code)){const n=e.Ta.shift();$d(e).B_(),await Bd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jd(e)}}(e,t),Vd(e)&&qd(e)}async function Qd(e,t){const n=Qs(e);n.asyncQueue.verifyOperationInProgress(),Us(Dd,"RemoteStore received new credentials");const r=Fd(n);n.Ea.add(3),await Cd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await xd(n)}async function Yd(e,t){const n=Qs(e);t?(n.Ea.delete(2),await xd(n)):t||(n.Ea.add(2),await Cd(n),n.Va.set("Unknown"))}function Xd(e){return e.ma||(e.ma=function(e,t,n){const r=Qs(e);return r.sa(),new md(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Md.bind(null,e),Yo:Pd.bind(null,e),t_:Od.bind(null,e),J_:Rd.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Nd(e)?Td(e):e.Va.set("Unknown")):(await e.ma.stop(),Id(e))})),e.ma}function $d(e){return e.fa||(e.fa=function(e,t,n){const r=Qs(e);return r.sa(),new gd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Hd.bind(null,e),t_:Kd.bind(null,e),ta:Wd.bind(null,e),na:Gd.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await jd(e)):(await e.fa.stop(),e.Ta.length>0&&(Us(Dd,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Jd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Jd(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xs(Ys.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(e,t){if(Vs("AsyncQueue","".concat(t,": ").concat(e)),Ho(e))return new Xs(Ys.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ef{static emptySet(e){return new ef(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||wo.comparator(t.key,n.key):(e,t)=>wo.comparator(e.key,t.key),this.keyedMap=dl(),this.sortedSet=new Sa(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ef))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ef;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tf{constructor(){this.ga=new Sa(wo.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ws(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class nf{constructor(e,t,n,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new nf(e,t,ef.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rf{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class sf{constructor(){this.queries=of(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Qs(e),r=n.queries;n.queries=of(),r.forEach((e,n)=>{for(const r of n.ba)r.onError(t)})}(this,new Xs(Ys.ABORTED,"Firestore shutting down"))}}function of(){return new ul(e=>nl(e),tl)}async function af(e,t){const n=Qs(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.Da()&&(r=2):(s=new rf,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zd(e,"Initialization of query '".concat(rl(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&hf(n)}async function uf(e,t){const n=Qs(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ba.indexOf(t);e>=0&&(s.ba.splice(e,1),0===s.ba.length?i=t.Da()?0:1:!s.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lf(e,t){const n=Qs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ba)e.Fa(i)&&(r=!0);t.wa=i}}r&&hf(n)}function cf(e,t,n){const r=Qs(e),i=r.queries.get(t);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(t)}function hf(e){e.Ca.forEach(e=>{e.next()})}var df,ff;(ff=df||(df={})).Ma="default",ff.Cache="cache";class pf{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==df.Cache}}class mf{constructor(e){this.key=e}}class gf{constructor(e){this.key=e}}class vf{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=bl(),this.mutatedKeys=bl(),this.eu=ol(e),this.tu=new ef(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new tf,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),c=il(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.su(l,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||u&&this.eu(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(a||u)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ws(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],a=0===this.Ya.size&&this.current&&!r?1:0,u=a!==this.Xa;return this.Xa=a,0!==s.length||u?{snapshot:new nf(this.query,e.tu,i,s,e.mutatedKeys,0===a,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tf,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=bl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new gf(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new mf(n))}),t}cu(e){this.Za=e.ks,this.Ya=bl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const yf="SyncEngine";class bf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wf{constructor(e){this.key=e,this.hu=!1}}class Df{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ul(e=>nl(e),tl),this.Iu=new Map,this.Eu=new Set,this.Ru=new Sa(wo.comparator),this.Au=new Map,this.Vu=new _h,this.du={},this.mu=new Map,this.fu=hh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Ef(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qf(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Cf(r,t,n,!0),i}async function xf(e,t){const n=qf(e);await Cf(n,t,!0,!1)}async function Cf(e,t,n,r){const i=await Wh(e.localStore,Ju(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await _f(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&_d(e.remoteStore,i),a}async function _f(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await Kh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Lf(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await Kh(e.localStore,t,!0),o=new vf(t,s.ks),a=o.ru(s.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,u);Lf(e,n,l.au);const c=new bf(t,n,o);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Sf(e,t,n){const r=Qs(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!tl(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sd(r.remoteStore,i.targetId),Of(r,i.targetId)}).catch(Uo)):(Of(r,i.targetId),await Gh(r.localStore,i.targetId,!0))}async function Af(e,t){const n=Qs(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sd(n.remoteStore,r.targetId))}async function kf(e,t){const n=Qs(e);try{const e=await function(e,t){const n=Qs(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];t.targetChanges.forEach((s,a)=>{const u=i.get(a);if(!u)return;o.push(n.li.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.li.addMatchingKeys(e,s.addedDocuments,a)));let l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Ma.EMPTY_BYTE_STRING,Io.min()).withLastLimboFreeSnapshotVersion(Io.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,s)&&o.push(n.li.updateTargetData(e,l))});let a=cl(),u=bl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(qh(e,s,t.documentUpdates).next(e=>{a=e.Bs,u=e.Ls})),!r.isEqual(Io.min())){const t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Vo.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,u)).next(()=>a)}).then(e=>(n.vs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ks(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ks(r.hu,14607):e.removedDocuments.size>0&&(Ks(r.hu,42227),r.hu=!1))}),await zf(n,e,t)}catch(e){await Uo(e)}}function Tf(e,t,n){const r=Qs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Qs(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.ba)i.va(t)&&(r=!0)}),r&&hf(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Nf(e,t,n){const r=Qs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Sa(wo.comparator);e=e.insert(s,yu.newNoDocument(s,Io.min()));const n=bl().add(s),i=new pc(Io.min(),new Map,new Sa(uo),e,n);await kf(r,i),r.Ru=r.Ru.remove(s),r.Au.delete(t),jf(r)}else await Gh(r.localStore,t,!1).then(()=>Of(r,t,n)).catch(Uo)}async function Ff(e,t){const n=Qs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Vo.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Ks(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=bl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Pf(n,r,null),Mf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zf(n,e)}catch(e){await Uo(e)}}async function If(e,t,n){const r=Qs(e);try{const e=await function(e,t){const n=Qs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ks(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Pf(r,t,n),Mf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zf(r,e)}catch(n){await Uo(n)}}function Mf(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Pf(e,t,n){const r=Qs(e);let i=r.du[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function Of(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||Rf(e,t)})}function Rf(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);null!==n&&(Sd(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),jf(e))}function Lf(e,t,n){for(const r of n)r instanceof mf?(e.Vu.addReference(r.key,t),Bf(e,r)):r instanceof gf?(Us(yf,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||Rf(e,r.key)):Ws(19791,{wu:r})}function Bf(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Us(yf,"New document in limbo: "+n),e.Eu.add(r),jf(e))}function jf(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new wo(vo.fromString(t)),r=e.fu.next();e.Au.set(r,new wf(n)),e.Ru=e.Ru.insert(n,r),_d(e.remoteStore,new nh(Ju(Qu(n.path)),r,"TargetPurposeLimboResolution",Wo.ce))}}async function zf(e,t,n){const r=Qs(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Oh.Es(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(e,t){const n=Qs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Vo.forEach(t,t=>Vo.forEach(t.Ts,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Vo.forEach(t.Is,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ho(e))throw e;Us(Bh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.vs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(e,i)}}}(r.localStore,s))}async function Uf(e,t){const n=Qs(e);if(!n.currentUser.isEqual(t)){Us(yf,"User change. New user:",t.toKey());const e=await Uh(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Xs(Ys.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zf(n,e.Ns)}}function Vf(e,t){const n=Qs(e),r=n.Au.get(t);if(r&&r.hu)return bl().add(r.key);{let e=bl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function qf(e){const t=Qs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nf.bind(null,t),t.Pu.J_=lf.bind(null,t.eventManager),t.Pu.yu=cf.bind(null,t.eventManager),t}function Hf(e){const t=Qs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ff.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=If.bind(null,t),t}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zh(this.persistence,new Lh,e.initialUser,this.serializer)}Cu(e){return new Fh(Mh.Vi,this.serializer)}Du(e){return new Xh}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class Gf extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ks(this.persistence.referenceDelegate instanceof Ph,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new gh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ch.withCacheSize(this.cacheSizeBytes):ch.DEFAULT;return new Fh(e=>Ph.Vi(e,t),this.serializer)}}class Kf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uf.bind(null,this.syncEngine),await Yd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sf}createDatastore(e){const t=hd(e.databaseInfo.databaseId),n=ld(e.databaseInfo);return bd(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ed(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Tf(this.syncEngine,e,0),Zh.v()?new Zh:new $h)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Df(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Qs(e);Us(Dd,"RemoteStore shutting down."),t.Ea.add(5),await Cd(t),t.Aa.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Kf.provider={build:()=>new Kf};class Qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Yf="FirestoreClient";class Xf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=Ls.UNAUTHENTICATED,this.clientId=ao.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Us(Yf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Us(Yf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $f(e,t){e.asyncQueue.verifyOperationInProgress(),Us(Yf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Uh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Jf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Zf(e);Us(Yf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Qd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Qd(t.remoteStore,n)),e._onlineComponents=t}async function Zf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Us(Yf,"Using user provided OfflineComponentProvider");try{await $f(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ys.FAILED_PRECONDITION||e.code===Ys.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),await $f(e,new Wf)}}else Us(Yf,"Using default OfflineComponentProvider"),await $f(e,new Gf(void 0));return e._offlineComponents}async function ep(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Us(Yf,"Using user provided OnlineComponentProvider"),await Jf(e,e._uninitializedComponentsProvider._online)):(Us(Yf,"Using default OnlineComponentProvider"),await Jf(e,new Kf))),e._onlineComponents}function tp(e){return ep(e).then(e=>e.syncEngine)}async function np(e){const t=await ep(e),n=t.eventManager;return n.onListen=Ef.bind(null,t.syncEngine),n.onUnlisten=Sf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Af.bind(null,t.syncEngine),n}function rp(e,t){const n=new $s;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Hf(e);try{const e=await function(e,t){const n=Qs(e),r=Fo.now(),i=t.reduce((e,t)=>e.add(t.key),bl());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=cl(),u=bl();return n.xs.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(u=u.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Hl(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Kl(e.key,t,vu(t.value.mapValue),Bl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:fl(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||(r=new Sa(uo)),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await zf(r,e.changes),await jd(r.remoteStore)}catch(e){const t=Zd(e,"Failed to persist write");n.reject(t)}}(await tp(e),t,n)),n.promise}function ip(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const sp="ComponentProvider",op=new Map;function ap(e,t,n,r,i){return new Wa(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ip(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const up="firestore.googleapis.com",lp=!0;class cp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Xs(Ys.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=up,this.ssl=lp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:lp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=lh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<fh)throw new Xs(Ys.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Xs(Ys.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ip(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Xs(Ys.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Xs(Ys.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Xs(Ys.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xs(Ys.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xs(Ys.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zs;switch(e.type){case"firstParty":return new ro(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Xs(Ys.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=op.get(e);t&&(Us(sp,"Removing Datastore"),op.delete(e),t.terminate())}(this),Promise.resolve()}}function dp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=So(e,hp);const i=Z(t),s=e._getSettings(),o=a(a({},s),{},{emulatorOptions:e._getEmulatorOptions()}),u="".concat(t,":").concat(n);i&&(ee("https://".concat(u)),re("Firestore",!0)),s.host!==up&&s.host!==u&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=a(a({},s),{},{host:u,ssl:i,emulatorOptions:r});if(!he(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ls.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=a({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Xs(Ys.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ls(i)}e._authCredentials=new eo(new Js(t,n))}}class fp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class pp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pp(this.firestore,e,this._key)}toJSON(){return{type:pp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ko(t,pp._jsonSchema))return new pp(e,n||null,new wo(vo.fromString(t.referencePath)))}}pp._jsonSchemaVersion="firestore/documentReference/1.0",pp._jsonSchema={type:Ao("string",pp._jsonSchemaVersion),referencePath:Ao("string")};class mp extends fp{constructor(e,t,n){super(e,t,Qu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pp(this.firestore,null,new wo(e))}withConverter(e){return new mp(this.firestore,e,this._path)}}function gp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ye(e),Do("collection","path",t),e instanceof hp){const n=vo.fromString(t,...r);return xo(n),new mp(e,null,n)}{if(!(e instanceof pp||e instanceof mp))throw new Xs(Ys.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vo.fromString(t,...r));return xo(n),new mp(e.firestore,null,n)}}function vp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ye(e),1===arguments.length&&(t=ao.newId()),Do("doc","path",t),e instanceof hp){const n=vo.fromString(t,...r);return Eo(n),new pp(e,null,new wo(n))}{if(!(e instanceof pp||e instanceof mp))throw new Xs(Ys.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vo.fromString(t,...r));return Eo(n),new pp(e.firestore,e instanceof mp?e.converter:null,new wo(n))}}const yp="AsyncQueue";class bp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dd(this,"async_queue_retry"),this._c=()=>{const e=cd();e&&Us(yp,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=cd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=cd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new $s;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;Us(yp,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",wp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Jd.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ws(47125,{Pc:wp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Dp extends hp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new bp,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bp(e),this._firestoreClient=void 0,await e}}}function Ep(e){if(e._terminated)throw new Xs(Ys.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xp(e),e._firestoreClient}function xp(e){var t,n,r,i;const s=e._freezeSettings(),o=ap(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,null===(n=e._app)||void 0===n?void 0:n.options.apiKey,s);e._componentsProvider||null!==(r=s.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(i=s.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Xf(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Cp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cp(Ma.fromBase64String(e))}catch(e){throw new Xs(Ys.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Cp(Ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ko(e,Cp._jsonSchema))return Cp.fromBase64String(e.bytes)}}Cp._jsonSchemaVersion="firestore/bytes/1.0",Cp._jsonSchema={type:Ao("string",Cp._jsonSchemaVersion),bytes:Ao("string")};class _p{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Xs(Ys.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._methodName=e}}class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xs(Ys.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xs(Ys.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return uo(this._lat,e._lat)||uo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ap._jsonSchemaVersion}}static fromJSON(e){if(ko(e,Ap._jsonSchema))return new Ap(e.latitude,e.longitude)}}Ap._jsonSchemaVersion="firestore/geoPoint/1.0",Ap._jsonSchema={type:Ao("string",Ap._jsonSchemaVersion),latitude:Ao("number"),longitude:Ao("number")};class kp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ko(e,kp._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new kp(e.vectorValues);throw new Xs(Ys.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kp._jsonSchemaVersion="firestore/vectorValue/1.0",kp._jsonSchema={type:Ao("string",kp._jsonSchemaVersion),vectorValues:Ao("object")};const Tp=/^__.*__$/;class Np{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class Fp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ip(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ws(40011,{dataSource:e})}}class Mp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mp(a(a({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Ip(this.dataSource)&&Tp.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Pp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||hd(e)}createContext(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Mp({dataSource:e,methodName:t,targetDoc:n,path:bo.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(e){const t=e._freezeSettings(),n=hd(e._databaseId);return new Pp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);qp("Data must be an object, but it was:",o,r);const a=Up(r,o);let u,l;if(s.merge)u=new Fa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Hp(t,r,n);if(!o.contains(i))throw new Xs(Ys.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Qp(e,i)||e.push(i)}u=new Fa(e),l=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,l=o.fieldTransforms;return new Np(new gu(a),u,l)}class Lp extends Sp{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError("".concat(this._methodName,"() can only appear at the top level of your update data")):e.createError("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}function Bp(e,t,n,r){const i=e.createContext(1,t,n);qp("Data must be an object, but it was:",i,r);const s=[],o=gu.empty();Ca(r,(e,r)=>{const a=Gp(t,e,n);r=ye(r);const u=i.childContextForFieldPath(a);if(r instanceof Lp)s.push(a);else{const e=zp(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Fa(s);return new Fp(o,a,i.fieldTransforms)}function jp(e,t,n,r,i,s){const o=e.createContext(1,t,n),a=[Hp(t,r,n)],u=[i];if(s.length%2!=0)throw new Xs(Ys.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Hp(t,s[d])),u.push(s[d+1]);const l=[],c=gu.empty();for(let d=a.length-1;d>=0;--d)if(!Qp(l,a[d])){const e=a[d];let t=u[d];t=ye(t);const n=o.childContextForFieldPath(e);if(t instanceof Lp)l.push(e);else{const r=zp(t,n);null!=r&&(l.push(e),c.set(e,r))}}const h=new Fa(l);return new Fp(c,h,o.fieldTransforms)}function zp(e,t){if(Vp(e=ye(e)))return qp("Unsupported field value:",t,e),Up(e,t);if(e instanceof Sp)return function(e,t){if(!Ip(t.dataSource))throw t.createError("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.createError("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zp(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ye(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Fo.fromDate(e);return{timestampValue:kc(t.serializer,n)}}if(e instanceof Fo){const n=new Fo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kc(t.serializer,n)}}if(e instanceof Ap)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cp)return{bytesValue:Tc(t.serializer,e._byteString)};if(e instanceof pp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ic(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kp)return function(e,t){const n=e instanceof kp?e.toArray():e,r={fields:{[Qa]:{stringValue:$a},[Ja]:{arrayValue:{values:n.map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return El(t.serializer,e)})}}}};return{mapValue:r}}(e,t);if(th(e))return e._toProto(t.serializer);throw t.createError("Unsupported field value: ".concat(_o(e)))}(e,t)}function Up(e,t){const n={};return _a(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(e,(e,r)=>{const i=zp(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fo||e instanceof Ap||e instanceof Cp||e instanceof pp||e instanceof Sp||e instanceof kp||th(e))}function qp(e,t,n){if(!Vp(n)||!Co(n)){const r=_o(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Hp(e,t,n){if((t=ye(t))instanceof _p)return t._internalPath;if("string"==typeof t)return Gp(e,t);throw Kp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wp=new RegExp("[~\\*/\\[\\]]");function Gp(e,t,n){if(t.search(Wp)>=0)throw Kp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new _p(...t.split("."))._internalPath}catch(r){throw Kp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Xs(Ys.INVALID_ARGUMENT,a+e+u)}function Qp(e,t){return e.some(e=>e.isEqual(t))}class Yp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ra(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ws(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ca(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ja].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Ra(e.doubleValue));return new kp(n)}convertGeoPoint(e){return new Ap(Ra(e.latitude),Ra(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=qa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new Fo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vo.fromString(e);Ks(eh(n),9688,{name:e});const r=new Ka(n.get(1),n.get(3)),i=new wo(n.popFirst(5));return r.isEqual(t)||Vs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class Xp extends Yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pp(this.firestore,null,t)}}const $p="@firebase/firestore",Jp="4.10.0";function Zp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class em{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e,t;return null!==(e=null===(t=this._document)||void 0===t?void 0:t.data.clone().value.mapValue.fields)&&void 0!==e?e:void 0}get(e){if(this._document){const t=this._document.data.field(Hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tm extends em{data(){return super.data()}}function nm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Xs(Ys.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function rm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class im{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sm extends em{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xs(Ys.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=sm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}sm._jsonSchemaVersion="firestore/documentSnapshot/1.0",sm._jsonSchema={type:Ao("string",sm._jsonSchemaVersion),bundleSource:Ao("string","DocumentSnapshot"),bundleName:Ao("string"),bundle:Ao("string")};class om extends sm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class am{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new im(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new om(this._firestore,this._userDataWriter,n.key,n,new im(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Xs(Ys.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new om(e._firestore,e._userDataWriter,n.doc.key,n.doc,new im(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new om(e._firestore,e._userDataWriter,t.doc.key,t.doc,new im(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:um(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xs(Ys.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=am._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ao.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function um(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ws(61501,{type:e})}}am._jsonSchemaVersion="firestore/querySnapshot/1.0",am._jsonSchema={type:Ao("string",am._jsonSchemaVersion),bundleSource:Ao("string","QuerySnapshot"),bundleName:Ao("string"),bundle:Ao("string")};function lm(e){e=So(e,pp);const t=So(e.firestore,Dp);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $s;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Qf({next:a=>{s.Nu(),t.enqueueAndForget(()=>uf(e,o));const u=a.docs.has(n);!u&&a.fromCache?i.reject(new Xs(Ys.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Xs(Ys.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new pf(Qu(n.path),s,{includeMetadataChanges:!0,Ka:!0});return af(e,o)}(await np(e),e.asyncQueue,t,n,r)),r.promise}(Ep(t),e._key).then(n=>mm(t,e,n))}function cm(e,t,n){e=So(e,pp);const r=So(e.firestore,Dp),i=rm(e.converter,t,n);return pm(r,[Rp(Op(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bl.none())])}function hm(e,t,n){e=So(e,pp);const r=So(e.firestore,Dp),i=Op(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return s="string"==typeof(t=ye(t))||t instanceof _p?jp(i,"updateDoc",e._key,t,n,a):Bp(i,"updateDoc",e._key,t),pm(r,[s.toMutation(e._key,Bl.exists(!0))])}function dm(e,t){const n=So(e.firestore,Dp),r=vp(e),i=rm(e.converter,t);return pm(n,[Rp(Op(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bl.exists(!1))]).then(()=>r)}function fm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=ye(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||Zp(n[s])||(i=n[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zp(n[s])){var a,u,l;const e=n[s];n[s]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[s+1]=null===(u=e.error)||void 0===u?void 0:u.bind(e),n[s+2]=null===(l=e.complete)||void 0===l?void 0:l.bind(e)}let c,h,d;if(e instanceof pp)h=So(e.firestore,Dp),d=Qu(e._key.path),c={next:t=>{n[s]&&n[s](mm(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=So(e,fp);h=So(t.firestore,Dp),d=t._query;const r=new Xp(h);c={next:e=>{n[s]&&n[s](new am(h,r,t,e))},error:n[s+1],complete:n[s+2]},nm(e._query)}return function(e,t,n,r){const i=new Qf(r),s=new pf(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>af(await np(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>uf(await np(e),s))}}(Ep(h),d,o,c)}function pm(e,t){return rp(Ep(e),t)}function mm(e,t,n){const r=n.docs.get(t._key),i=new Xp(e);return new sm(e,i,t._key,r,new im(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(e){Bs=e})(Mt),kt(new be("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Dp(new to(e.getProvider("auth-internal")),new so(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xs(Ys.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(e.options.projectId,t)}(s,r),s);return i=a({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Rt($p,Jp,e),Rt($p,Jp,"esm2020")}();function gm(e){let t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function vm(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ym(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function bm(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function wm(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Dm(e){let t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function Em(e,t){let n=t[0],r=t[1],i=t[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function xm(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Cm(e,t,n){let r=t[0],i=t[1],s=t[2],o=n[0],a=n[1],u=n[2];return e[0]=i*u-s*a,e[1]=s*o-r*u,e[2]=r*a-i*o,e}const _m=function(){const e=[0,0,0],t=[0,0,0];return function(n,r){vm(e,n),vm(t,r),Em(e,e),Em(t,t);let i=xm(e,t);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();class Sm extends Array{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.length?this.copy(e):(function(e,t,n,r){e[0]=t,e[1]=n,e[2]=r}(this,e,t,n),this)}copy(e){return vm(this,e),this}add(e,t){return t?ym(this,e,t):ym(this,this,e),this}sub(e,t){return t?bm(this,e,t):bm(this,this,e),this}multiply(e){var t,n,r;return e.length?(n=this,r=e,(t=this)[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2]):wm(this,this,e),this}divide(e){var t,n,r;return e.length?(n=this,r=e,(t=this)[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2]):wm(this,this,1/e),this}inverse(){var e,t;return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(e=this)[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],this}len(){return gm(this)}distance(e){return e?function(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}(this,e):gm(this)}squaredLen(){return Dm(this)}squaredDistance(e){return e?function(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}(this,e):Dm(this)}negate(){var e,t;return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],this}cross(e,t){return t?Cm(this,e,t):Cm(this,this,e),this}scale(e){return wm(this,this,e),this}normalize(){return Em(this,this),this}dot(e){return xm(this,e)}equals(e){return n=e,(t=this)[0]===n[0]&&t[1]===n[1]&&t[2]===n[2];var t,n}applyMatrix3(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2];e[0]=r*n[0]+i*n[3]+s*n[6],e[1]=r*n[1]+i*n[4]+s*n[7],e[2]=r*n[2]+i*n[5]+s*n[8]}(this,this,e),this}applyMatrix4(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o}(this,this,e),this}scaleRotateMatrix4(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*s)/o,e[1]=(n[1]*r+n[5]*i+n[9]*s)/o,e[2]=(n[2]*r+n[6]*i+n[10]*s)/o}(this,this,e),this}applyQuaternion(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2],o=n[0],a=n[1],u=n[2],l=a*s-u*i,c=u*r-o*s,h=o*i-a*r,d=a*h-u*c,f=u*l-o*h,p=o*c-a*l,m=2*n[3];l*=m,c*=m,h*=m,d*=2,f*=2,p*=2,e[0]=r+l+d,e[1]=i+c+f,e[2]=s+h+p}(this,this,e),this}angle(e){return _m(this,e)}lerp(e,t){return function(e,t,n,r){let i=t[0],s=t[1],o=t[2];e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=o+r*(n[2]-o)}(this,this,e,t),this}smoothLerp(e,t,n){return function(e,t,n,r,i){const s=Math.exp(-r*i);let o=t[0],a=t[1],u=t[2];e[0]=n[0]+(o-n[0])*s,e[1]=n[1]+(a-n[1])*s,e[2]=n[2]+(u-n[2])*s}(this,this,e,t,n),this}clone(){return new Sm(this[0],this[1],this[2])}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],n=this[1],r=this[2];return this[0]=e[0]*t+e[4]*n+e[8]*r,this[1]=e[1]*t+e[5]*n+e[9]*r,this[2]=e[2]*t+e[6]*n+e[10]*r,this.normalize()}}const Am=new Sm;let km=1;class Tm{constructor(){let{canvas:e=document.createElement("canvas"),width:t=300,height:n=150,dpr:r=1,alpha:i=!1,depth:s=!0,stencil:o=!1,antialias:a=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:l=!1,powerPreference:c="default",autoClear:h=!0,webgl:d=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={alpha:i,depth:s,stencil:o,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c};this.dpr=r,this.alpha=i,this.color=!0,this.depth=s,this.stencil=o,this.premultipliedAlpha=u,this.autoClear=h,this.id=km++,2===d&&(this.gl=e.getContext("webgl2",f)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",f)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=n,this.state.viewport.y=r,this.gl.viewport(n,r,e,t))}setScissor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.gl.scissor(n,r,e,t)}enable(e){!0!==this.state[e]&&(this.gl.enable(e),this.state[e]=!0)}disable(e){!1!==this.state[e]&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,n,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=r,void 0!==n?this.gl.blendFuncSeparate(e,t,n,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t||(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,void 0!==t?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,n){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,n||0))}setStencilOp(e,t,n){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=n,this.gl.stencilOp(e,t,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer(){let{target:e=this.gl.FRAMEBUFFER,buffer:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,n){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList(e){let{scene:t,camera:n,frustumCull:r,sort:i}=e,s=[];if(n&&r&&n.updateFrustum(),t.traverse(e=>{if(!e.visible)return!0;e.draw&&(r&&e.frustumCulled&&n&&!n.frustumIntersectsMesh(e)||s.push(e))}),i){const e=[],t=[],r=[];s.forEach(i=>{i.program.transparent?i.program.depthTest?t.push(i):r.push(i):e.push(i),i.zDepth=0,0===i.renderOrder&&i.program.depthTest&&n&&(i.worldMatrix.getTranslation(Am),Am.applyMatrix4(n.projectionViewMatrix),i.zDepth=Am.z)}),e.sort(this.sortOpaque),t.sort(this.sortTransparent),r.sort(this.sortUI),s=e.concat(t,r)}return s}render(e){let{scene:t,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:a}=e;null===r?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(a||this.autoClear&&!1!==a)&&(!this.depth||r&&!r.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),n&&n.updateMatrixWorld();this.getRenderList({scene:t,camera:n,frustumCull:o,sort:s}).forEach(e=>{e.draw({camera:n})})}}const Nm=new Sm;let Fm=1,Im=1,Mm=!1;class Pm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=Fm++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in t)this.addAttribute(n,t[n])}addAttribute(e,t){if(this.attributes[e]=t,t.id=Im++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target="index"===e?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else"index"===e?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((e,t)=>{let{name:n,type:r}=t;if(!this.attributes[n])return void console.warn("active attribute ".concat(n," not being supplied"));const i=this.attributes[n];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let s=1;35674===r&&(s=2),35675===r&&(s=3),35676===r&&(s=4);const o=i.size/s,a=1===s?0:s*s*4,u=1===s?0:4*s;for(let l=0;l<s;l++)this.gl.vertexAttribPointer(e+l,o,i.type,i.normalized,i.stride+a,i.offset+l*u),this.gl.enableVertexAttribArray(e+l),this.gl.renderer.vertexAttribDivisor(e+l,i.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw(e){var t;let{program:n,mode:r=this.gl.TRIANGLES}=e;this.gl.renderer.currentGeometry!=="".concat(this.id,"_").concat(n.attributeOrder)&&(this.VAOs[n.attributeOrder]||this.createVAO(n),this.gl.renderer.bindVertexArray(this.VAOs[n.attributeOrder]),this.gl.renderer.currentGeometry="".concat(this.id,"_").concat(n.attributeOrder)),n.attributeLocations.forEach((e,t)=>{let{name:n}=t;const r=this.attributes[n];r.needsUpdate&&this.updateAttribute(r)});let i=2;(null===(t=this.attributes.index)||void 0===t?void 0:t.type)===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;return e.data?e:Mm?void 0:(console.warn("No position buffer data found to compute bounds"),Mm=!0)}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||(this.bounds={min:new Sm,max:new Sm,center:new Sm,scale:new Sm,radius:1/0});const r=this.bounds.min,i=this.bounds.max,s=this.bounds.center,o=this.bounds.scale;r.set(1/0),i.set(-1/0);for(let a=0,u=t.length;a<u;a+=n){const e=t[a],n=t[a+1],s=t[a+2];r.x=Math.min(e,r.x),r.y=Math.min(n,r.y),r.z=Math.min(s,r.z),i.x=Math.max(e,i.x),i.y=Math.max(n,i.y),i.z=Math.max(s,i.z)}o.sub(i,r),s.add(r,i).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let i=0,s=t.length;i<s;i+=n)Nm.fromArray(t,i),r=Math.max(r,this.bounds.center.squaredDistance(Nm));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}class Om extends Pm{constructor(e){let{attributes:t={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}let Rm=1;const Lm={};class Bm{constructor(e){let{vertex:t,fragment:n,uniforms:r={},transparent:i=!1,cullFace:s=e.BACK,frontFace:o=e.CCW,depthTest:a=!0,depthWrite:u=!0,depthFunc:l=e.LEQUAL}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=Rm++,t||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=i,this.cullFace=s,this.frontFace=o,this.depthTest=a,this.depthWrite=u,this.depthFunc=l,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:n})}setShaders(e){let{vertex:t,fragment:n}=e;if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn("".concat(this.gl.getShaderInfoLog(this.vertexShader),"\nVertex Shader\n").concat(zm(t)))),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn("".concat(this.gl.getShaderInfoLog(this.fragmentShader),"\nFragment Shader\n").concat(zm(n)))),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let e=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(e,this.gl.getUniformLocation(this.program,e.name));const t=e.name.match(/(\w+)/g);e.uniformName=t[0],e.nameComponents=t.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const e=this.gl.getActiveAttrib(this.program,o),t=this.gl.getAttribLocation(this.program,e.name);-1!==t&&(i[t]=e.name,this.attributeLocations.set(e,t))}this.attributeOrder=i.join("")}setBlendFunc(e,t,n,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,n){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=n}setStencilOp(e,t,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use(){let{flipFaces:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((e,n)=>{let r=this.uniforms[n.uniformName];for(const t of n.nameComponents){if(!r)break;if(!(t in r)){if(Array.isArray(r.value))break;r=void 0;break}r=r[t]}if(!r)return Vm("Active uniform ".concat(n.name," has not been supplied"));if(r&&void 0===r.value)return Vm("".concat(n.name," uniform is missing a value parameter"));if(r.value.texture)return t+=1,r.value.update(t),jm(this.gl,n.type,e,t);if(r.value.length&&r.value[0].texture){const i=[];return r.value.forEach(e=>{t+=1,e.update(t),i.push(t)}),jm(this.gl,n.type,e,i)}jm(this.gl,n.type,e,r.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function jm(e,t,n,r){r=r.length?function(e){const t=e.length,n=e[0].length;if(void 0===n)return e;const r=t*n;let i=Lm[r];i||(Lm[r]=i=new Float32Array(r));for(let s=0;s<t;s++)i.set(e[s],s*n);return i}(r):r;const i=e.renderer.state.uniformLocations.get(n);if(r.length)if(void 0===i||i.length!==r.length)e.renderer.state.uniformLocations.set(n,r.slice(0));else{if(function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(i,r))return;i.set?i.set(r):function(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t[n]}(i,r),e.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;e.renderer.state.uniformLocations.set(n,r)}switch(t){case 5126:return r.length?e.uniform1fv(n,r):e.uniform1f(n,r);case 35664:return e.uniform2fv(n,r);case 35665:return e.uniform3fv(n,r);case 35666:return e.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?e.uniform1iv(n,r):e.uniform1i(n,r);case 35671:case 35667:return e.uniform2iv(n,r);case 35672:case 35668:return e.uniform3iv(n,r);case 35673:case 35669:return e.uniform4iv(n,r);case 35674:return e.uniformMatrix2fv(n,!1,r);case 35675:return e.uniformMatrix3fv(n,!1,r);case 35676:return e.uniformMatrix4fv(n,!1,r)}}function zm(e){let t=e.split("\n");for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}let Um=0;function Vm(e){Um>100||(console.warn(e),Um++,Um>100&&console.warn("More than 100 program warnings - stopping logs."))}function qm(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Hm(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Wm(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Gm(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function Km(e,t){return e[0]*t[1]-e[1]*t[0]}class Qm extends Array{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e.length?this.copy(e):(function(e,t,n){e[0]=t,e[1]=n}(this,e,t),this)}copy(e){var t,n;return n=e,(t=this)[0]=n[0],t[1]=n[1],this}add(e,t){return t?qm(this,e,t):qm(this,this,e),this}sub(e,t){return t?Hm(this,e,t):Hm(this,this,e),this}multiply(e){var t,n,r;return e.length?(n=this,r=e,(t=this)[0]=n[0]*r[0],t[1]=n[1]*r[1]):Wm(this,this,e),this}divide(e){var t,n,r;return e.length?(n=this,r=e,(t=this)[0]=n[0]/r[0],t[1]=n[1]/r[1]):Wm(this,this,1/e),this}inverse(){var e,t;return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(e=this)[0]=1/t[0],e[1]=1/t[1],this}len(){return Gm(this)}distance(e){return e?function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}(this,e):Gm(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}(this,e):function(e){var t=e[0],n=e[1];return t*t+n*n}(this)}negate(){var e,t;return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(e=this)[0]=-t[0],e[1]=-t[1],this}cross(e,t){return t?Km(e,t):Km(this,e)}scale(e){return Wm(this,this,e),this}normalize(){return function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i}(this,this),this}dot(e){return n=e,(t=this)[0]*n[0]+t[1]*n[1];var t,n}equals(e){return n=e,(t=this)[0]===n[0]&&t[1]===n[1];var t,n}applyMatrix3(e){return function(e,t,n){var r=t[0],i=t[1];e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7]}(this,this,e),this}applyMatrix4(e){return function(e,t,n){let r=t[0],i=t[1];e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13]}(this,this,e),this}lerp(e,t){return function(e,t,n,r){var i=t[0],s=t[1];e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s)}(this,this,e,t),this}smoothLerp(e,t,n){return function(e,t,n,r,i){const s=Math.exp(-r*i);let o=t[0],a=t[1];e[0]=n[0]+(o-n[0])*s,e[1]=n[1]+(a-n[1])*s}(this,this,e,t,n),this}clone(){return new Qm(this[0],this[1])}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[t],this[1]=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e}}function Ym(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3],a=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*a+i*l-s*u,e[1]=i*c+o*u+s*a-r*l,e[2]=s*c+o*l+r*u-i*a,e[3]=o*c-r*a-i*u-s*l,e}const Xm=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},$m=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},Jm=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},Zm=function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=s*o,e};class eg extends Array{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),this.onChange=()=>{},this._target=this;const e=["0","1","2","3"];return new Proxy(this,{set(t,n){const r=Reflect.set(...arguments);return r&&e.includes(n)&&t.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){var e;return(e=this._target)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.onChange(),this}set(e,t,n,r){return e.length?this.copy(e):($m(this._target,e,t,n,r),this.onChange(),this)}rotateX(e){return function(e,t,n){n*=.5;let r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),u=Math.cos(n);e[0]=r*u+o*a,e[1]=i*u+s*a,e[2]=s*u-i*a,e[3]=o*u-r*a}(this._target,this._target,e),this.onChange(),this}rotateY(e){return function(e,t,n){n*=.5;let r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),u=Math.cos(n);e[0]=r*u-s*a,e[1]=i*u+o*a,e[2]=s*u+r*a,e[3]=o*u-i*a}(this._target,this._target,e),this.onChange(),this}rotateZ(e){return function(e,t,n){n*=.5;let r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*a,e[1]=i*u-r*a,e[2]=s*u+o*a,e[3]=o*u-s*a}(this._target,this._target,e),this.onChange(),this}inverse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;e[0]=-n*a,e[1]=-r*a,e[2]=-i*a,e[3]=s*a}(this._target,e),this.onChange(),this}conjugate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;var t,n;return t=this._target,n=e,t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],this.onChange(),this}copy(e){return Xm(this._target,e),this.onChange(),this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return Zm(this._target,e),this.onChange(),this}multiply(e,t){return t?Ym(this._target,e,t):Ym(this._target,this._target,e),this.onChange(),this}dot(e){return Jm(this._target,e)}fromMatrix3(e){return function(e,t){let n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);let i=(r+1)%3,s=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*s+s]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*i+s]-t[3*s+i])*n,e[i]=(t[3*i+r]+t[3*r+i])*n,e[s]=(t[3*s+r]+t[3*r+s])*n}}(this._target,e),this.onChange(),this}fromEuler(e,t){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ",r=Math.sin(.5*t[0]),i=Math.cos(.5*t[0]),s=Math.sin(.5*t[1]),o=Math.cos(.5*t[1]),a=Math.sin(.5*t[2]),u=Math.cos(.5*t[2]);"XYZ"===n?(e[0]=r*o*u+i*s*a,e[1]=i*s*u-r*o*a,e[2]=i*o*a+r*s*u,e[3]=i*o*u-r*s*a):"YXZ"===n?(e[0]=r*o*u+i*s*a,e[1]=i*s*u-r*o*a,e[2]=i*o*a-r*s*u,e[3]=i*o*u+r*s*a):"ZXY"===n?(e[0]=r*o*u-i*s*a,e[1]=i*s*u+r*o*a,e[2]=i*o*a+r*s*u,e[3]=i*o*u-r*s*a):"ZYX"===n?(e[0]=r*o*u-i*s*a,e[1]=i*s*u+r*o*a,e[2]=i*o*a-r*s*u,e[3]=i*o*u+r*s*a):"YZX"===n?(e[0]=r*o*u+i*s*a,e[1]=i*s*u+r*o*a,e[2]=i*o*a-r*s*u,e[3]=i*o*u-r*s*a):"XZY"===n&&(e[0]=r*o*u-i*s*a,e[1]=i*s*u-r*o*a,e[2]=i*o*a+r*s*u,e[3]=i*o*u+r*s*a)}(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return function(e,t,n){n*=.5;let r=Math.sin(n);e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n)}(this._target,e,t),this.onChange(),this}slerp(e,t){return function(e,t,n,r){let i,s,o,a,u,l=t[0],c=t[1],h=t[2],d=t[3],f=n[0],p=n[1],m=n[2],g=n[3];s=l*f+c*p+h*m+d*g,s<0&&(s=-s,f=-f,p=-p,m=-m,g=-g),1-s>1e-6?(i=Math.acos(s),o=Math.sin(i),a=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(a=1-r,u=r),e[0]=a*l+u*f,e[1]=a*c+u*p,e[2]=a*h+u*m,e[3]=a*d+u*g}(this._target,this._target,e,t),this.onChange(),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}function tg(e){let t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15];return(t*o-n*s)*(h*g-d*m)-(t*a-r*s)*(c*g-d*p)+(t*u-i*s)*(c*m-h*p)+(n*a-r*o)*(l*g-d*f)-(n*u-i*o)*(l*m-h*f)+(r*u-i*a)*(l*p-c*f)}function ng(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],w=n[1],D=n[2],E=n[3];return e[0]=b*r+w*a+D*h+E*m,e[1]=b*i+w*u+D*d+E*g,e[2]=b*s+w*l+D*f+E*v,e[3]=b*o+w*c+D*p+E*y,b=n[4],w=n[5],D=n[6],E=n[7],e[4]=b*r+w*a+D*h+E*m,e[5]=b*i+w*u+D*d+E*g,e[6]=b*s+w*l+D*f+E*v,e[7]=b*o+w*c+D*p+E*y,b=n[8],w=n[9],D=n[10],E=n[11],e[8]=b*r+w*a+D*h+E*m,e[9]=b*i+w*u+D*d+E*g,e[10]=b*s+w*l+D*f+E*v,e[11]=b*o+w*c+D*p+E*y,b=n[12],w=n[13],D=n[14],E=n[15],e[12]=b*r+w*a+D*h+E*m,e[13]=b*i+w*u+D*d+E*g,e[14]=b*s+w*l+D*f+E*v,e[15]=b*o+w*c+D*p+E*y,e}function rg(e,t){let n=t[0],r=t[1],i=t[2],s=t[4],o=t[5],a=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(s,o,a),e[2]=Math.hypot(u,l,c),e}const ig=function(){const e=[1,1,1];return function(t,n){let r=e;rg(r,n);let i=1/r[0],s=1/r[1],o=1/r[2],a=n[0]*i,u=n[1]*s,l=n[2]*o,c=n[4]*i,h=n[5]*s,d=n[6]*o,f=n[8]*i,p=n[9]*s,m=n[10]*o,g=a+h+m,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(d-p)/v,t[1]=(f-l)/v,t[2]=(u-c)/v):a>h&&a>m?(v=2*Math.sqrt(1+a-h-m),t[3]=(d-p)/v,t[0]=.25*v,t[1]=(u+c)/v,t[2]=(f+l)/v):h>m?(v=2*Math.sqrt(1+h-a-m),t[3]=(f-l)/v,t[0]=(u+c)/v,t[1]=.25*v,t[2]=(d+p)/v):(v=2*Math.sqrt(1+m-a-h),t[3]=(u-c)/v,t[0]=(f+l)/v,t[1]=(d+p)/v,t[2]=.25*v),t}}();function sg(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function og(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}class ag extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,arguments.length>15&&void 0!==arguments[15]?arguments[15]:1),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,n,r,i,s,o,a,u,l,c,h,d,f,p,m){return e.length?this.copy(e):(function(e,t,n,r,i,s,o,a,u,l,c,h,d,f,p,m,g){e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=u,e[8]=l,e[9]=c,e[10]=h,e[11]=d,e[12]=f,e[13]=p,e[14]=m,e[15]=g}(this,e,t,n,r,i,s,o,a,u,l,c,h,d,f,p,m),this)}translate(e){return function(e,t,n){let r,i,s,o,a,u,l,c,h,d,f,p,m=n[0],g=n[1],v=n[2];t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=u,e[6]=l,e[7]=c,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*m+a*g+h*v+t[12],e[13]=i*m+u*g+d*v+t[13],e[14]=s*m+l*g+f*v+t[14],e[15]=o*m+c*g+p*v+t[15])}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}rotate(e,t){return function(e,t,n,r){let i,s,o,a,u,l,c,h,d,f,p,m,g,v,y,b,w,D,E,x,C,_,S,A,k=r[0],T=r[1],N=r[2],F=Math.hypot(k,T,N);Math.abs(F)<1e-6||(F=1/F,k*=F,T*=F,N*=F,i=Math.sin(n),s=Math.cos(n),o=1-s,a=t[0],u=t[1],l=t[2],c=t[3],h=t[4],d=t[5],f=t[6],p=t[7],m=t[8],g=t[9],v=t[10],y=t[11],b=k*k*o+s,w=T*k*o+N*i,D=N*k*o-T*i,E=k*T*o-N*i,x=T*T*o+s,C=N*T*o+k*i,_=k*N*o+T*i,S=T*N*o-k*i,A=N*N*o+s,e[0]=a*b+h*w+m*D,e[1]=u*b+d*w+g*D,e[2]=l*b+f*w+v*D,e[3]=c*b+p*w+y*D,e[4]=a*E+h*x+m*C,e[5]=u*E+d*x+g*C,e[6]=l*E+f*x+v*C,e[7]=c*E+p*x+y*C,e[8]=a*_+h*S+m*A,e[9]=u*_+d*S+g*A,e[10]=l*_+f*S+v*A,e[11]=c*_+p*S+y*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,e,t),this}scale(e){return function(e,t,n){let r=n[0],i=n[1],s=n[2];e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,"number"===typeof e?[e,e,e]:e),this}add(e,t){return t?sg(this,e,t):sg(this,this,e),this}sub(e,t){return t?og(this,e,t):og(this,this,e),this}multiply(e,t){var n,r,i;return e.length?t?ng(this,e,t):ng(this,this,e):(r=this,i=e,(n=this)[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=r[3]*i,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=r[7]*i,n[8]=r[8]*i,n[9]=r[9]*i,n[10]=r[10]*i,n[11]=r[11]*i,n[12]=r[12]*i,n[13]=r[13]*i,n[14]=r[14]*i,n[15]=r[15]*i),this}identity(){var e;return(e=this)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}copy(e){var t,n;return n=e,(t=this)[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}fromPerspective(){let{fov:e,aspect:t,near:n,far:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t,n,r,i){let s=1/Math.tan(t/2),o=1/(r-i);e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0}(this,e,t,n,r),this}fromOrthogonal(e){let{left:t,right:n,bottom:r,top:i,near:s,far:o}=e;return function(e,t,n,r,i,s,o){let a=1/(t-n),u=1/(r-i),l=1/(s-o);e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*u,e[14]=(o+s)*l,e[15]=1}(this,t,n,r,i,s,o),this}fromQuaternion(e){return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=n+n,a=r+r,u=i+i,l=n*o,c=r*o,h=r*a,d=i*o,f=i*a,p=i*u,m=s*o,g=s*a,v=s*u;e[0]=1-h-p,e[1]=c+v,e[2]=d-g,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=f+m,e[7]=0,e[8]=d+g,e[9]=f-m,e[10]=1-l-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(){return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*a-r*o,b=n*u-i*o,w=n*l-s*o,D=r*u-i*a,E=r*l-s*a,x=i*l-s*u,C=c*m-h*p,_=c*g-d*p,S=c*v-f*p,A=h*g-d*m,k=h*v-f*m,T=d*v-f*g,N=y*T-b*k+w*A+D*S-E*_+x*C;N&&(N=1/N,e[0]=(a*T-u*k+l*A)*N,e[1]=(i*k-r*T-s*A)*N,e[2]=(m*x-g*E+v*D)*N,e[3]=(d*E-h*x-f*D)*N,e[4]=(u*S-o*T-l*_)*N,e[5]=(n*T-i*S+s*_)*N,e[6]=(g*w-p*x-v*b)*N,e[7]=(c*x-d*w+f*b)*N,e[8]=(o*k-a*S+l*C)*N,e[9]=(r*S-n*k-s*C)*N,e[10]=(p*E-m*w+v*y)*N,e[11]=(h*w-c*E-f*y)*N,e[12]=(a*_-o*A-u*C)*N,e[13]=(n*A-r*_+i*C)*N,e[14]=(m*b-p*D-g*y)*N,e[15]=(c*D-h*b+d*y)*N)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}compose(e,t,n){return function(e,t,n,r){const i=e,s=t[0],o=t[1],a=t[2],u=t[3],l=s+s,c=o+o,h=a+a,d=s*l,f=s*c,p=s*h,m=o*c,g=o*h,v=a*h,y=u*l,b=u*c,w=u*h,D=r[0],E=r[1],x=r[2];i[0]=(1-(m+v))*D,i[1]=(f+w)*D,i[2]=(p-b)*D,i[3]=0,i[4]=(f-w)*E,i[5]=(1-(d+v))*E,i[6]=(g+y)*E,i[7]=0,i[8]=(p+b)*x,i[9]=(g-y)*x,i[10]=(1-(d+m))*x,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1}(this,e,t,n),this}decompose(e,t,n){return function(e,t,n,r){let i=gm([e[0],e[1],e[2]]);const s=gm([e[4],e[5],e[6]]),o=gm([e[8],e[9],e[10]]);tg(e)<0&&(i=-i),n[0]=e[12],n[1]=e[13],n[2]=e[14];const a=e.slice(),u=1/i,l=1/s,c=1/o;a[0]*=u,a[1]*=u,a[2]*=u,a[4]*=l,a[5]*=l,a[6]*=l,a[8]*=c,a[9]*=c,a[10]*=c,ig(t,a),r[0]=i,r[1]=s,r[2]=o}(this,e,t,n),this}getRotation(e){return ig(e,this),this}getTranslation(e){var t,n;return n=this,(t=e)[0]=n[12],t[1]=n[13],t[2]=n[14],this}getScaling(e){return rg(e,this),this}getMaxScaleOnAxis(){return function(e){let t=e[0],n=e[1],r=e[2],i=e[4],s=e[5],o=e[6],a=e[8],u=e[9],l=e[10];const c=t*t+n*n+r*r,h=i*i+s*s+o*o,d=a*a+u*u+l*l;return Math.sqrt(Math.max(c,h,d))}(this)}lookAt(e,t,n){return function(e,t,n,r){let i=t[0],s=t[1],o=t[2],a=r[0],u=r[1],l=r[2],c=i-n[0],h=s-n[1],d=o-n[2],f=c*c+h*h+d*d;0===f?d=1:(f=1/Math.sqrt(f),c*=f,h*=f,d*=f);let p=u*d-l*h,m=l*c-a*d,g=a*h-u*c;f=p*p+m*m+g*g,0===f&&(l?a+=1e-6:u?l+=1e-6:u+=1e-6,p=u*d-l*h,m=l*c-a*d,g=a*h-u*c,f=p*p+m*m+g*g),f=1/Math.sqrt(f),p*=f,m*=f,g*=f,e[0]=p,e[1]=m,e[2]=g,e[3]=0,e[4]=h*g-d*m,e[5]=d*p-c*g,e[6]=c*m-h*p,e[7]=0,e[8]=c,e[9]=h,e[10]=d,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1}(this,e,t,n),this}determinant(){return tg(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}const ug=new ag;class lg extends Array{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YXZ";super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e),this.order=t,this.onChange=()=>{},this._target=this;const n=["0","1","2"];return new Proxy(this,{set(e,t){const r=Reflect.set(...arguments);return r&&n.includes(t)&&e.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ";"XYZ"===n?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):"YXZ"===n?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):"ZXY"===n?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):"ZYX"===n?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):"YZX"===n?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):"XZY"===n&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0))}(this._target,e,t),this.onChange(),this}fromQuaternion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order,n=arguments.length>2?arguments[2]:void 0;return ug.fromQuaternion(e),this._target.fromRotationMatrix(ug,t),n||this.onChange(),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class cg{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new ag,this.worldMatrix=new ag,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Sm,this.quaternion=new eg,this.scale=new Sm(1),this.rotation=new lg,this.up=new Sm(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,n=this.children.length;t<n;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function hg(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=n[0],f=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return e[0]=d*r+f*o+p*l,e[1]=d*i+f*a+p*c,e[2]=d*s+f*u+p*h,e[3]=m*r+g*o+v*l,e[4]=m*i+g*a+v*c,e[5]=m*s+g*u+v*h,e[6]=y*r+b*o+w*l,e[7]=y*i+b*a+w*c,e[8]=y*s+b*u+w*h,e}class dg extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:1),this}set(e,t,n,r,i,s,o,a,u){return e.length?this.copy(e):(function(e,t,n,r,i,s,o,a,u,l){e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=u,e[8]=l}(this,e,t,n,r,i,s,o,a,u),this)}translate(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=n[0],f=n[1];e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=u,e[6]=d*r+f*o+l,e[7]=d*i+f*a+c,e[8]=d*s+f*u+h}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}rotate(e){return function(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=Math.sin(n),f=Math.cos(n);e[0]=f*r+d*o,e[1]=f*i+d*a,e[2]=f*s+d*u,e[3]=f*o-d*r,e[4]=f*a-d*i,e[5]=f*u-d*s,e[6]=l,e[7]=c,e[8]=h}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}scale(e){return function(e,t,n){let r=n[0],i=n[1];e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}multiply(e,t){return t?hg(this,e,t):hg(this,this,e),this}identity(){var e;return(e=this)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this}copy(e){var t,n;return n=e,(t=this)[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}fromMatrix4(e){var t,n;return n=e,(t=this)[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],this}fromQuaternion(e){return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=n+n,a=r+r,u=i+i,l=n*o,c=r*o,h=r*a,d=i*o,f=i*a,p=i*u,m=s*o,g=s*a,v=s*u;e[0]=1-h-p,e[3]=c-v,e[6]=d+g,e[1]=c+v,e[4]=1-l-p,e[7]=f-m,e[2]=d-g,e[5]=f+m,e[8]=1-l-h}(this,e),this}fromBasis(e,t,n){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2]),this}inverse(){return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],h=c*o-a*l,d=-c*s+a*u,f=l*s-o*u,p=n*h+r*d+i*f;p&&(p=1/p,e[0]=h*p,e[1]=(-c*r+i*l)*p,e[2]=(a*r-i*o)*p,e[3]=d*p,e[4]=(c*n-i*u)*p,e[5]=(-a*n+i*s)*p,e[6]=f*p,e[7]=(-l*n+r*u)*p,e[8]=(o*n-r*s)*p)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}getNormalMatrix(e){return function(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*a-r*o,b=n*u-i*o,w=n*l-s*o,D=r*u-i*a,E=r*l-s*a,x=i*l-s*u,C=c*m-h*p,_=c*g-d*p,S=c*v-f*p,A=h*g-d*m,k=h*v-f*m,T=d*v-f*g,N=y*T-b*k+w*A+D*S-E*_+x*C;N&&(N=1/N,e[0]=(a*T-u*k+l*A)*N,e[1]=(u*S-o*T-l*_)*N,e[2]=(o*k-a*S+l*C)*N,e[3]=(i*k-r*T-s*A)*N,e[4]=(n*T-i*S+s*_)*N,e[5]=(r*S-n*k-s*C)*N,e[6]=(m*x-g*E+v*D)*N,e[7]=(g*w-p*x-v*b)*N,e[8]=(p*E-m*w+v*y)*N)}(this,e),this}}let fg=0;class pg extends cg{constructor(e){let{geometry:t,program:n,mode:r=e.TRIANGLES,frustumCulled:i=!0,renderOrder:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=fg++,this.geometry=t,this.program=n,this.mode=r,this.frustumCulled=i,this.renderOrder=s,this.modelViewMatrix=new ag,this.normalMatrix=new dg,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw(){let{camera:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e}))}}var mg=n(579);const gg={default:{hueShift:0,noiseIntensity:0,scanlineIntensity:0,speed:.5,scanlineFrequency:0,warpAmount:0},forest:{hueShift:120,noiseIntensity:.05,scanlineIntensity:.1,speed:.3,scanlineFrequency:2,warpAmount:.3},sunshine:{hueShift:40,noiseIntensity:.03,scanlineIntensity:.05,speed:.7,scanlineFrequency:1.5,warpAmount:.2},morning:{hueShift:200,noiseIntensity:.02,scanlineIntensity:.08,speed:.4,scanlineFrequency:1.8,warpAmount:.25},ocean:{hueShift:180,noiseIntensity:.04,scanlineIntensity:.12,speed:.6,scanlineFrequency:2.2,warpAmount:.35},sunset:{hueShift:15,noiseIntensity:.06,scanlineIntensity:.15,speed:.5,scanlineFrequency:1.2,warpAmount:.4},night:{hueShift:240,noiseIntensity:.08,scanlineIntensity:.2,speed:.3,scanlineFrequency:3,warpAmount:.5}};function vg(t){let{theme:n="default",hueShift:r,noiseIntensity:i,scanlineIntensity:s,speed:o,scanlineFrequency:a,warpAmount:u,resolutionScale:l=1}=t;const c=(0,e.useRef)(null),h=gg[n]||gg.default,d=void 0!==r?r:h.hueShift,f=void 0!==i?i:h.noiseIntensity,p=void 0!==s?s:h.scanlineIntensity,m=void 0!==o?o:h.speed,g=void 0!==a?a:h.scanlineFrequency,v=void 0!==u?u:h.warpAmount;return(0,e.useEffect)(()=>{const e=c.current,t=e.parentElement,n=new Tm({dpr:Math.min(window.devicePixelRatio,2),canvas:e}),r=n.gl,i=new Om(r),s=new Bm(r,{vertex:"\n\nattribute vec2 position;\n\nvoid main(){gl_Position=vec4(position,0.0,1.0);}\n\n",fragment:"\n\n#ifdef GL_ES\n\nprecision lowp float;\n\n#endif\n\nuniform vec2 uResolution;\n\nuniform float uTime;\n\nuniform float uHueShift;\n\nuniform float uNoise;\n\nuniform float uScan;\n\nuniform float uScanFreq;\n\nuniform float uWarp;\n\n#define iTime uTime\n\n#define iResolution uResolution\n\nvec4 buf[8];\n\nfloat rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}\n\nmat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);\n\nmat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);\n\nvec3 hueShiftRGB(vec3 col,float deg){\n\n    vec3 yiq=rgb2yiq*col;\n\n    float rad=radians(deg);\n\n    float cosh=cos(rad),sinh=sin(rad);\n\n    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);\n\n    return clamp(yiq2rgb*yiqShift,0.0,1.0);\n\n}\n\nvec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}\n\nvec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){\n\n    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);\n\n    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);\n\n    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);\n\n    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);\n\n    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);\n\n    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);\n\n    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);\n\n    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);\n\n    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);\n\n    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);\n\n    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);\n\n    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);\n\n    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);\n\n    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);\n\n    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);\n\n    buf[0]=sigmoid(buf[0]);\n\n    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);\n\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n\n    vec2 uv=fragCoord/uResolution.xy*2.-1.;\n\n    uv.y*=-1.;\n\n    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;\n\n    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));\n\n}\n\nvoid main(){\n\n    vec4 col;mainImage(col,gl_FragCoord.xy);\n\n    col.rgb=hueShiftRGB(col.rgb,uHueShift);\n\n    float scanline_val=sin(gl_FragCoord.y*uScanFreq)*0.5+0.5;\n\n    col.rgb*=1.-(scanline_val*scanline_val)*uScan;\n\n    col.rgb+=(rand(gl_FragCoord.xy+uTime)-0.5)*uNoise;\n\n    gl_FragColor=vec4(clamp(col.rgb,0.0,1.0),1.0);\n\n}\n\n",uniforms:{uTime:{value:0},uResolution:{value:new Qm},uHueShift:{value:d},uNoise:{value:f},uScan:{value:p},uScanFreq:{value:g},uWarp:{value:v}}}),o=new pg(r,{geometry:i,program:s}),a=()=>{const e=t.clientWidth,r=t.clientHeight;n.setSize(e*l,r*l),s.uniforms.uResolution.value.set(e,r)};window.addEventListener("resize",a),a();const u=performance.now();let h=0;const y=()=>{s.uniforms.uTime.value=(performance.now()-u)/1e3*m,s.uniforms.uHueShift.value=d,s.uniforms.uNoise.value=f,s.uniforms.uScan.value=p,s.uniforms.uScanFreq.value=g,s.uniforms.uWarp.value=v,n.render({scene:o}),h=requestAnimationFrame(y)};return y(),()=>{cancelAnimationFrame(h),window.removeEventListener("resize",a)}},[d,f,p,m,g,v,l]),(0,mg.jsx)("canvas",{ref:c,className:"darkveil-canvas"})}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yg.apply(null,arguments)}var bg={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1},wg=["Matrix","Array"],Dg=["number","BigNumber","bigint","Fraction"];var Eg=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(bg)};yg(Eg,bg,{MATRIX_OPTIONS:wg,NUMBER_OPTIONS:Dg});var xg,Cg,_g=9e15,Sg=1e9,Ag="0123456789abcdef",kg="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tg="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ng={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_g,maxE:_g,crypto:!1},Fg=!0,Ig="[DecimalError] ",Mg=Ig+"Invalid argument: ",Pg=Ig+"Precision limit exceeded",Og=Ig+"crypto unavailable",Rg="[object Decimal]",Lg=Math.floor,Bg=Math.pow,jg=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,zg=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ug=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vg=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qg=1e7,Hg=kg.length-1,Wg=Tg.length-1,Gg={toStringTag:Rg};function Kg(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=iv(n)),s+=r;(n=7-(r=(o=e[t])+"").length)&&(s+=iv(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}function Qg(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Mg+e)}function Yg(e,t,n,r){var i,s,o,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=Bg(10,7-t),a=e[i]%s|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),o=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(e[i+1]/s/100|0)==Bg(10,t-2)-1||(a==s/2||0==a)&&0==(e[i+1]/s/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),o=(r||n<4)&&9999==a||!r&&n>3&&4999==a):o=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(e[i+1]/s/1e3|0)==Bg(10,t-3)-1,o}function Xg(e,t,n){for(var r,i,s=[0],o=0,a=e.length;o<a;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=Ag.indexOf(e.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Gg.absoluteValue=Gg.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Jg(e)},Gg.ceil=function(){return Jg(new this.constructor(this),this.e+1,2)},Gg.clampedTo=Gg.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Mg+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Gg.comparedTo=Gg.cmp=function(e){var t,n,r,i,s=this,o=s.d,a=(e=new s.constructor(e)).d,u=s.s,l=e.s;if(!o||!a)return u&&l?u!==l?u:o===a?0:!o^u<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?u:a[0]?-l:0;if(u!==l)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,n=(r=o.length)<(i=a.length)?r:i;t<n;++t)if(o[t]!==a[t])return o[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Gg.cosine=Gg.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/pv(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=fv(e,1,t.times(i),new e(1));for(var s=n;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,mv(r,n)),r.precision=e,r.rounding=t,Jg(2==Cg||3==Cg?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Gg.cubeRoot=Gg.cbrt=function(){var e,t,n,r,i,s,o,a,u,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(Fg=!1,(s=c.s*Bg(c.s*c,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(n=Kg(c.d),(s=((e=c.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Bg(n,1/3),e=Lg((e+1)/3)-(e%3==(e<0?-1:2)),(r=new h(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),o=(e=h.precision)+3;;)if(l=(u=(a=r).times(a).times(a)).plus(c),r=$g(l.plus(c).times(a),l.plus(u),o+2,1),Kg(a.d).slice(0,o)===(n=Kg(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Jg(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&(Jg(a,e+1,0),a.times(a).times(a).eq(c))){r=a;break}o+=4,i=1}return Fg=!0,Jg(r,e,h.rounding,t)},Gg.decimalPlaces=Gg.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-Lg(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Gg.dividedBy=Gg.div=function(e){return $g(this,new this.constructor(e))},Gg.dividedToIntegerBy=Gg.divToInt=function(e){var t=this.constructor;return Jg($g(this,new t(e),0,1,1),t.precision,t.rounding)},Gg.equals=Gg.eq=function(e){return 0===this.cmp(e)},Gg.floor=function(){return Jg(new this.constructor(this),this.e+1,3)},Gg.greaterThan=Gg.gt=function(e){return this.cmp(e)>0},Gg.greaterThanOrEqualTo=Gg.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Gg.hyperbolicCosine=Gg.cosh=function(){var e,t,n,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?t=(1/pv(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=fv(o,1,s.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=s.times(s),s=a.minus(u.times(c.minus(u.times(c))));return Jg(s,o.precision=n,o.rounding=r,!0)},Gg.hyperbolicSine=Gg.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=fv(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=fv(s,2,i=i.times(1/pv(5,e)),i,!0);for(var o,a=new s(5),u=new s(16),l=new s(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(u.times(o).plus(l))))}return s.precision=t,s.rounding=n,Jg(i,t,n,!0)},Gg.hyperbolicTangent=Gg.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,$g(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Gg.inverseCosine=Gg.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return-1!==n?0===n?e.isNeg()?nv(t,r,i):new t(0):new t(NaN):e.isZero()?nv(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))},Gg.inverseHyperbolicCosine=Gg.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Fg=!1,n=n.times(n).minus(1).sqrt().plus(n),Fg=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Gg.inverseHyperbolicSine=Gg.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Fg=!1,n=n.times(n).plus(1).sqrt().plus(n),Fg=!0,r.precision=e,r.rounding=t,n.ln())},Gg.inverseHyperbolicTangent=Gg.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Jg(new s(i),e,t,!0):(s.precision=n=r-i.e,i=$g(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},Gg.inverseSine=Gg.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?((e=nv(s,n+4,r).times(.5)).s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Gg.inverseTangent=Gg.atan=function(){var e,t,n,r,i,s,o,a,u,l=this,c=l.constructor,h=c.precision,d=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=Wg)return(o=nv(c,h+4,d).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(h+4<=Wg)return(o=nv(c,h+4,d).times(.5)).s=l.s,o}for(c.precision=a=h+10,c.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Fg=!1,t=Math.ceil(a/7),r=1,u=l.times(l),o=new c(l),i=l;-1!==e;)if(i=i.times(u),s=o.minus(i.div(r+=2)),i=i.times(u),void 0!==(o=s.plus(i.div(r+=2))).d[t])for(e=t;o.d[e]===s.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Fg=!0,Jg(o,c.precision=h,c.rounding=d,!0)},Gg.isFinite=function(){return!!this.d},Gg.isInteger=Gg.isInt=function(){return!!this.d&&Lg(this.e/7)>this.d.length-2},Gg.isNaN=function(){return!this.s},Gg.isNegative=Gg.isNeg=function(){return this.s<0},Gg.isPositive=Gg.isPos=function(){return this.s>0},Gg.isZero=function(){return!!this.d&&0===this.d[0]},Gg.lessThan=Gg.lt=function(e){return this.cmp(e)<0},Gg.lessThanOrEqualTo=Gg.lte=function(e){return this.cmp(e)<1},Gg.logarithm=Gg.log=function(e){var t,n,r,i,s,o,a,u,l=this,c=l.constructor,h=c.precision,d=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10===0;)i/=10;s=1!==i}if(Fg=!1,o=lv(l,a=h+5),r=t?tv(c,a+10):lv(e,a),Yg((u=$g(o,r,a,1)).d,i=h,d))do{if(o=lv(l,a+=10),r=t?tv(c,a+10):lv(e,a),u=$g(o,r,a,1),!s){+Kg(u.d).slice(i+1,i+15)+1==1e14&&(u=Jg(u,h+1,0));break}}while(Yg(u.d,i+=10,d));return Fg=!0,Jg(u,h,d)},Gg.minus=Gg.sub=function(e){var t,n,r,i,s,o,a,u,l,c,h,d,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new p(e.d||f.s!==e.s?f:NaN):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(l=f.d,d=e.d,a=p.precision,u=p.rounding,!l[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(f)}return Fg?Jg(e,a,u):e}if(n=Lg(e.e/7),c=Lg(f.e/7),l=l.slice(),s=c-n){for((h=s<0)?(t=l,s=-s,o=d.length):(t=d,n=c,o=l.length),s>(r=Math.max(Math.ceil(a/7),o)+2)&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for((h=(r=l.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(l[r]!=d[r]){h=l[r]<d[r];break}s=0}for(h&&(t=l,l=d,d=t,e.s=-e.s),o=l.length,r=d.length-o;r>0;--r)l[o++]=0;for(r=d.length;r>s;){if(l[--r]<d[r]){for(i=r;i&&0===l[--i];)l[i]=qg-1;--l[i],l[r]+=qg}l[r]-=d[r]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(e.d=l,e.e=ev(l,n),Fg?Jg(e,a,u):e):new p(3===u?-0:0)},Gg.modulo=Gg.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Jg(new r(n),r.precision,r.rounding):(Fg=!1,9==r.modulo?(t=$g(n,e.abs(),0,3,1)).s*=e.s:t=$g(n,e,0,r.modulo,1),t=t.times(e),Fg=!0,n.minus(t))},Gg.naturalExponential=Gg.exp=function(){return uv(this)},Gg.naturalLogarithm=Gg.ln=function(){return lv(this)},Gg.negated=Gg.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Jg(e)},Gg.plus=Gg.add=function(e){var t,n,r,i,s,o,a,u,l,c,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new d(e.d||h.s===e.s?h:NaN)):e=new d(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,c=e.d,a=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(h)),Fg?Jg(e,a,u):e;if(s=Lg(h.e/7),r=Lg(e.e/7),l=l.slice(),i=s-r){for(i<0?(n=l,i=-i,o=c.length):(n=c,r=s,o=l.length),i>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,n=c,c=l,l=n),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/qg|0,l[i]%=qg;for(t&&(l.unshift(t),++r),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=ev(l,r),Fg?Jg(e,a,u):e},Gg.precision=Gg.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Mg+e);return n.d?(t=rv(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Gg.round=function(){var e=this,t=e.constructor;return Jg(new t(e),e.e+1,t.rounding)},Gg.sine=Gg.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:fv(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:0|n,t=t.times(1/pv(5,n)),t=fv(e,2,t,t);for(var i,s=new e(5),o=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(o.times(i).minus(a))));return t}(r,mv(r,n)),r.precision=e,r.rounding=t,Jg(Cg>2?n.neg():n,e,t,!0)):new r(NaN)},Gg.squareRoot=Gg.sqrt=function(){var e,t,n,r,i,s,o=this,a=o.d,u=o.e,l=o.s,c=o.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Fg=!1,0==(l=Math.sqrt(+o))||l==1/0?(((t=Kg(a)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=Lg((u+1)/2)-(u<0||u%2),r=new c(t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(s=r).plus($g(o,s,n+2,1)).times(.5),Kg(s.d).slice(0,n)===(t=Kg(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Jg(r,u+1,1),e=!r.times(r).eq(o));break}if(!i&&(Jg(s,u+1,0),s.times(s).eq(o))){r=s;break}n+=4,i=1}return Fg=!0,Jg(r,u,c.rounding,e)},Gg.tangent=Gg.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=$g(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Jg(2==Cg||4==Cg?n.neg():n,e,t,!0)):new r(NaN)},Gg.times=Gg.mul=function(e){var t,n,r,i,s,o,a,u,l,c=this,h=c.constructor,d=c.d,f=(e=new h(e)).d;if(e.s*=c.s,!d||!d[0]||!f||!f[0])return new h(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*e.s:e.s/0);for(n=Lg(c.e/7)+Lg(e.e/7),(u=d.length)<(l=f.length)&&(s=d,d=f,f=s,o=u,u=l,l=o),s=[],r=o=u+l;r--;)s.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)a=s[i]+f[r]*d[i-r-1]+t,s[i--]=a%qg|0,t=a/qg|0;s[i]=(s[i]+t)%qg|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=ev(s,n),Fg?Jg(e,h.precision,h.rounding):e},Gg.toBinary=function(e,t){return gv(this,2,e,t)},Gg.toDecimalPlaces=Gg.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Qg(e,0,Sg),void 0===t?t=r.rounding:Qg(t,0,8),Jg(n,e+n.e+1,t))},Gg.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Zg(r,!0):(Qg(e,0,Sg),void 0===t?t=i.rounding:Qg(t,0,8),n=Zg(r=Jg(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Gg.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?n=Zg(i):(Qg(e,0,Sg),void 0===t?t=s.rounding:Qg(t,0,8),n=Zg(r=Jg(new s(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Gg.toFraction=function(e){var t,n,r,i,s,o,a,u,l,c,h,d,f=this,p=f.d,m=f.constructor;if(!p)return new m(f);if(l=n=new m(1),r=u=new m(0),o=(s=(t=new m(r)).e=rv(p)-f.e-1)%7,t.d[0]=Bg(10,o<0?7+o:o),null==e)e=s>0?t:l;else{if(!(a=new m(e)).isInt()||a.lt(l))throw Error(Mg+a);e=a.gt(t)?s>0?t:l:a}for(Fg=!1,a=new m(Kg(p)),c=m.precision,m.precision=s=7*p.length*2;h=$g(a,t,0,1,1),1!=(i=n.plus(h.times(r))).cmp(e);)n=r,r=i,i=l,l=u.plus(h.times(i)),u=i,i=t,t=a.minus(h.times(i)),a=i;return i=$g(e.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=f.s,d=$g(l,r,s,1).minus(f).abs().cmp($g(u,n,s,1).minus(f).abs())<1?[l,r]:[u,n],m.precision=c,Fg=!0,d},Gg.toHexadecimal=Gg.toHex=function(e,t){return gv(this,16,e,t)},Gg.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Qg(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Fg=!1,n=$g(n,e,0,t,1).times(e),Fg=!0,Jg(n)):(e.s=n.s,n=e),n},Gg.toNumber=function(){return+this},Gg.toOctal=function(e,t){return gv(this,8,e,t)},Gg.toPower=Gg.pow=function(e){var t,n,r,i,s,o,a=this,u=a.constructor,l=+(e=new u(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new u(Bg(+a,l));if((a=new u(a)).eq(1))return a;if(r=u.precision,s=u.rounding,e.eq(1))return Jg(a,r,s);if((t=Lg(e.e/7))>=e.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=sv(u,a,n,r),e.s<0?new u(1).div(i):Jg(i,r,s);if((o=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(t=0!=(n=Bg(+a,l))&&isFinite(n)?new u(n+"").e:Lg(l*(Math.log("0."+Kg(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(Fg=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=uv(e.times(lv(a,r+n)),r)).d&&Yg((i=Jg(i,r+5,1)).d,r,s)&&(t=r+10,+Kg((i=Jg(uv(e.times(lv(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Jg(i,r+1,0))),i.s=o,Fg=!0,u.rounding=s,Jg(i,r,s))},Gg.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Zg(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Qg(e,1,Sg),void 0===t?t=i.rounding:Qg(t,0,8),n=Zg(r=Jg(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Gg.toSignificantDigits=Gg.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Qg(e,1,Sg),void 0===t?t=n.rounding:Qg(t,0,8)),Jg(new n(this),e,t)},Gg.toString=function(){var e=this,t=e.constructor,n=Zg(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Gg.truncated=Gg.trunc=function(){return Jg(new this.constructor(this),this.e+1,1)},Gg.valueOf=Gg.toJSON=function(){var e=this,t=e.constructor,n=Zg(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var $g=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,o,a,u){var l,c,h,d,f,p,m,g,v,y,b,w,D,E,x,C,_,S,A,k,T=r.constructor,N=r.s==i.s?1:-1,F=r.d,I=i.d;if(!F||!F[0]||!I||!I[0])return new T(r.s&&i.s&&(F?!I||F[0]!=I[0]:I)?F&&0==F[0]||!I?0*N:N/0:NaN);for(u?(f=1,c=r.e-i.e):(u=qg,f=7,c=Lg(r.e/f)-Lg(i.e/f)),A=I.length,_=F.length,y=(v=new T(N)).d=[],h=0;I[h]==(F[h]||0);h++);if(I[h]>(F[h]||0)&&c--,null==s?(E=s=T.precision,o=T.rounding):E=a?s+(r.e-i.e)+1:s,E<0)y.push(1),p=!0;else{if(E=E/f+2|0,h=0,1==A){for(d=0,I=I[0],E++;(h<_||d)&&E--;h++)x=d*u+(F[h]||0),y[h]=x/I|0,d=x%I|0;p=d||h<_}else{for((d=u/(I[0]+1)|0)>1&&(I=e(I,d,u),F=e(F,d,u),A=I.length,_=F.length),C=A,w=(b=F.slice(0,A)).length;w<A;)b[w++]=0;(k=I.slice()).unshift(0),S=I[0],I[1]>=u/2&&++S;do{d=0,(l=t(I,b,A,w))<0?(D=b[0],A!=w&&(D=D*u+(b[1]||0)),(d=D/S|0)>1?(d>=u&&(d=u-1),1==(l=t(m=e(I,d,u),b,g=m.length,w=b.length))&&(d--,n(m,A<g?k:I,g,u))):(0==d&&(l=d=1),m=I.slice()),(g=m.length)<w&&m.unshift(0),n(b,m,w,u),-1==l&&(l=t(I,b,A,w=b.length))<1&&(d++,n(b,A<w?k:I,w,u)),w=b.length):0===l&&(d++,b=[0]),y[h++]=d,l&&b[0]?b[w++]=F[C]||0:(b=[F[C]],w=1)}while((C++<_||void 0!==b[0])&&E--);p=void 0!==b[0]}y[0]||y.shift()}if(1==f)v.e=c,xg=p;else{for(h=1,d=y[0];d>=10;d/=10)h++;v.e=h+c*f-1,Jg(v,a?s+v.e+1:s,o,p)}return v}}();function Jg(e,t,n,r){var i,s,o,a,u,l,c,h,d,f=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=t-i)<0)s+=7,o=t,u=(c=h[d=0])/Bg(10,i-o-1)%10|0;else if((d=Math.ceil((s+1)/7))>=(a=h.length)){if(!r)break e;for(;a++<=d;)h.push(0);c=u=0,i=1,o=(s%=7)-7+1}else{for(c=a=h[d],i=1;a>=10;a/=10)i++;u=(o=(s%=7)-7+i)<0?0:c/Bg(10,i-o-1)%10|0}if(r=r||t<0||void 0!==h[d+1]||(o<0?c:c%Bg(10,i-o-1)),l=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(s>0?o>0?c/Bg(10,i-o):0:h[d-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=Bg(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=d,a=1,d--):(h.length=d+1,a=Bg(10,7-s),h[d]=o>0?(c/Bg(10,i-o)%Bg(10,o)|0)*a:0),l)for(;;){if(0==d){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(e.e++,h[0]==qg&&(h[0]=1));break}if(h[d]+=a,h[d]!=qg)break;h[d--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return Fg&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function Zg(e,t,n){if(!e.isFinite())return cv(e);var r,i=e.e,s=Kg(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+iv(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+iv(-i-1)+s,n&&(r=n-o)>0&&(s+=iv(r))):i>=o?(s+=iv(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+iv(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=iv(r))),s}function ev(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function tv(e,t,n){if(t>Hg)throw Fg=!0,n&&(e.precision=n),Error(Pg);return Jg(new e(kg),t,1,!0)}function nv(e,t,n){if(t>Wg)throw Error(Pg);return Jg(new e(Tg),t,n,!0)}function rv(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function iv(e){for(var t="";e--;)t+="0";return t}function sv(e,t,n,r){var i,s=new e(1),o=Math.ceil(r/7+4);for(Fg=!1;;){if(n%2&&vv((s=s.times(t)).d,o)&&(i=!0),0===(n=Lg(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}vv((t=t.times(t)).d,o)}return Fg=!0,s}function ov(e){return 1&e.d[e.d.length-1]}function av(e,t,n){for(var r,i,s=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){s=i;break}((r=s.cmp(i))===n||0===r&&s.s===n)&&(s=i)}return s}function uv(e,t){var n,r,i,s,o,a,u,l=0,c=0,h=0,d=e.constructor,f=d.rounding,p=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(Fg=!1,u=p):u=t,a=new d(.03125);e.e>-2;)e=e.times(a),h+=5;for(u+=r=Math.log(Bg(2,h))/Math.LN10*2+5|0,n=s=o=new d(1),d.precision=u;;){if(s=Jg(s.times(e),u,1),n=n.times(++c),Kg((a=o.plus($g(s,n,u,1))).d).slice(0,u)===Kg(o.d).slice(0,u)){for(i=h;i--;)o=Jg(o.times(o),u,1);if(null!=t)return d.precision=p,o;if(!(l<3&&Yg(o.d,u-r,f,l)))return Jg(o,d.precision=p,f,Fg=!0);d.precision=u+=10,n=s=a=new d(1),c=0,l++}o=a}}function lv(e,t){var n,r,i,s,o,a,u,l,c,h,d,f=1,p=e,m=p.d,g=p.constructor,v=g.rounding,y=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==t?(Fg=!1,c=y):c=t,g.precision=c+=10,r=(n=Kg(m)).charAt(0),!(Math.abs(s=p.e)<15e14))return l=tv(g,c+2,y).times(s+""),p=lv(new g(r+"."+n.slice(1)),c-10).plus(l),g.precision=y,null==t?Jg(p,y,v,Fg=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Kg((p=p.times(e)).d)).charAt(0),f++;for(s=p.e,r>1?(p=new g("0."+n),s++):p=new g(r+"."+n.slice(1)),h=p,u=o=p=$g(p.minus(1),p.plus(1),c,1),d=Jg(p.times(p),c,1),i=3;;){if(o=Jg(o.times(d),c,1),Kg((l=u.plus($g(o,new g(i),c,1))).d).slice(0,c)===Kg(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(tv(g,c+2,y).times(s+""))),u=$g(u,new g(f),c,1),null!=t)return g.precision=y,u;if(!Yg(u.d,c-10,v,a))return Jg(u,g.precision=y,v,Fg=!0);g.precision=c+=10,l=o=p=$g(h.minus(1),h.plus(1),c,1),d=Jg(p.times(p),c,1),i=a=1}u=l,i+=2}}function cv(e){return String(e.s*e.s/0)}function hv(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),Fg&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function dv(e,t){var n,r,i,s,o,a,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Vg.test(t))return hv(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(zg.test(t))n=16,t=t.toLowerCase();else if(jg.test(t))n=2;else{if(!Ug.test(t))throw Error(Mg+t);n=8}for((s=t.search(/p/i))>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),o=(s=t.indexOf("."))>=0,r=e.constructor,o&&(s=(a=(t=t.replace(".","")).length)-s,i=sv(r,new r(n),s,2*s)),s=c=(l=Xg(t,n,qg)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=ev(l,c),e.d=l,Fg=!1,o&&(e=$g(e,i,4*a)),u&&(e=e.times(Math.abs(u)<54?Bg(2,u):iy.pow(2,u))),Fg=!0,e)}function fv(e,t,n,r,i){var s,o,a,u,l=e.precision,c=Math.ceil(l/7);for(Fg=!1,u=n.times(n),a=new e(r);;){if(o=$g(a.times(u),new e(t++*t++),l,1),a=i?r.plus(o):r.minus(o),r=$g(o.times(u),new e(t++*t++),l,1),void 0!==(o=a.plus(r)).d[c]){for(s=c;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return Fg=!0,o.d.length=c+1,o}function pv(e,t){for(var n=e;--t;)n*=e;return n}function mv(e,t){var n,r=t.s<0,i=nv(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return Cg=r?4:1,t;if((n=t.divToInt(i)).isZero())Cg=r?3:2;else{if((t=t.minus(n.times(i))).lte(s))return Cg=ov(n)?r?2:3:r?4:1,t;Cg=ov(n)?r?1:4:r?3:2}return t.minus(i).abs()}function gv(e,t,n,r){var i,s,o,a,u,l,c,h,d,f=e.constructor,p=void 0!==n;if(p?(Qg(n,1,Sg),void 0===r?r=f.rounding:Qg(r,0,8)):(n=f.precision,r=f.rounding),e.isFinite()){for(p?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(o=(c=Zg(e)).indexOf("."))>=0&&(c=c.replace(".",""),(d=new f(1)).e=c.length-o,d.d=Xg(Zg(d),10,i),d.e=d.d.length),s=u=(h=Xg(c,10,i)).length;0==h[--u];)h.pop();if(h[0]){if(o<0?s--:((e=new f(e)).d=h,e.e=s,h=(e=$g(e,d,n,r,0,i)).d,s=e.e,l=xg),o=h[n],a=i/2,l=l||void 0!==h[n+1],l=r<4?(void 0!==o||l)&&(0===r||r===(e.s<0?3:2)):o>a||o===a&&(4===r||l||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,l)for(;++h[--n]>i-1;)h[n]=0,n||(++s,h.unshift(1));for(u=h.length;!h[u-1];--u);for(o=0,c="";o<u;o++)c+=Ag.charAt(h[o]);if(p){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(h=Xg(c,i,t)).length;!h[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Ag.charAt(h[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)c="0"+c;c="0."+c}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=cv(e);return e.s<0?"-"+c:c}function vv(e,t){if(e.length>t)return e.length=t,!0}function yv(e){return new this(e).abs()}function bv(e){return new this(e).acos()}function wv(e){return new this(e).acosh()}function Dv(e,t){return new this(e).plus(t)}function Ev(e){return new this(e).asin()}function xv(e){return new this(e).asinh()}function Cv(e){return new this(e).atan()}function _v(e){return new this(e).atanh()}function Sv(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?nv(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=nv(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,n=this.atan($g(e,t,s,1)),t=nv(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan($g(e,t,s,1)):(n=nv(this,s,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Av(e){return new this(e).cbrt()}function kv(e){return Jg(e=new this(e),e.e+1,2)}function Tv(e,t,n){return new this(e).clamp(t,n)}function Nv(e){if(!e||"object"!==typeof e)throw Error(Ig+"Object expected");var t,n,r,i=!0===e.defaults,s=["precision",1,Sg,"rounding",0,8,"toExpNeg",-_g,0,"toExpPos",0,_g,"maxE",0,_g,"minE",-_g,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=Ng[n]),void 0!==(r=e[n])){if(!(Lg(r)===r&&r>=s[t+1]&&r<=s[t+2]))throw Error(Mg+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Ng[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Mg+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Og);this[n]=!0}else this[n]=!1}return this}function Fv(e){return new this(e).cos()}function Iv(e){return new this(e).cosh()}function Mv(e,t){return new this(e).div(t)}function Pv(e){return new this(e).exp()}function Ov(e){return Jg(e=new this(e),e.e+1,3)}function Rv(){var e,t,n=new this(0);for(Fg=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Fg=!0,new this(1/0);n=t}return Fg=!0,n.sqrt()}function Lv(e){return e instanceof iy||e&&e.toStringTag===Rg||!1}function Bv(e){return new this(e).ln()}function jv(e,t){return new this(e).log(t)}function zv(e){return new this(e).log(2)}function Uv(e){return new this(e).log(10)}function Vv(){return av(this,arguments,-1)}function qv(){return av(this,arguments,1)}function Hv(e,t){return new this(e).mod(t)}function Wv(e,t){return new this(e).mul(t)}function Gv(e,t){return new this(e).pow(t)}function Kv(e){var t,n,r,i,s=0,o=new this(1),a=[];if(void 0===e?e=this.precision:Qg(e,1,Sg),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Og);for(t=crypto.randomBytes(r*=4);s<r;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(e%=7,(r=a[--s])&&e&&(i=Bg(10,7-e),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=a,o}function Qv(e){return Jg(e=new this(e),e.e+1,this.rounding)}function Yv(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Xv(e){return new this(e).sin()}function $v(e){return new this(e).sinh()}function Jv(e){return new this(e).sqrt()}function Zv(e,t){return new this(e).sub(t)}function ey(){var e=0,t=arguments,n=new this(t[e]);for(Fg=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Fg=!0,Jg(n,this.precision,this.rounding)}function ty(e){return new this(e).tan()}function ny(e){return new this(e).tanh()}function ry(e){return Jg(e=new this(e),e.e+1,1)}Gg[Symbol.for("nodejs.util.inspect.custom")]=Gg.toString,Gg[Symbol.toStringTag]="Decimal";var iy=Gg.constructor=function e(t){var n,r,i;function s(e){var t,n,r,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,Lv(e))return i.s=e.s,void(Fg?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(Fg?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):hv(i,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Vg.test(e)?hv(i,e):dv(i,e);if("bigint"===r)return e<0?(e=-e,i.s=-1):i.s=1,hv(i,e.toString());throw Error(Mg+e)}if(s.prototype=Gg,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Nv,s.clone=e,s.isDecimal=Lv,s.abs=yv,s.acos=bv,s.acosh=wv,s.add=Dv,s.asin=Ev,s.asinh=xv,s.atan=Cv,s.atanh=_v,s.atan2=Sv,s.cbrt=Av,s.ceil=kv,s.clamp=Tv,s.cos=Fv,s.cosh=Iv,s.div=Mv,s.exp=Pv,s.floor=Ov,s.hypot=Rv,s.ln=Bv,s.log=jv,s.log10=Uv,s.log2=zv,s.max=Vv,s.min=qv,s.mod=Hv,s.mul=Wv,s.pow=Gv,s.random=Kv,s.round=Qv,s.sign=Yv,s.sin=Xv,s.sinh=$v,s.sqrt=Jv,s.sub=Zv,s.sum=ey,s.tan=ty,s.tanh=ny,s.trunc=ry,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(Ng);kg=new iy(kg),Tg=new iy(Tg);const sy=iy;function oy(e,t){if(uy(e,t))return e[t];if("function"===typeof e[t]&&ly(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function ay(e,t,n){if(uy(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function uy(e,t){return!(!function(e){return"object"===typeof e&&e&&e.constructor===Object}(e)&&!Array.isArray(e))&&(!!ib(cy,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function ly(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!(ib(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!ib(hy,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}var cy={length:!0,name:!0},hy={toString:!0,valueOf:!0,toLocaleString:!0};class dy{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return oy(this.wrappedObject,e)}set(e,t){return ay(this.wrappedObject,e,t),this}has(e){return uy(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return fy(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){uy(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function fy(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function py(e){return"number"===typeof e}function my(e){return!(!e||"object"!==typeof e||"function"!==typeof e.constructor)&&(!0===e.isBigNumber&&"object"===typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"===typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function gy(e){return"bigint"===typeof e}function vy(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function yy(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function by(e){return e&&!0===e.constructor.prototype.isUnit||!1}function wy(e){return"string"===typeof e}var Dy=Array.isArray;function Ey(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function xy(e){return Array.isArray(e)||Ey(e)}function Cy(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function _y(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Sy(e){return e&&!0===e.constructor.prototype.isRange||!1}function Ay(e){return e&&!0===e.constructor.prototype.isIndex||!1}function ky(e){return"boolean"===typeof e}function Ty(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function Ny(e){return e&&!0===e.constructor.prototype.isHelp||!1}function Fy(e){return"function"===typeof e}function Iy(e){return e instanceof Date}function My(e){return e instanceof RegExp}function Py(e){return!(!e||"object"!==typeof e||e.constructor!==Object||vy(e)||yy(e))}function Oy(e){return!!e&&(e instanceof Map||e instanceof dy||"function"===typeof e.set&&"function"===typeof e.get&&"function"===typeof e.keys&&"function"===typeof e.has)}function Ry(e){return null===e}function Ly(e){return void 0===e}function By(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function jy(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function zy(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Uy(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function Vy(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function qy(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Hy(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Wy(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function Gy(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function Ky(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function Qy(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function Yy(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function Xy(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function $y(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function Jy(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function Zy(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function eb(e){return e&&!0===e.constructor.prototype.isChain||!1}function tb(e){var t=typeof e;return"object"===t?null===e?"null":my(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function nb(e){var t=typeof e;if("number"===t||"bigint"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return nb(e)});if(e instanceof Date)return new Date(e.valueOf());if(my(e))return e;if(Py(e))return function(e,t){var n={};for(var r in e)ib(e,r)&&(n[r]=t(e[r]));return n}(e,nb);if("function"===t)return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function rb(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!rb(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!rb(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function ib(e,t){return e&&Object.hasOwnProperty.call(e,t)}function sb(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],s=e[i];void 0!==s&&(n[i]=s)}return n}(r,t.map(ob));return function(e,t,n){var r=t.filter(e=>!function(e){return e&&"?"===e[0]}(e)).every(e=>void 0!==n[e]);if(!r){var i=t.filter(e=>void 0===n[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function ob(e){return e&&"?"===e[0]?e.slice(1):e}var ab=sb("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,r=sy.clone({precision:n.precision,modulo:sy.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},{isClass:!0});const ub=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},lb=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},cb=function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},hb=function(){throw SyntaxError("Invalid Param")};function db(e,t){const n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}const fb={re:0,im:0},pb=function(e,t){const n=fb;if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return mb.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return mb.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):hb();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,i=0;null===t&&hb();for(let e=0;e<t.length;e++){const s=t[e];" "===s||"\t"===s||"\n"===s||("+"===s?r++:"-"===s?i++:"i"===s||"I"===s?(r+i===0&&hb()," "===t[e+1]||isNaN(t[e+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+t[e+1]),e++),r=i=0):((r+i===0||isNaN(s))&&hb(),"i"===t[e+1]||"I"===t[e+1]?(n.im+=parseFloat((i%2?"-":"")+s),e++):n.re+=parseFloat((i%2?"-":"")+s),r=i=0))}r+i>0&&hb();break;case"number":n.im=0,n.re=e;break;default:hb()}return isNaN(n.re)||isNaN(n.im),n};function mb(e,t){if(!(this instanceof mb))return new mb(e,t);const n=pb(e,t);this.re=n.re,this.im=n.im}function gb(e){return"boolean"===typeof e||!!Number.isFinite(e)&&e===Math.round(e)}mb.prototype={re:0,im:0,sign:function(){const e=cb(this.re,this.im);return new mb(this.re/e,this.im/e)},add:function(e,t){const n=pb(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?mb.NAN:mb.INFINITY:new mb(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=pb(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?mb.NAN:mb.INFINITY:new mb(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=pb(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),s=0===this.re&&0===this.im,o=0===n.re&&0===n.im;return r&&o||i&&s?mb.NAN:r||i?mb.INFINITY:0===n.im&&0===this.im?new mb(this.re*n.re,0):new mb(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=pb(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),s=0===this.re&&0===this.im,o=0===n.re&&0===n.im;if(s&&o||r&&i)return mb.NAN;if(o||r)return mb.INFINITY;if(s||i)return mb.ZERO;if(0===n.im)return new mb(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const e=n.re/n.im,t=n.re*e+n.im;return new mb((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=n.im/n.re,t=n.im*e+n.re;return new mb((this.re+this.im*e)/t,(this.im-this.re*e)/t)}},pow:function(e,t){const n=pb(e,t),r=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return mb.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new mb(Math.pow(this.re,n.re),0);if(0===this.re)switch((n.re%4+4)%4){case 0:return new mb(Math.pow(this.im,n.re),0);case 1:return new mb(0,Math.pow(this.im,n.re));case 2:return new mb(-Math.pow(this.im,n.re),0);case 3:return new mb(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return mb.ZERO;const i=Math.atan2(this.im,this.re),s=db(this.re,this.im);let o=Math.exp(n.re*s-n.im*i),a=n.im*s+n.re*i;return new mb(o*Math.cos(a),o*Math.sin(a))},sqrt:function(){const e=this.re,t=this.im;if(0===t)return e>=0?new mb(Math.sqrt(e),0):new mb(0,Math.sqrt(-e));const n=cb(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new mb(r,t<0?-i:i):new mb(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return 0===this.im?new mb(e,0):new mb(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new mb(Math.expm1(e)*Math.cos(t)+(e=>{const t=Math.sin(.5*e);return-2*t*t})(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return 0===t&&e>0?new mb(Math.log(e),0):new mb(db(e,t),Math.atan2(t,e))},abs:function(){return cb(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new mb(Math.sin(e)*ub(t),Math.cos(e)*lb(t))},cos:function(){const e=this.re,t=this.im;return new mb(Math.cos(e)*ub(t),-Math.sin(e)*lb(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+ub(t);return new mb(Math.sin(e)/n,lb(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-ub(t);return new mb(-Math.sin(e)/n,lb(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*ub(2*t)+.5*Math.cos(2*e);return new mb(Math.cos(e)*ub(t)/n,Math.sin(e)*lb(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*ub(2*t)-.5*Math.cos(2*e);return new mb(Math.sin(e)*ub(t)/n,-Math.cos(e)*lb(t)/n)},asin:function(){const e=this.re,t=this.im,n=new mb(t*t-e*e+1,-2*e*t).sqrt(),r=new mb(n.re-t,n.im+e).log();return new mb(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new mb(t*t-e*e+1,-2*e*t).sqrt(),r=new mb(n.re-t,n.im+e).log();return new mb(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new mb(0,1/0);if(-1===t)return new mb(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new mb((1-t*t-e*e)/n,-2*e/n).log();return new mb(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(0===t)return new mb(Math.atan2(1,e),0);const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).atan():new mb(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new mb(0,1/0);const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).acos():new mb(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new mb(Math.PI/2,1/0);const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).asin():new mb(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new mb(lb(e)*Math.cos(t),ub(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new mb(ub(e)*Math.cos(t),lb(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=ub(e)+Math.cos(t);return new mb(lb(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=ub(e)-Math.cos(t);return new mb(lb(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-ub(2*e);return new mb(-2*lb(e)*Math.cos(t)/n,2*ub(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+ub(2*e);return new mb(2*ub(e)*Math.cos(t)/n,-2*lb(e)*Math.sin(t)/n)},asinh:function(){const e=this.re,t=this.im;if(0===t){if(0===e)return new mb(0,0);const t=Math.abs(e),n=Math.log(t+Math.sqrt(t*t+1));return new mb(e<0?-n:n,0)}const n=new mb(e*e-t*t+1,2*e*t).sqrt();return new mb(e+n.re,t+n.im).log()},acosh:function(){const e=this.re,t=this.im;if(0===t){if(e>1)return new mb(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){const t=Math.sqrt(e*e-1);return new mb(Math.log(-e+t),Math.PI)}return new mb(0,Math.acos(e))}const n=new mb(e-1,t).sqrt(),r=new mb(e+1,t).sqrt();return new mb(e+n.re*r.re-n.im*r.im,t+n.re*r.im+n.im*r.re).log()},atanh:function(){const e=this.re,t=this.im;if(0===t){if(0===e)return new mb(0,0);if(1===e)return new mb(1/0,0);if(-1===e)return new mb(-1/0,0);if(-1<e&&e<1)return new mb(.5*Math.log((1+e)/(1-e)),0);if(e>1){const t=(e+1)/(e-1);return new mb(.5*Math.log(t),-Math.PI/2)}const t=(1+e)/(1-e);return new mb(.5*Math.log(-t),Math.PI/2)}const n=1-e,r=1+e,i=n*n+t*t;if(0===i)return new mb(-1!==e?e/0:0,0!==t?t/0:0);const s=(r*n-t*t)/i,o=(t*n+r*t)/i;return new mb(db(s,o)/2,Math.atan2(o,s)/2)},acoth:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new mb(0,Math.PI/2);const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).atanh():new mb(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(0===t){if(0===e)return new mb(1/0,0);const t=1/e;return new mb(Math.log(t+Math.sqrt(t*t+1)),0)}const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).asinh():new mb(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return mb.INFINITY;const n=e*e+t*t;return 0!==n?new mb(e/n,-t/n).acosh():new mb(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return mb.INFINITY;if(this.isInfinite())return mb.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new mb(e/n,-t/n)},conjugate:function(){return new mb(this.re,-this.im)},neg:function(){return new mb(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new mb(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new mb(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new mb(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=pb(e,t);return Math.abs(n.re-this.re)<=mb.EPSILON&&Math.abs(n.im-this.im)<=mb.EPSILON},clone:function(){return new mb(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<mb.EPSILON&&(e=0),Math.abs(t)<mb.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},mb.ZERO=new mb(0,0),mb.ONE=new mb(1,0),mb.I=new mb(0,1),mb.PI=new mb(Math.PI,0),mb.E=new mb(Math.E,0),mb.INFINITY=new mb(1/0,1/0),mb.NAN=new mb(NaN,NaN),mb.EPSILON=1e-15;var vb=Math.sign||function(e){return e>0?1:e<0?-1:0},yb=Math.log2||function(e){return Math.log(e)/Math.LN2},bb=Math.log10||function(e){return Math.log(e)/Math.LN10},wb=(Math.log1p,Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=Number.isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t}),Db=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Eb(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!gb(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!gb(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(r).concat(e.toString(t)).concat(i)}function xb(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=Cb(t);switch(n){case"fixed":return Sb(e,r);case"exponential":return Ab(e,r);case"engineering":return function(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=_b(e),r=kb(n,t),i=r.exponent,s=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(py(t))for(;t>s.length||i-o+1>s.length;)s.push(0);else for(var a=Math.abs(i-o)-(s.length-1),u=0;u<a;u++)s.push(0);var l=Math.abs(i-o),c=1;for(;l>0;)c++,l--;var h=s.slice(c).join(""),d=py(t)&&h.length||h.match(/[1-9]/)?"."+h:"",f=s.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+f}(e,r);case"bin":return Eb(e,2,i);case"oct":return Eb(e,8,i);case"hex":return Eb(e,16,i);case"auto":return function(e,t,n){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=Rb(null===n||void 0===n?void 0:n.lowerExp,-3),i=Rb(null===n||void 0===n?void 0:n.upperExp,5),s=_b(e),o=t?kb(s,t):s;if(o.exponent<r||o.exponent>=i)return Ab(e,t);var a=o.coefficients,u=o.exponent;a.length<t&&(a=a.concat(Tb(t-a.length))),a=a.concat(Tb(u-a.length+1+(a.length<t?t-a.length:0)));var l=u>0?u:0;return l<(a=Tb(-u).concat(a)).length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Cb(e){var t,n,r="auto";if(void 0!==e)if(py(e))t=e;else if(my(e))t=e.toNumber();else{if(!Py(e))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==e.precision&&(t=Ob(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==e.wordSize&&(n=Ob(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation)}return{notation:r,precision:t,wordSize:n}}function _b(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function Sb(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=_b(e),r="number"===typeof t?kb(n,n.exponent+1+t):n,i=r.coefficients,s=r.exponent+1,o=s+(t||0);return i.length<o&&(i=i.concat(Tb(o-i.length))),s<0&&(i=Tb(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Ab(e,t){if(isNaN(e)||!Number.isFinite(Number(e)))return String(e);var n=_b(e),r=t?kb(n,t):n,i=r.coefficients,s=r.exponent;i.length<t&&(i=i.concat(Tb(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function kb(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Tb(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Nb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(e)&&!isNaN(t)&&(Number.isFinite(e)&&Number.isFinite(t)?e===t||Math.abs(e-t)<=Math.max(n*Math.max(Math.abs(e),Math.abs(t)),r):e===t)}var Fb=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Ib=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Mb=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Pb=(Math.cosh,Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2});Math.tanh;function Ob(e,t){return py(e)?e:my(e)?e.toNumber():void t()}function Rb(e,t){return py(e)?e:my(e)?e.toNumber():t}var Lb=sb("Complex",[],()=>(Object.defineProperty(mb,"name",{value:"Complex"}),mb.prototype.constructor=mb,mb.prototype.type="Complex",mb.prototype.isComplex=!0,mb.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},mb.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},mb.prototype.format=function(e){var t=this.im,n=this.re,r=xb(this.re,e),i=xb(this.im,e),s=py(e)?e:e?e.precision:null;if(null!==s){var o=Math.pow(10,-s);Math.abs(n/t)<o&&(n=0),Math.abs(t/n)<o&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},mb.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===typeof t)return mb(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(py(n)){if(by(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),py(r))return new mb({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},mb.prototype.valueOf=mb.prototype.toString,mb.fromJSON=function(e){return new mb(e)},mb.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},mb),{isClass:!0});function Bb(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),s=0,o=function(e){var o=i[e];if(o&&(delete r[o],delete i[e],--t,n===o)){if(!t)return s=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(a){var u=i[a],l=++s;if(r[l]=a,i[a]=l,!u){if(++t<=e)return;return a=r[n],o(a),a}if(delete r[u],n===u)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=s=0,n=1,r=Object.create(null),i=Object.create(null)}}}function jb(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!==typeof r.cache&&(r.cache={values:new Map,lru:Bb(n||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=t(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=e.apply(e,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}jb(function(e){return new e(1).exp()},{hasher:Ub}),jb(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:Ub});var zb=jb(function(e){return e.acos(-1)},{hasher:Ub});jb(function(e){return zb(e).times(2)},{hasher:Ub});function Ub(e){return e[0].precision}Math.PI,Math.PI,Math.E;Vb("fineStructure",.0072973525693),Vb("weakMixingAngle",.2229),Vb("efimovFactor",22.7),Vb("sackurTetrode",-1.16487052358);function Vb(e,t){return sb(e,["config","BigNumber"],e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t})}"undefined"===typeof BigInt&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const qb=BigInt(0),Hb=BigInt(1),Wb=BigInt(2),Gb=BigInt(3),Kb=BigInt(5),Qb=BigInt(10),Yb=(BigInt(Number.MAX_SAFE_INTEGER),{s:Hb,n:qb,d:Hb});function Xb(e,t){try{e=BigInt(e)}catch(n){throw ow()}return e*t}function $b(e){return"bigint"===typeof e?e:Math.floor(e)}function Jb(e,t){if(t===qb)throw sw();const n=Object.create(iw.prototype);n.s=e<qb?-Hb:Hb;const r=rw(e=e<qb?-e:e,t);return n.n=e/r,n.d=t/r,n}const Zb=[Wb*Wb,Wb,Wb*Wb,Wb,Wb*Wb,Wb*Gb,Wb,Wb*Gb];function ew(e){const t=Object.create(null);if(e<=Hb)return t[e]=Hb,t;const n=e=>{t[e]=(t[e]||qb)+Hb};for(;e%Wb===qb;)n(Wb),e/=Wb;for(;e%Gb===qb;)n(Gb),e/=Gb;for(;e%Kb===qb;)n(Kb),e/=Kb;for(let r=0,i=Wb+Kb;i*i<=e;){for(;e%i===qb;)n(i),e/=i;i+=Zb[r],r=r+1&7}return e>Hb&&n(e),t}const tw=function(e,t){let n=qb,r=Hb,i=Hb;if(void 0===e||null===e);else if(void 0!==t){if("bigint"===typeof e)n=e;else{if(isNaN(e))throw ow();if(e%1!==0)throw aw();n=BigInt(e)}if("bigint"===typeof t)r=t;else{if(isNaN(t))throw ow();if(t%1!==0)throw aw();r=BigInt(t)}i=n*r}else if("object"===typeof e){if("d"in e&&"n"in e)n=BigInt(e.n),r=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(r=BigInt(e[1]));else{if("bigint"!==typeof e)throw ow();n=e}i=n*r}else if("number"===typeof e){if(isNaN(e))throw ow();if(e<0&&(i=-Hb,e=-e),e%1===0)n=BigInt(e);else{let t=1,i=0,s=1,o=1,a=1,u=1e7;for(e>=1&&(t=10**Math.floor(1+Math.log10(e)),e/=t);s<=u&&a<=u;){let t=(i+o)/(s+a);if(e===t){s+a<=u?(n=i+o,r=s+a):a>s?(n=o,r=a):(n=i,r=s);break}e>t?(i+=o,s+=a):(o+=i,a+=s),s>u?(n=o,r=a):(n=i,r=s)}n=BigInt(n)*BigInt(t),r=BigInt(r)}}else if("string"===typeof e){let t=0,s=qb,o=qb,a=qb,u=Hb,l=Hb,c=e.replace(/_/g,"").match(/\d+|./g);if(null===c)throw ow();if("-"===c[t]?(i=-Hb,t++):"+"===c[t]&&t++,c.length===t+1?o=Xb(c[t++],i):"."===c[t+1]||"."===c[t]?("."!==c[t]&&(s=Xb(c[t++],i)),t++,(t+1===c.length||"("===c[t+1]&&")"===c[t+3]||"'"===c[t+1]&&"'"===c[t+3])&&(o=Xb(c[t],i),u=Qb**BigInt(c[t].length),t++),("("===c[t]&&")"===c[t+2]||"'"===c[t]&&"'"===c[t+2])&&(a=Xb(c[t+1],i),l=Qb**BigInt(c[t+1].length)-Hb,t+=3)):"/"===c[t+1]||":"===c[t+1]?(o=Xb(c[t],i),u=Xb(c[t+2],Hb),t+=3):"/"===c[t+3]&&" "===c[t+1]&&(s=Xb(c[t],i),o=Xb(c[t+2],i),u=Xb(c[t+4],Hb),t+=5),!(c.length<=t))throw ow();r=u*l,i=n=a+r*s+l*o}else{if("bigint"!==typeof e)throw ow();n=e,i=e,r=Hb}if(r===qb)throw sw();Yb.s=i<qb?-Hb:Hb,Yb.n=n<qb?-n:n,Yb.d=r<qb?-r:r};function nw(e,t,n){let r=Hb,i=function(e,t,n){let r=Hb;for(;t>qb;e=e*e%n,t>>=Hb)t&Hb&&(r=r*e%n);return r}(Qb,n,t);for(let s=0;s<300;s++){if(r===i)return BigInt(s);r=r*Qb%t,i=i*Qb%t}return 0}function rw(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function iw(e,t){if(tw(e,t),!(this instanceof iw))return Jb(Yb.s*Yb.n,Yb.d);e=rw(Yb.d,Yb.n),this.s=Yb.s,this.n=Yb.n/e,this.d=Yb.d/e}const sw=function(){return new Error("Division by Zero")},ow=function(){return new Error("Invalid argument")},aw=function(){return new Error("Parameters must be integer")};iw.prototype={s:Hb,n:qb,d:Hb,abs:function(){return Jb(this.n,this.d)},neg:function(){return Jb(-this.s*this.n,this.d)},add:function(e,t){return tw(e,t),Jb(this.s*this.n*Yb.d+Yb.s*this.d*Yb.n,this.d*Yb.d)},sub:function(e,t){return tw(e,t),Jb(this.s*this.n*Yb.d-Yb.s*this.d*Yb.n,this.d*Yb.d)},mul:function(e,t){return tw(e,t),Jb(this.s*Yb.s*this.n*Yb.n,this.d*Yb.d)},div:function(e,t){return tw(e,t),Jb(this.s*Yb.s*this.n*Yb.d,this.d*Yb.n)},clone:function(){return Jb(this.s*this.n,this.d)},mod:function(e,t){if(void 0===e)return Jb(this.s*this.n%this.d,Hb);if(tw(e,t),qb===Yb.n*this.d)throw sw();return Jb(this.s*(Yb.d*this.n)%(Yb.n*this.d),Yb.d*this.d)},gcd:function(e,t){return tw(e,t),Jb(rw(Yb.n,this.n)*rw(Yb.d,this.d),Yb.d*this.d)},lcm:function(e,t){return tw(e,t),Yb.n===qb&&this.n===qb?Jb(qb,Hb):Jb(Yb.n*this.n,rw(Yb.n,this.n)*rw(Yb.d,this.d))},inverse:function(){return Jb(this.s*this.d,this.n)},pow:function(e,t){if(tw(e,t),Yb.d===Hb)return Yb.s<qb?Jb((this.s*this.d)**Yb.n,this.n**Yb.n):Jb((this.s*this.n)**Yb.n,this.d**Yb.n);if(this.s<qb)return null;let n=ew(this.n),r=ew(this.d),i=Hb,s=Hb;for(let o in n)if("1"!==o){if("0"===o){i=qb;break}if(n[o]*=Yb.n,n[o]%Yb.d!==qb)return null;n[o]/=Yb.d,i*=BigInt(o)**n[o]}for(let o in r)if("1"!==o){if(r[o]*=Yb.n,r[o]%Yb.d!==qb)return null;r[o]/=Yb.d,s*=BigInt(o)**r[o]}return Yb.s<qb?Jb(s,i):Jb(i,s)},log:function(e,t){if(tw(e,t),this.s<=qb||Yb.s<=qb)return null;const n=Object.create(null),r=ew(Yb.n),i=ew(Yb.d),s=ew(this.n),o=ew(this.d);for(const l in i)r[l]=(r[l]||qb)-i[l];for(const l in o)s[l]=(s[l]||qb)-o[l];for(const l in r)"1"!==l&&(n[l]=!0);for(const l in s)"1"!==l&&(n[l]=!0);let a=null,u=null;for(const l in n){const e=r[l]||qb,t=s[l]||qb;if(e===qb){if(t!==qb)return null;continue}let n=t,i=e;const o=rw(n,i);if(n/=o,i/=o,null===a&&null===u)a=n,u=i;else if(n*u!==a*i)return null}return null!==a&&null!==u?Jb(a,u):null},equals:function(e,t){return tw(e,t),this.s*this.n*Yb.d===Yb.s*Yb.n*this.d},lt:function(e,t){return tw(e,t),this.s*this.n*Yb.d<Yb.s*Yb.n*this.d},lte:function(e,t){return tw(e,t),this.s*this.n*Yb.d<=Yb.s*Yb.n*this.d},gt:function(e,t){return tw(e,t),this.s*this.n*Yb.d>Yb.s*Yb.n*this.d},gte:function(e,t){return tw(e,t),this.s*this.n*Yb.d>=Yb.s*Yb.n*this.d},compare:function(e,t){tw(e,t);let n=this.s*this.n*Yb.d-Yb.s*Yb.n*this.d;return(qb<n)-(n<qb)},ceil:function(e){return e=Qb**BigInt(e||0),Jb($b(this.s*e*this.n/this.d)+(e*this.n%this.d>qb&&this.s>=qb?Hb:qb),e)},floor:function(e){return e=Qb**BigInt(e||0),Jb($b(this.s*e*this.n/this.d)-(e*this.n%this.d>qb&&this.s<qb?Hb:qb),e)},round:function(e){return e=Qb**BigInt(e||0),Jb($b(this.s*e*this.n/this.d)+this.s*((this.s>=qb?Hb:qb)+Wb*(e*this.n%this.d)>this.d?Hb:qb),e)},roundTo:function(e,t){tw(e,t);const n=this.n*Yb.d,r=this.d*Yb.n,i=n%r;let s=$b(n/r);return i+i>=r&&s++,Jb(this.s*s*Yb.n,Yb.d)},divisible:function(e,t){return tw(e,t),Yb.n!==qb&&this.n*Yb.d%(Yb.n*this.d)===qb},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t=this.n,n=this.d,r=function(e,t){for(;t%Wb===qb;t/=Wb);for(;t%Kb===qb;t/=Kb);if(t===Hb)return qb;let n=Qb%t,r=1;for(;n!==Hb;r++)if(n=n*Qb%t,r>2e3)return qb;return BigInt(r)}(0,n),i=nw(0,n,r),s=this.s<qb?"-":"";if(s+=$b(t/n),t%=n,t*=Qb,t&&(s+="."),r){for(let e=i;e--;)s+=$b(t/n),t%=n,t*=Qb;s+="(";for(let e=r;e--;)s+=$b(t/n),t%=n,t*=Qb;s+=")"}else for(let o=e;t&&o--;)s+=$b(t/n),t%=n,t*=Qb;return s},toFraction:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.n,n=this.d,r=this.s<qb?"-":"";if(n===Hb)r+=t;else{const i=$b(t/n);e&&i>qb&&(r+=i,r+=" ",t%=n),r+=t,r+="/",r+=n}return r},toLatex:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.n,n=this.d,r=this.s<qb?"-":"";if(n===Hb)r+=t;else{const i=$b(t/n);e&&i>qb&&(r+=i,t%=n),r+="\\frac{",r+=t,r+="}{",r+=n,r+="}"}return r},toContinued:function(){let e=this.n,t=this.d;const n=[];for(;t;){n.push($b(e/t));const r=e%t;e=t,t=r}return n},simplify:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001;const t=BigInt(Math.ceil(1/e)),n=this.abs(),r=n.toContinued();for(let i=1;i<r.length;i++){let e=Jb(r[i-1],Hb);for(let t=i-2;t>=0;t--)e=e.inverse().add(r[t]);let s=e.sub(n);if(s.n*t<s.d)return e.mul(this.s)}return this}};var uw=sb("Fraction",[],()=>(Object.defineProperty(iw,"name",{value:"Fraction"}),iw.prototype.constructor=iw,iw.prototype.type="Fraction",iw.prototype.isFraction=!0,iw.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},iw.fromJSON=function(e){return new iw(e)},iw),{isClass:!0}),lw=sb("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function cw(e,t,n){var r=new(0,e.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!gb(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),i="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function hw(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=Cb(t);switch(n){case"fixed":return function(e,t){return e.toFixed(t)}(e,r);case"exponential":return dw(e,r);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),s=i.toPrecision(t);if(s.includes("e")){s=new(0,e.constructor)(s).toFixed()}return s+"e"+(n>=0?"+":"")+r.toString()}(e,r);case"bin":return cw(e,2,i);case"oct":return cw(e,8,i);case"hex":return cw(e,16,i);case"auto":var s=fw(null===t||void 0===t?void 0:t.lowerExp,-3),o=fw(null===t||void 0===t?void 0:t.upperExp,5);if(e.isZero())return"0";var a=e.toSignificantDigits(r),u=a.e;return(u>=s&&u<o?a.toFixed():dw(e,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function dw(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function fw(e,t){return py(e)?e:my(e)?e.toNumber():t}function pw(e,t){var n=function(e,t){if("number"===typeof e)return xb(e,t);if(my(e))return hw(e,t);if(function(e){return e&&"object"===typeof e&&"bigint"===typeof e.s&&"bigint"===typeof e.n&&"bigint"===typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():"".concat(e.s*e.n,"/").concat(e.d);if(Array.isArray(e))return vw(e,t);if(wy(e))return mw(e);if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){return"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(n=>mw(n)+": "+pw(e[n],t)).join(", ")+"}"}return String(e)}(e,t);return t&&"object"===typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function mw(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in gw?gw[i]:i,r++}return'"'+n+'"'}var gw={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function vw(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=vw(e[i],t);return n+="]"}return pw(e,t)}function yw(e,t){if(!wy(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+tb(e)+", index: 0)");if(!wy(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+tb(t)+", index: 1)");return e===t?0:e>t?1:-1}function bw(e,t,n){if(!(this instanceof bw))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function ww(e,t,n){if(!(this instanceof ww))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Dw(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ew(e,t,n){var r,i=e.length;if(i!==t[n])throw new bw(i,t[n]);if(n<t.length-1){var s=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new bw(t.length-1,t.length,"<");Ew(e[r],t,s)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new bw(t.length+1,t.length,">")}function xw(e,t){if(0===t.length){if(Array.isArray(e))throw new bw(e.length,0)}else Ew(e,t,0)}function Cw(e,t){if(void 0!==e){if(!py(e)||!gb(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new ww(e,t)}}function _w(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!py(e)||!gb(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pw(t)+")")}),(py(e)||my(e))&&(e=[e]),Sw(e,t,0,void 0!==n?n:0),e}function Sw(e,t,n,r){var i,s,o=e.length,a=t[n],u=Math.min(o,a);if(e.length=a,n<t.length-1){var l=n+1;for(i=0;i<u;i++)s=e[i],Array.isArray(s)||(s=[s],e[i]=s),Sw(s,t,l,r);for(i=u;i<a;i++)s=[],e[i]=s,Sw(s,t,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<a;i++)e[i]=r}}function Aw(e,t){var n=Iw(e,!0),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new bw(0,r,"!=");var i=Tw(t=kw(t,r));if(r!==i)throw new bw(i,r,"!=");try{return function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var s=t[i];n=[];for(var o=r.length/s,a=0;a<o;a++)n.push(r.slice(a*s,(a+1)*s));r=n}return r}(n,t)}catch(s){if(s instanceof bw)throw new bw(i,r,"!=");throw s}}function kw(e,t){var n=Tw(e),r=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%n===0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[i]=-t/n}return r}function Tw(e){return e.reduce((e,t)=>e*t,1)}function Nw(e,t,n,r){var i=r||Dw(e);if(n)for(var s=0;s<n;s++)e=[e],i.unshift(1);for(e=Fw(e,t,0);i.length<t;)i.push(1);return e}function Fw(e,t,n){var r,i;if(Array.isArray(e)){var s=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Fw(e[r],t,s)}else for(var o=n;o<t;o++)e=[e];return e}function Iw(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;if("boolean"!==typeof t)throw new TypeError("Boolean expected for second argument of flatten");var n=[];return t?function e(t){if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e(t[r]);else for(var i=0;i<t.length;i++)n.push(t[i])}(e):function e(t){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i):n.push(i)}}(e),n}function Mw(e,t){for(var n,r=0,i=0;i<e.length;i++){var s=e[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?Mw(s,t):t(s);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function Pw(e,t,n,r){if(r<n){if(e.length!==t.length)throw new bw(e.length,t.length);for(var i=[],s=0;s<e.length;s++)i[s]=Pw(e[s],t[s],n,r+1);return i}return e.concat(t)}function Ow(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,n){return Pw(e,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Rw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(e=>e.length),i=Math.max(...r),s=new Array(i).fill(null),o=0;o<t.length;o++)for(var a=t[o],u=r[o],l=0;l<u;l++){var c=i-u+l;a[l]>s[c]&&(s[c]=a[l])}for(var h=0;h<t.length;h++)Lw(t[h],s);return s}function Lw(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var s=n-r+i;if(e[i]<t[s]&&e[i]>1||e[i]>t[s])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[s]))}}function Bw(e,t){var n=Dw(e);if(rb(n,t))return e;Lw(n,t);var r=Rw(n,t),i=r.length,s=[...Array(i-n.length).fill(1),...n],o=function(e){return yg([],e)}(e);n.length<i&&(n=Dw(o=Aw(o,s)));for(var a=0;a<i;a++)n[a]<r[a]&&(n=Dw(o=jw(o,r[a],a)));return o}function jw(e,t,n){return Ow(...Array(t).fill(e),n)}function zw(e,t){if(!Array.isArray(e))throw new Error("Array expected");var n=Dw(e);if(t.length!==n.length)throw new bw(t.length,n.length);for(var r=0;r<t.length;r++)Cw(t[r],n[r]);return t.reduce((e,t)=>e[t],e)}function Uw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return[];if(n)return function e(n){if(Array.isArray(n)){for(var r=n.length,i=Array(r),s=0;s<r;s++)i[s]=e(n[s]);return i}return t(n)}(e);var r=[];return function n(i,s){if(Array.isArray(i)){for(var o=i.length,a=Array(o),u=0;u<o;u++)r[s]=u,a[u]=n(i[u],s+1);return a}return t(i,r.slice(0,s),e)}(e,0)}bw.prototype=new RangeError,bw.prototype.constructor=RangeError,bw.prototype.name="DimensionError",bw.prototype.isDimensionError=!0,ww.prototype=new RangeError,ww.prototype.constructor=RangeError,ww.prototype.name="IndexError",ww.prototype.isIndexError=!0;var Vw=n(422);function qw(e,t,n,r){if(Vw.isTypedFunction(e)){var i,s;if(r)i=1;else{var o=t.isMatrix?t.size():Dw(t);if(!o.length||0===o[o.length-1])return{isUnary:r,fn:e};var a=o.map(()=>0),u=t.isMatrix?t.get(a):zw(t,a);i=function(e,t,n,r){for(var i=[t,n,r],s=3;s>0;s--){var o=i.slice(0,s);if(null!==Vw.resolve(e,o))return s}}(e,u,a,t)}if(t.isMatrix&&"mixed"!==t.dataType&&void 0!==t.dataType){var l=function(e,t){var n=[];if(Object.entries(e.signatures).forEach(e=>{var[r,i]=e;r.split(",").length===t&&n.push(i)}),1===n.length)return n[0]}(e,i);s=void 0!==l?l:e}else s=e;return i>=1&&i<=3?{isUnary:1===i,fn:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Ww(s,r.slice(0,i),n,e.name)}}:{isUnary:!1,fn:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Ww(s,r,n,e.name)}}}return void 0===r?{isUnary:Hw(e),fn:e}:{isUnary:r,fn:e}}function Hw(e){if(1!==e.length)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var n=t.match(/\(.*?\)/);return!/\.\.\./.test(n)}function Ww(e,t,n,r){try{return e(...t)}catch(i){!function(e,t,n,r){var i;if(e instanceof TypeError&&"wrongType"===(null===(i=e.data)||void 0===i?void 0:i.category)){var s=[];throw s.push("value: ".concat(tb(t[0]))),t.length>=2&&s.push("index: ".concat(tb(t[1]))),t.length>=3&&s.push("array: ".concat(tb(t[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(r,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(t[1])))}throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(e.message))}(i,t,n,r)}}var Gw=sb("DenseMatrix",["Matrix","config"],e=>{var{Matrix:t,config:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!wy(t))throw new Error("Invalid datatype: "+t);if(Ey(e))"DenseMatrix"===e.type?(this._data=nb(e._data),this._size=nb(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&Dy(e.data)&&Dy(e.size))this._data=e.data,this._size=e.size,xw(this._data,this._size),this._datatype=t||e.datatype;else if(Dy(e))this._data=o(e),this._size=Dw(this._data),xw(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+tb(e)+")");this._data=[],this._size=[0],this._datatype=t}}function i(e,t,n){if(0===t.length){for(var r=e._data;Dy(r);)r=r[0];return r}return e._size=t.slice(0),e._data=_w(e._data,e._size,n),e}function s(e,t,n){for(var r=e._size.slice(0),s=!1;r.length<t.length;)r.push(0),s=!0;for(var o=0,a=t.length;o<a;o++)t[o]>r[o]&&(r[o]=t[o],s=!0);s&&i(e,r,n)}function o(e){return Ey(e)?o(e.valueOf()):Dy(e)?e.map(o):e}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Mw(this._data,tb)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return function(e,t){if(!Ay(t))throw new TypeError("Invalid index");var i=n.legacySubset?t.size().every(e=>1===e):t.isScalar();if(i)return e.get(t.min());var s=t.size();if(s.length!==e._size.length)throw new bw(s.length,e._size.length);for(var o=t.min(),a=t.max(),u=0,l=e._size.length;u<l;u++)Cw(o[u],e._size[u]),Cw(a[u],e._size[u]);var c=new r,h=function(e,t){var n=t.size().length-1,r=Array(n);return{data:i(e),size:r.filter(e=>null!==e)};function i(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.dimension(s);function a(e,t){return py(e)?t(e):e.map(t).valueOf()}return py(o)?r[s]=null:r[s]=o.size()[0],a(o,s<n?t=>(Cw(t,e.length),i(e[t],s+1)):t=>(Cw(t,e.length),e[t]))}}(e._data,t);return c._size=h.size,c._datatype=e._datatype,c._data=h.data,n.legacySubset?c.reshape(t.size()):c}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),a=t.isScalar();Ey(n)?(i=n.size(),n=n.valueOf()):i=Dw(n);if(a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(!rb(i,o)){if(0===i.length)n=Bw([n],o);else try{n=Bw(n,o)}catch(h){}i=Dw(n)}if(o.length<e._size.length)throw new bw(o.length,e._size.length,"<");if(i.length<o.length){for(var u=0,l=0;1===o[u]&&1===i[u];)u++;for(;1===o[u];)l++,u++;n=Nw(n,o.length,l,i)}if(!rb(o,i))throw new bw(o,i,">");var c=t.max().map(function(e){return e+1});s(e,c,r),function(e,t,n){var r=t.size().length-1;function i(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t.dimension(s),a=(t,r)=>{Cw(t,e.length),i(e[t],n[r[0]],s+1)},u=(t,r)=>{Cw(t,e.length),e[t]=n[r[0]]};s<r?py(o)?a(o,[0]):o.forEach(a):py(o)?u(o,[0]):o.forEach(u)}i(e,n)}(e._data,t,n)}return e}(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){return zw(this._data,e)},r.prototype.set=function(e,t,n){if(!Dy(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new bw(e.length,this._size.length,"<");var r,i,o,a=e.map(function(e){return e+1});s(this,a,n);var u=this._data;for(r=0,i=e.length-1;r<i;r++)Cw(o=e[r],u.length),u=u[o];return Cw(o=e[e.length-1],u.length),u[o]=t,this},r.prototype.resize=function(e,t,n){if(!xy(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return i(n?this.clone():this,r,t)},r.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=Aw(n._data,e);var r=n._size.reduce((e,t)=>e*t);return n._size=kw(e,r),n},r.prototype.clone=function(){return new r({data:nb(this._data),size:nb(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,r=n._size.length-1;if(r<0)return n.clone();var i=qw(e,n,"map",t),s=i.fn,o=n.create(void 0,n._datatype);if(o._size=n._size,t||i.isUnary)return o._data=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=Array(t.length);if(n<r)for(var o=0;o<t.length;o++)i[o]=e(t[o],n+1);else for(var a=0;a<t.length;a++)i[a]=s(t[a]);return i}(n._data),o;if(0===r){for(var a=n.valueOf(),u=Array(a.length),l=0;l<a.length;l++)u[l]=s(a[l],[l],n);return o._data=u,o}var c=[];return o._data=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=Array(t.length);if(i<r)for(var a=0;a<t.length;a++)c[i]=a,o[a]=e(t[a],i+1);else for(var u=0;u<t.length;u++)c[i]=u,o[u]=s(t[u],c.slice(),n);return o}(n._data),o},r.prototype.forEach=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,r=n._size.length-1;if(!(r<0)){var i=qw(e,n,"map",t),s=i.fn;if(t||i.isUnary)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n<r)for(var i=0;i<t.length;i++)e(t[i],n+1);else for(var o=0;o<t.length;o++)s(t[o])})(n._data);else if(0!==r){var o=[];!function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i<r)for(var a=0;a<t.length;a++)o[i]=a,e(t[a],i+1);else for(var u=0;u<t.length;u++)o[i]=u,s(t[u],o.slice(),n)}(n._data)}else for(var a=0;a<n._data.length;a++)s(n._data[a],[a],n)}},r.prototype[Symbol.iterator]=function*(){var e=this._size.length-1;if(!(e<0))if(0!==e)for(var t=Array(e+1).fill(0),n=this._size.reduce((e,t)=>e*t,1),r=0;r<n;r++){for(var i=this._data,s=0;s<e;s++)i=i[t[s]];yield{value:i[t[e]],index:t.slice()};for(var o=e;o>=0&&(t[o]++,!(t[o]<this._size[o]));o--)t[o]=0}else for(var a=0;a<this._data.length;a++)yield{value:this._data[a],index:[a]}},r.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var n of t)e.push(new r([n],this._datatype));return e},r.prototype.columns=function(){var e=this,t=[],n=this.size();if(2!==n.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,s=function(n){var s=i.map(e=>[e[n]]);t.push(new r(s,e._datatype))},o=0;o<n[1];o++)s(o);return t},r.prototype.toArray=function(){return nb(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return pw(this._data,e)},r.prototype.toString=function(){return pw(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(my(e)&&(e=e.toNumber()),!py(e)||!gb(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=e<0?-e:0,i=this._size[0],s=this._size[1],o=Math.min(i-n,s-t),a=[],u=0;u<o;u++)a[u]=this._data[u+n][u+t];return new r({data:a,size:[o],datatype:this._datatype})},r.diagonal=function(e,t,n,i){if(!Dy(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(my(e)&&(e=e.toNumber()),!py(e)||!gb(e)||e<1)throw new Error("Size values must be positive integers");return e}),n){if(my(n)&&(n=n.toNumber()),!py(n)||!gb(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,o=n>0?n:0,a=n<0?-n:0,u=e[0],l=e[1],c=Math.min(u-a,l-o);if(Dy(t)){if(t.length!==c)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(Ey(t)){var h=t.size();if(1!==h.length||h[0]!==c)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};i||(i=my(s(0))?s(0).mul(0):0);var d=[];if(e.length>0){d=_w(d,e,i);for(var f=0;f<c;f++)d[f+a][f+o]=s(f)}return new r({data:d,size:[u,l]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!py(e)||!gb(e)||!py(t)||!gb(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Cw(e,this._size[0]),Cw(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},r},{isClass:!0}),Kw=function(){return Kw=Vw.create,Vw},Qw=sb("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:i}=e,s=Kw();return s.clear(),s.addTypes([{name:"number",test:py},{name:"Complex",test:vy},{name:"BigNumber",test:my},{name:"bigint",test:gy},{name:"Fraction",test:yy},{name:"Unit",test:by},{name:"identifier",test:e=>wy&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:wy},{name:"Chain",test:eb},{name:"Array",test:Dy},{name:"Matrix",test:Ey},{name:"DenseMatrix",test:Cy},{name:"SparseMatrix",test:_y},{name:"Range",test:Sy},{name:"Index",test:Ay},{name:"boolean",test:ky},{name:"ResultSet",test:Ty},{name:"Help",test:Ny},{name:"function",test:Fy},{name:"Date",test:Iy},{name:"RegExp",test:My},{name:"null",test:Ry},{name:"undefined",test:Ly},{name:"AccessorNode",test:By},{name:"ArrayNode",test:jy},{name:"AssignmentNode",test:zy},{name:"BlockNode",test:Uy},{name:"ConditionalNode",test:Vy},{name:"ConstantNode",test:qy},{name:"FunctionNode",test:Wy},{name:"FunctionAssignmentNode",test:Hy},{name:"IndexNode",test:Gy},{name:"Node",test:Ky},{name:"ObjectNode",test:Qy},{name:"OperatorNode",test:Yy},{name:"ParenthesisNode",test:Xy},{name:"RangeNode",test:$y},{name:"RelationalNode",test:Jy},{name:"SymbolNode",test:Zy},{name:"Map",test:Oy},{name:"Object",test:Py}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||Yw(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||Xw(e),new n(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return n||Xw(e),new n(e.toNumber(),0)}},{from:"bigint",to:"number",convert:function(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+e+")");return Number(e)}},{from:"bigint",to:"BigNumber",convert:function(e){return t||Yw(e),new t(e.toString())}},{from:"bigint",to:"Fraction",convert:function(e){return i||$w(e),new i(e)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||Xw(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||$w(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||Yw(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(e){try{return BigInt(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(e){i||$w(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||Xw(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||Yw(e),new t(+e)}},{from:"boolean",to:"bigint",convert:function(e){return BigInt(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||$w(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),s.onMismatch=(e,t,n)=>{var r=s.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&xy(t[0])&&n.some(e=>!e.params.includes(","))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},s.onMismatch=(e,t,n)=>{var r=s.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&xy(t[0])&&n.some(e=>!e.params.includes(","))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},s});function Yw(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Xw(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function $w(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}function Jw(e,t,n){if(!n)return Ey(e)?e.map(e=>t(e),!1,!0):Uw(e,t,!0);var r=e=>0===e?e:t(e);return Ey(e)?e.map(e=>r(e),!1,!0):Uw(e,r,!0)}var Zw="number",eD="number, number";function tD(e){return Math.abs(e)}function nD(e,t){return e+t}function rD(e,t){return e-t}function iD(e,t){return e*t}function sD(e){return-e}function oD(e){return e}function aD(e){return wb(e)}function uD(e){return e*e*e}function lD(e){return Math.exp(e)}function cD(e){return Db(e)}function hD(e,t){if(!gb(e)||!gb(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function dD(e){return bb(e)}function fD(e){return yb(e)}function pD(e){return vb(e)}function mD(e){return e*e}function gD(e,t){var n,r,i,s=0,o=1,a=1,u=0;if(!gb(e)||!gb(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=s,s=o-r*s,o=n,n=a,a=u-r*a,u=n,e=t,t=i;return e<0?[-e,-o,-u]:[e,e?o:0,u]}function vD(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function yD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!gb(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Sb(e,t))}tD.signature=Zw,nD.signature=eD,rD.signature=eD,iD.signature=eD,sD.signature=Zw,oD.signature=Zw,aD.signature=Zw,uD.signature=Zw,lD.signature=Zw,cD.signature=Zw,hD.signature=eD,dD.signature=Zw,fD.signature=Zw,pD.signature=Zw,mD.signature=Zw,gD.signature=eD,vD.signature=eD;var bD=sb("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:tD,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e,!0))})}),wD="number";function DD(e){return Fb(e)}function ED(e){return Math.atan(1/e)}function xD(e){return Number.isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function CD(e){return Math.asin(1/e)}function _D(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function SD(e){return Math.acos(1/e)}function AD(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function kD(e){return Ib(e)}function TD(e){return Mb(e)}function ND(e){return 1/Math.tan(e)}function FD(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function ID(e){return 1/Math.sin(e)}function MD(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*vb(e)}function PD(e){return 1/Math.cos(e)}function OD(e){return 2/(Math.exp(e)+Math.exp(-e))}function RD(e){return Pb(e)}DD.signature=wD,ED.signature=wD,xD.signature=wD,CD.signature=wD,_D.signature=wD,SD.signature=wD,AD.signature=wD,kD.signature=wD,TD.signature=wD,ND.signature=wD,FD.signature=wD,ID.signature=wD,MD.signature=wD,PD.signature=wD,OD.signature=wD,RD.signature=wD;var LD="addScalar",BD=sb(LD,["typed"],e=>{var{typed:t}=e;return t(LD,{"number, number":nD,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"bigint, bigint":function(e,t){return e+t},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i})})});var jD="number, number";function zD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function bitAnd");return e&t}function UD(e){if(!gb(e))throw new Error("Integer expected in function bitNot");return~e}function VD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function bitOr");return e|t}function qD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function bitXor");return e^t}function HD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function leftShift");return e<<t}function WD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function GD(e,t){if(!gb(e)||!gb(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}zD.signature=jD,UD.signature="number",VD.signature=jD,qD.signature=jD,HD.signature=jD,WD.signature=jD,GD.signature=jD;function KD(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return KD(e,n)*KD(n+1,t)}function QD(e,t){if(!gb(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!gb(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,i=2,s=t<n?t:n,o=t<n?n+1:t+1;o<=e;++o)for(r*=o;i<=s&&r%i===0;)r/=i,++i;return i<=s&&(r/=KD(i,s)),r}QD.signature="number, number";var YD="conj",XD=sb(YD,["typed"],e=>{var{typed:t}=e;return t(YD,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),Unit:t.referToSelf(e=>t=>new t.constructor(e(t.toNumeric()),t.formatUnits())),"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e))})});function $D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!e.isNaN()&&!t.isNaN()&&(e.isFinite()&&t.isFinite()?!!e.eq(t)||e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(n),r)):e.eq(t))}var JD=sb("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),r.valueType()])(n.value,r.value)})}}),ZD="equalScalar",eE=sb(ZD,["typed","config"],e=>{var{typed:t,config:n}=e,r=JD({typed:t});return t(ZD,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return Nb(e,t,n.relTol,n.absTol)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||$D(e,t,n.relTol,n.absTol)},"bigint, bigint":function(e,t){return e===t},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n,r){return Nb(e.re,t.re,n,r)&&Nb(e.im,t.im,n,r)}(e,t,n.relTol,n.absTol)}},r)});sb(ZD,["typed","config"],e=>{var{typed:t,config:n}=e;return t(ZD,{"number, number":function(e,t){return Nb(e,t,n.relTol,n.absTol)}})}),Math.pow(2,53);sb("hex",["typed","format"],e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"hex",wordSize:t})}})});var tE="number";function nE(e){return e<0}function rE(e){return e>0}function iE(e){return Number.isNaN(e)}nE.signature=tE,rE.signature=tE,iE.signature=tE;function sE(e){var t;if(gb(e))return e<=0?Number.isFinite(e)?1/0:NaN:e>171?1/0:KD(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*sE(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,s=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*e))}--e,t=aE[0];for(var o=1;o<aE.length;++o)t+=aE[o]/(e+o);var a=e+oE+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,e+.5)*Math.exp(-a)*t}sE.signature="number";var oE=4.7421875,aE=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],uE=.9189385332046728,lE=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function cE(e){if(e<0)return NaN;if(0===e)return 1/0;if(!Number.isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-cE(1-e);for(var t=(e-=1)+5+.5,n=lE[0],r=6;r>=1;r--)n+=lE[r]/(e+r);return uE+(e+.5)*Math.log(t)-t+Math.log(n)}cE.signature="number";dD(16);var hE=sb("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":iD,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"bigint, bigint":function(e,t){return e*t},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),dE="number, number";function fE(e){return!e}function pE(e,t){return!(!e&&!t)}function mE(e,t){return!!e!==!!t}function gE(e,t){return!(!e||!t)}fE.signature="number",pE.signature=dE,mE.signature=dE,gE.signature=dE;var vE=sb("number",["typed"],e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=function(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(e);if(t)return function(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++)n+=parseInt(e.fractionalPart[r],e.radix)/Math.pow(e.radix,r+1);var i=t+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}(t);var n=0,r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),e=r[1]);var i=Number(e);if(isNaN(i))throw new SyntaxError('String "'+e+'" is not a valid number');if(r){if(i>2**n-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));i>=2**(n-1)&&(i-=2**n)}return i},BigNumber:function(e){return e.toNumber()},bigint:function(e){return Number(e)},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e))});return n.fromJSON=function(e){return parseFloat(e.value)},n}),yE=(sb("oct",["typed","format"],e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"oct",wordSize:t})}})}),n(334));Date.now();var bE="size",wE=sb(bE,["typed"],e=>{var{typed:t}=e;return t(bE,{Matrix:e=>e.size(),Array:Dw,string:e=>[e.length],"number | Complex | BigNumber | Unit | boolean | null":e=>[]})}),DE=sb("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!wy(t))throw new Error("Invalid datatype: "+t);if(Ey(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?nb(t._values):void 0,e._index=nb(t._index),e._ptr=nb(t._ptr),e._size=nb(t._size),e._datatype=n||t._datatype):s(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&Dy(e.index)&&Dy(e.ptr)&&Dy(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(Dy(e))s(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+tb(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function s(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var s=r.length,o=0,a=n,u=0;if(wy(i)&&(a=t.find(n,[i,i])||n,u=t.convert(0,i)),s>0){var l=0;do{e._ptr.push(e._index.length);for(var c=0;c<s;c++){var h=r[c];if(Dy(h)){if(0===l&&o<h.length&&(o=h.length),l<h.length){var d=h[l];a(d,u)||(e._values.push(d),e._index.push(c))}}else 0===l&&o<1&&(o=1),a(h,u)||(e._values.push(h),e._index.push(c))}l++}while(l<o)}for(;e._ptr.length<=o;)e._ptr.push(e._index.length);e._size=[s,o]}function o(e,t,n,r){if(n-t===0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function a(e,t,n,r,i,s,o){i.splice(e,0,r),s.splice(e,0,t);for(var a=n+1;a<o.length;a++)o[a]++}function u(e,r,i,s){var o=s||0,a=n,u=0;wy(e._datatype)&&(a=t.find(n,[e._datatype,e._datatype])||n,u=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var l,c,h,d=!a(o,u),f=e._size[0],p=e._size[1];if(i>p){for(c=p;c<i;c++)if(e._ptr[c]=e._values.length,d)for(l=0;l<f;l++)e._values.push(o),e._index.push(l);e._ptr[i]=e._values.length}else i<p&&(e._ptr.splice(i+1,p-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(p=i,r>f){if(d){var m=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]+m,h=e._ptr[c+1]+m;var g=0;for(l=f;l<r;l++,g++)e._values.splice(h+g,0,o),e._index.splice(h+g,0,l),m++}e._ptr[p]=e._values.length}}else if(r<f){var v=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]-v;var y=e._ptr[c],b=e._ptr[c+1]-v;for(h=y;h<b;h++)(l=e._index[h])>r-1&&(e._values.splice(h,1),e._index.splice(h,1),v++)}e._ptr[c]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function l(e,t,n,r,i){var s,o,a=r[0],u=r[1],l=[];for(s=0;s<a;s++)for(l[s]=[],o=0;o<u;o++)l[s][o]=0;for(o=0;o<u;o++)for(var c=n[o],h=n[o+1],d=c;d<h;d++)l[s=t[d]][o]=e?i?nb(e[d]):e[d]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Mw(this._values,tb)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!Ay(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,s,o,a=t.size();if(a.length!==e._size.length)throw new bw(a.length,e._size.length);var u=t.min(),l=t.max();for(n=0,r=e._size.length;n<r;n++)Cw(u[n],e._size[n]),Cw(l[n],e._size[n]);var c=e._values,h=e._index,d=e._ptr,f=t.dimension(0),p=t.dimension(1),m=[],g=[];function v(e,t){g[e]=t[0],m[e]=!0}Number.isInteger(f)?v(f,[0]):f.forEach(v);var y=c?[]:void 0,b=[],w=[];function D(e){for(w.push(b.length),s=d[e],o=d[e+1];s<o;s++)n=h[s],!0===m[n]&&(b.push(g[n]),y&&y.push(c[s]))}Number.isInteger(p)?D(p):p.forEach(D);return w.push(b.length),new i({values:y,index:b,ptr:w,size:a,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,s=t.size(),o=t.isScalar();Ey(n)?(i=n.size(),n=n.toArray()):i=Dw(n);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==s.length&&2!==s.length)throw new bw(s.length,e._size.length,"<");if(i.length<s.length){for(var a=0,u=0;1===s[a]&&1===i[a];)a++;for(;1===s[a];)u++,a++;n=Nw(n,s.length,u,i)}if(!rb(s,i))throw new bw(s,i,">");if(1===s.length){h(t.dimension(0),(t,i)=>{Cw(t),e.set([t,0],n[i[0]],r)})}else{var l=t.dimension(0),c=t.dimension(1);h(l,(t,i)=>{Cw(t),h(c,(s,o)=>{Cw(s),e.set([t,s],n[i[0]][o[0]],r)})})}}return e;function h(e,t){py(e)?t(e,[0]):e.forEach(t)}}(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!Dy(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new bw(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Cw(t,this._size[0]),Cw(n,this._size[1]);var r=o(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!Dy(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new bw(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=e[0],l=e[1],c=this._size[0],h=this._size[1],d=n,f=0;wy(this._datatype)&&(d=t.find(n,[this._datatype,this._datatype])||n,f=t.convert(0,this._datatype)),(s>c-1||l>h-1)&&(u(this,Math.max(s+1,c),Math.max(l+1,h),i),c=this._size[0],h=this._size[1]),Cw(s,c),Cw(l,h);var p=o(s,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===s?d(r,f)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var s=t+1;s<i.length;s++)i[s]--}(p,l,this._values,this._index,this._ptr):this._values[p]=r:d(r,f)||a(p,s,l,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!xy(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach(function(e){if(!py(e)||!gb(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pw(r)+")")}),u(n?this.clone():this,r[0],r[1],t)},i.prototype.reshape=function(e,t){if(!Dy(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!py(t)||!gb(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+pw(e)+")")});var n=this._size[0]*this._size[1];if(n!==(e=kw(e,n))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var i=[],s=0;s<r._ptr.length;s++)for(var u=0;u<r._ptr[s+1]-r._ptr[s];u++)i.push(s);for(var l=r._values.slice(),c=r._index.slice(),h=0;h<r._index.length;h++){var d=c[h],f=i[h],p=d*r._size[1]+f;i[h]=p%e[1],c[h]=Math.floor(p/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<l.length;g++){var v=c[g],y=i[g],b=l[g];a(o(v,r._ptr[y],r._ptr[y+1],r._index),v,y,b,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?nb(this._values):void 0,index:nb(this._index),ptr:nb(this._ptr),size:nb(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this,o=this._size[0],a=this._size[1],u=qw(e,s,"map");return function(e,r,s,o,a,u,l){var c=[],h=[],d=[],f=n,p=0;wy(e._datatype)&&(f=t.find(n,[e._datatype,e._datatype])||n,p=t.convert(0,e._datatype));for(var m=function(e,t,n){var r=u(e,t,n);f(r,p)||(c.push(r),h.push(t))},g=o;g<=a;g++){d.push(c.length);var v=e._ptr[g],y=e._ptr[g+1];if(l)for(var b=v;b<y;b++){var w=e._index[b];w>=r&&w<=s&&m(e._values[b],w-r,g-o)}else{for(var D={},E=v;E<y;E++){D[e._index[E]]=e._values[E]}for(var x=r;x<=s;x++){m(x in D?D[x]:0,x-r,g-o)}}}return d.push(c.length),new i({values:c,index:h,ptr:d,size:[s-r+1,a-o+1]})}(this,0,o-1,0,a-1,function(e,t,n){return u.fn(e,[t,n],s)},r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],s=qw(e,n,"forEach"),o=0;o<i;o++){var a=this._ptr[o],u=this._ptr[o+1];if(t)for(var l=a;l<u;l++){var c=this._index[l];s.fn(this._values[l],[c,o],n)}else{for(var h={},d=a;d<u;d++){h[this._index[d]]=this._values[d]}for(var f=0;f<r;f++){var p=f in h?h[f]:0;s.fn(p,[f,o],n)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var n=this._ptr[t],r=this._ptr[t+1],i=n;i<r;i++){var s=this._index[i];yield{value:this._values[i],index:[s,t]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+pw(t,e)+" x "+pw(n,e)+"] density: "+pw(r,e)+"\n",s=0;s<n;s++)for(var o=this._ptr[s],a=this._ptr[s+1],u=o;u<a;u++){i+="\n    ("+pw(this._index[u],e)+", "+pw(s,e)+") ==> "+(this._values?pw(this._values[u],e):"X")}return i},i.prototype.toString=function(){return pw(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(my(e)&&(e=e.toNumber()),!py(e)||!gb(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],s=this._size[1],o=Math.min(r-n,s-t),a=[],u=[],l=[];l[0]=0;for(var c=t;c<s&&a.length<o;c++)for(var h=this._ptr[c],d=this._ptr[c+1],f=h;f<d;f++){var p=this._index[f];if(p===c-t+n){a.push(this._values[f]),u[a.length-1]=p-n;break}}return l.push(a.length),new i({values:a,index:u,ptr:l,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,s,o,a){if(!Dy(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(my(e)&&(e=e.toNumber()),!py(e)||!gb(e)||e<1)throw new Error("Size values must be positive integers");return e}),s){if(my(s)&&(s=s.toNumber()),!py(s)||!gb(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=n,l=0;wy(a)&&(u=t.find(n,[a,a])||n,l=t.convert(0,a));var c,h=s>0?s:0,d=s<0?-s:0,f=e[0],p=e[1],m=Math.min(f-d,p-h);if(Dy(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(e){return r[e]}}else if(Ey(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(e){return r.get([e])}}else c=function(){return r};for(var v=[],y=[],b=[],w=0;w<p;w++){b.push(v.length);var D=w-h;if(D>=0&&D<m){var E=c(D);u(E,l)||(y.push(D+d),v.push(E))}}return b.push(v.length),new i({values:v,index:y,ptr:b,size:[f,p]})},i.prototype.swapRows=function(e,t){if(!py(e)||!gb(e)||!py(t)||!gb(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Cw(e,this._size[0]),Cw(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var s=r[e],o=r[e+1],a=s;a<o;a++)i(n[a],t[a])},i._swapRows=function(e,t,n,r,i,s){for(var a=0;a<n;a++){var u=s[a],l=s[a+1],c=o(e,u,l,i),h=o(t,u,l,i);if(c<l&&h<l&&i[c]===e&&i[h]===t){if(r){var d=r[c];r[c]=r[h],r[h]=d}}else if(c<l&&i[c]===e&&(h>=l||i[h]!==t)){var f=r?r[c]:void 0;i.splice(h,0,t),r&&r.splice(h,0,f),i.splice(h<=c?c+1:c,1),r&&r.splice(h<=c?c+1:c,1)}else if(h<l&&i[h]===t&&(c>=l||i[c]!==e)){var p=r?r[h]:void 0;i.splice(c,0,e),r&&r.splice(c,0,p),i.splice(c<=h?h+1:h,1),r&&r.splice(c<=h?h+1:h,1)}}},i},{isClass:!0}),EE="subtractScalar",xE=sb(EE,["typed"],e=>{var{typed:t}=e;return t(EE,{"number, number":rD,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"bigint, bigint":function(e,t){return e-t},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i})})}),CE=sb("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],i=n(t[1]),s=new n(2).pow(Number(r));if(i.gt(s.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var o=new n(2).pow(Number(r)-1);return i.gte(o)?i.sub(s):i}return new n(e)},BigNumber:function(e){return e},bigint:function(e){return new n(e.toString())},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Fraction:function(e){return new n(String(e.n)).div(String(e.d)).times(String(e.s))},null:function(e){return new n(0)},"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e))})});var _E=sb("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:s}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var u=o(e,a),l=Ey(e)?e._data:e,c=Ey(e)?e._datatype||e.getDataType():void 0,h=Ey(a)?a._data:a,d=Ey(a)?a._datatype||a.getDataType():void 0,f=2===s(e).length,p=2===s(a).length,m=n,g=r;if(c&&d&&c===d&&"string"===typeof c&&"mixed"!==c){var v=c;m=t.find(n,[v,v]),g=t.find(r,[v,v])}if(!f&&!p){for(var y=g(i(l[0]),h[0]),b=1;b<u;b++)y=m(y,g(i(l[b]),h[b]));return y}if(!f&&p){for(var w=g(i(l[0]),h[0][0]),D=1;D<u;D++)w=m(w,g(i(l[D]),h[D][0]));return w}if(f&&!p){for(var E=g(i(l[0][0]),h[0]),x=1;x<u;x++)E=m(E,g(i(l[x][0]),h[x]));return E}if(f&&p){for(var C=g(i(l[0][0]),h[0][0]),_=1;_<u;_++)C=m(C,g(i(l[_][0]),h[_][0]));return C}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var i=e._index,s=e._values,a=t._index,u=t._values,l=0,c=n,h=r,d=0,f=0;for(;d<i.length&&f<a.length;){var p=i[d],m=a[f];p<m?d++:p>m?f++:p===m&&(l=c(l,h(s[d],u[f])),d++,f++)}return l}});function o(e,t){var n,r,i=s(e),o=s(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}}),SE="isZero",AE=sb(SE,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(SE,{"number | BigNumber | Complex | Fraction":e=>n(e,0),bigint:e=>0n===e,Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e))})}),kE="matrix",TE=sb(kE,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(kE,{"":function(){return s([])},string:function(e){return s([],e)},"string, string":function(e,t){return s([],e,t)},Array:function(e){return s(e)},Matrix:function(e){return s(e,e.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new i(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),NE=sb("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,s){var o=e._values,a=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,d=l[0],f=l[1],p=n,m=0,g=i;"string"===typeof c&&(h=c,p=t.find(n,[h,h]),m=t.convert(0,h),r=t.convert(r,h),g=t.find(i,[h,h]));for(var v=[],y=[],b=[],w=0;w<f;w++){b[w]=y.length;for(var D=u[w],E=u[w+1],x=D;x<E;x++){var C=a[x],_=s?g(r,o[x]):g(o[x],r);p(_,m)||(y.push(C),v.push(_))}}return b[f]=y.length,e.createSparseMatrix({values:v,index:y,ptr:b,size:[d,f],datatype:h})}}),FE=sb("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(e,r,i,s){var o,a=e._data,u=e._size,l=e._datatype,c=i;"string"===typeof l&&(o=l,r=t.convert(r,o),c=t.find(i,[o,o]));var h=u.length>0?n(c,0,u,u[0],a,r,s):[];return e.createDenseMatrix({data:h,size:nb(u),datatype:o})};function n(e,t,r,i,s,o,a){var u=[];if(t===r.length-1)for(var l=0;l<i;l++)u[l]=a?e(o,s[l]):e(s[l],o);else for(var c=0;c<i;c++)u[c]=n(e,t+1,r,r[t+1],s[c],o,a);return u}}),IE="multiply",ME=sb(IE,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=e,a=NE({typed:t,equalScalar:s}),u=FE({typed:t});function l(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function c(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var s,o=e._data,a=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._size,h=n._datatype||n.getDataType(),d=a[0],f=c[1],p=r,m=i;u&&h&&u===h&&"string"===typeof u&&"mixed"!==u&&(s=u,p=t.find(r,[s,s]),m=t.find(i,[s,s]));for(var g=[],v=0;v<f;v++){for(var y=m(o[0],l[0][v]),b=1;b<d;b++)y=p(y,m(o[b],l[b][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[f],datatype:u===e._datatype&&h===n._datatype?s:void 0})}(e,n)}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var s,o=e._data,a=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._datatype||n.getDataType(),h=a[0],d=a[1],f=r,p=i;u&&c&&u===c&&"string"===typeof u&&"mixed"!==u&&(s=u,f=t.find(r,[s,s]),p=t.find(i,[s,s]));for(var m=[],g=0;g<h;g++){for(var v=o[g],y=p(v[0],l[0]),b=1;b<d;b++)y=f(y,p(v[b],l[b]));m[g]=y}return e.createDenseMatrix({data:m,size:[h],datatype:u===e._datatype&&c===n._datatype?s:void 0})},"SparseMatrix, any":function(e,n){var o=e._values,a=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,d=n._datatype||n.getDataType(),f=e._size[0],p=n._size[0],m=[],g=[],v=[],y=r,b=i,w=s,D=0;l&&d&&l===d&&"string"===typeof l&&"mixed"!==l&&(c=l,y=t.find(r,[c,c]),b=t.find(i,[c,c]),w=t.find(s,[c,c]),D=t.convert(0,c));var E=[],x=[];v[0]=0;for(var C=0;C<p;C++){var _=h[C];if(!w(_,D))for(var S=u[C],A=u[C+1],k=S;k<A;k++){var T=a[k];x[T]?E[T]=y(E[T],b(_,o[k])):(x[T]=!0,g.push(T),E[T]=b(_,o[k]))}}for(var N=g.length,F=0;F<N;F++){var I=g[F];m[F]=E[I]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[f,1],datatype:l===e._datatype&&d===n._datatype?c:void 0})}}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var s,o=e._data,a=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._size,h=n._datatype||n.getDataType(),d=a[0],f=a[1],p=c[1],m=r,g=i;u&&h&&u===h&&"string"===typeof u&&"mixed"!==u&&"mixed"!==u&&(s=u,m=t.find(r,[s,s]),g=t.find(i,[s,s]));for(var v=[],y=0;y<d;y++){var b=o[y];v[y]=[];for(var w=0;w<p;w++){for(var D=g(b[0],l[0][w]),E=1;E<f;E++)D=m(D,g(b[E],l[E][w]));v[y][w]=D}}return e.createDenseMatrix({data:v,size:[d,p],datatype:u===e._datatype&&h===n._datatype?s:void 0})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,a=e._size,u=e._datatype||e.getDataType(),l=n._values,c=n._index,h=n._ptr,d=n._size,f=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=a[0],g=d[1],v=r,y=i,b=s,w=0;u&&f&&u===f&&"string"===typeof u&&"mixed"!==u&&(p=u,v=t.find(r,[p,p]),y=t.find(i,[p,p]),b=t.find(s,[p,p]),w=t.convert(0,p));for(var D=[],E=[],x=[],C=n.createSparseMatrix({values:D,index:E,ptr:x,size:[m,g],datatype:u===e._datatype&&f===n._datatype?p:void 0}),_=0;_<g;_++){x[_]=E.length;var S=h[_],A=h[_+1];if(A>S)for(var k=0,T=0;T<m;T++){for(var N=T+1,F=void 0,I=S;I<A;I++){var M=c[I];k!==N?(F=y(o[T][M],l[I]),k=N):F=v(F,y(o[T][M],l[I]))}k!==N||b(F,w)||(E.push(T),D.push(F))}}return x[g]=E.length,C},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,a=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,d=n._datatype||n.getDataType(),f=e._size[0],p=n._size[0],m=n._size[1],g=r,v=i,y=s,b=0;l&&d&&l===d&&"string"===typeof l&&"mixed"!==l&&(c=l,g=t.find(r,[c,c]),v=t.find(i,[c,c]),y=t.find(s,[c,c]),b=t.convert(0,c));for(var w=[],D=[],E=[],x=e.createSparseMatrix({values:w,index:D,ptr:E,size:[f,m],datatype:l===e._datatype&&d===n._datatype?c:void 0}),C=[],_=[],S=0;S<m;S++){E[S]=D.length;for(var A=S+1,k=0;k<p;k++){var T=h[k][S];if(!y(T,b))for(var N=u[k],F=u[k+1],I=N;I<F;I++){var M=a[I];_[M]!==A?(_[M]=A,D.push(M),C[M]=v(T,o[I])):C[M]=g(C[M],v(T,o[I]))}}for(var P=E[S],O=D.length,R=P;R<O;R++){var L=D[R];w[R]=C[L]}}return E[m]=D.length,x},"SparseMatrix, SparseMatrix":function(e,n){var s,o=e._values,a=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType(),c=n._values,h=n._index,d=n._ptr,f=n._datatype||void 0===n._data?n._datatype:n.getDataType(),p=e._size[0],m=n._size[1],g=o&&c,v=r,y=i;l&&f&&l===f&&"string"===typeof l&&"mixed"!==l&&(s=l,v=t.find(r,[s,s]),y=t.find(i,[s,s]));for(var b,w,D,E,x,C,_,S,A=g?[]:void 0,k=[],T=[],N=e.createSparseMatrix({values:A,index:k,ptr:T,size:[p,m],datatype:l===e._datatype&&f===n._datatype?s:void 0}),F=g?[]:void 0,I=[],M=0;M<m;M++){T[M]=k.length;var P=M+1;for(x=d[M],C=d[M+1],E=x;E<C;E++)if(S=h[E],g)for(w=u[S],D=u[S+1],b=w;b<D;b++)I[_=a[b]]!==P?(I[_]=P,k.push(_),F[_]=y(c[E],o[b])):F[_]=v(F[_],y(c[E],o[b]));else for(w=u[S],D=u[S+1],b=w;b<D;b++)I[_=a[b]]!==P&&(I[_]=P,k.push(_));if(g)for(var O=T[M],R=k.length,L=O;L<R;L++){var B=k[L];A[L]=F[B]}}return T[m]=k.length,N}});return t(IE,i,{"Array, Array":t.referTo("Matrix, Matrix",e=>(t,r)=>{l(Dw(t),Dw(r));var i=e(n(t),n(r));return Ey(i)?i.valueOf():i}),"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return l(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):c(e,t):1===r.length?h(e,t):d(e,t)},"Matrix, Array":t.referTo("Matrix,Matrix",e=>(t,r)=>e(t,n(r))),"Array, Matrix":t.referToSelf(e=>(t,r)=>e(n(t,r.storage()),r)),"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return a(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(e=>(t,n,r)=>{for(var i=e(t,n),s=0;s<r.length;s++)i=e(i,r[s]);return i})})});function PE(e,t,n,r){if(!(this instanceof PE))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}PE.prototype=new Error,PE.prototype.constructor=Error,PE.prototype.name="ArgumentsError",PE.prototype.isArgumentsError=!0;var OE="zeros",RE=sb(OE,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(OE,{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return s(e,t)}return"Array"===n.matrix?s(e):s(e,"default")},Array:s,Matrix:function(e){var t=e.storage();return s(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){my(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),s=n?new i(0):0;if(function(e){e.forEach(function(e){if("number"!==typeof e||!gb(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,s):o}var a=[];return e.length>0?_w(a,e,s):a}}),LE=(sb("bin",["typed","format"],e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}),sb("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,s){var o=e._values,a=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,d=l[0],f=l[1],p=i;"string"===typeof c&&(h=c,r=t.convert(r,h),p=t.find(i,[h,h]));for(var m=[],g=[],v=[],y=0;y<f;y++){for(var b=y+1,w=u[y],D=u[y+1],E=w;E<D;E++){var x=a[E];g[x]=o[E],v[x]=b}for(var C=0;C<d;C++)0===y&&(m[C]=[]),v[C]===b?m[C][y]=s?p(r,g[C]):p(g[C],r):m[C][y]=s?p(r,0):p(0,r)}return new n({data:m,size:[d,f],datatype:h})}}));var BE="equal",jE=(sb(BE,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(BE,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}),sb("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!Number.isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},"bigint, bigint":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},bigint:function(e){return new n(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Object:function(e){return new n(e)},"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e))})})),zE="identity",UE=sb(zE,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=e;return t(zE,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return a(e)},"Array, string":function(e,t){return a(e,t)},Matrix:function(e){return a(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,n){var r=my(e)||my(t)?i:null;if(my(e)&&(e=e.toNumber()),my(t)&&(t=t.toNumber()),!gb(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!gb(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var a=r?new i(1):1,u=r?new r(0):0,l=[e,t];if(n){if("sparse"===n)return o.diagonal(l,a,0,u);if("dense"===n)return s.diagonal(l,a,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=_w([],l,u),h=e<t?e:t,d=0;d<h;d++)c[d][d]=a;return c}});function VE(){throw new Error('No "bignumber" implementation available')}function qE(){throw new Error('No "fraction" implementation available')}var HE=sb("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:e=>t(e),BigNumber:n?e=>n(e):VE,bigint:e=>BigInt(e),Fraction:r?e=>r(e):qE};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var n=tb(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in s))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(s).join(", "));return t===n?e:s[t](e)}});var WE="Number of decimals in function round must be an integer",GE="round",KE=sb(GE,["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,config:n,matrix:r,equalScalar:i,zeros:s,BigNumber:o,DenseMatrix:a}=e,u=NE({typed:t,equalScalar:i}),l=LE({typed:t,DenseMatrix:a}),c=FE({typed:t});function h(e){return Math.abs(_b(e).exponent)}return t(GE,{number:function(e){var t=yD(e,h(n.relTol));return yD(Nb(e,t,n.relTol,n.absTol)?t:e)},"number, number":function(e,t){var r=h(n.relTol);if(t>=r)return yD(e,t);var i=yD(e,r);return yD(Nb(e,i,n.relTol,n.absTol)?i:e,t)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(WE);return new o(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(WE);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(WE);var n=t.toNumber();return e.round(n)},BigNumber:function(e){var t=new o(e).toDecimalPlaces(h(n.relTol));return($D(e,t,n.relTol,n.absTol)?t:e).toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(WE);var r=h(n.relTol);if(t>=r)return e.toDecimalPlaces(t.toNumber());var i=e.toDecimalPlaces(r);return($D(e,i,n.relTol,n.absTol)?i:e).toDecimalPlaces(t.toNumber())},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(WE);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(WE);return e.round(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,n,r){var i=t.toNumeric(r);return r.multiply(e(i,n))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,n,r)=>e(t,n.toNumber(),r)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,n,r)=>Jw(t,t=>e(t,n,r),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,n)=>e(t,0,n)),"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>u(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>c(t,n,e,!1)),"Array, number | BigNumber":t.referToSelf(e=>(t,n)=>c(r(t),n,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(e=>(t,n)=>i(t,0)?s(n.size(),n.storage()):l(n,t,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(e=>(t,n)=>i(t,0)?s(n.size(),n.storage()):c(n,t,e,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(e=>(t,n)=>c(r(n),t,e,!0).valueOf())})}),QE="unaryMinus",YE=sb(QE,["typed"],e=>{var{typed:t}=e;return t(QE,{number:sD,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>n=>{var r=n.clone();return r.value=t.find(e,r.valueType())(n.value),r}),"Array | Matrix":t.referToSelf(e=>t=>Jw(t,e,!0))})});var XE="divideScalar",$E=sb(XE,["typed","numeric"],e=>{var{typed:t,numeric:n}=e;return t(XE,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"bigint, bigint":function(e,t){return e/t},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})}),JE=(new sy(10),"number | BigNumber | Fraction | Matrix | Array");"".concat(JE,", ").concat(JE,", ...").concat(JE);yw.signature="any, any";var ZE=sb("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:s,isZero:o,unaryMinus:a}=e;return t("det",{any:function(e){return nb(e)},"Array | Matrix":function(e){var t;switch((t=Ey(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return nb(e);case 1:if(1===t[0])return nb(e.valueOf()[0]);if(0===t[0])return 1;throw new RangeError("Matrix must be square (size: "+pw(t)+")");case 2:var u=t[0],l=t[1];if(u===l)return function(e,t){if(1===t)return nb(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var n=!1,u=new Array(t).fill(0).map((e,t)=>t),l=0;l<t;l++){var c=u[l];if(o(e[c][l])){var h=void 0;for(h=l+1;h<t;h++)if(!o(e[u[h]][l])){c=u[h],u[h]=u[l],u[l]=c,n=!n;break}if(h===t)return e[c][l]}for(var d=e[c][l],f=0===l?1:e[u[l-1]][l-1],p=l+1;p<t;p++)for(var m=u[p],g=l+1;g<t;g++)e[m][g]=s(r(i(e[m][g],d),i(e[m][l],e[c][g])),f)}var v=e[u[t-1]][t-1];return n?a(v):v}(e.clone().valueOf(),u);if(0===l)return 1;throw new RangeError("Matrix must be square (size: "+pw(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+pw(t)+")")}}})});Math.log(16);new sy(10),n(939);var ex=sb("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:u,abs:l}=e;return t("inv",{"Array | Matrix":function(e){var t=Ey(e)?e.size():Dw(e);switch(t.length){case 1:if(1===t[0])return Ey(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+pw(t)+")");case 2:var i=t[0],s=t[1];if(i===s)return Ey(e)?n(c(e.valueOf(),i,s),e.storage()):c(e,i,s);throw new RangeError("Matrix must be square (size: "+pw(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+pw(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,h,d,f,p;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,f)]]}if(2===t){var m=a(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(o(e[0][1]),m)],[r(o(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var v=u(t).valueOf(),y=0;y<n;y++){var b=l(g[y][y]),w=y;for(c=y+1;c<t;)l(g[c][y])>b&&(b=l(g[c][y]),w=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==y&&(p=g[y],g[y]=g[c],g[c]=p,p=v[y],v[y]=v[c],v[c]=p);var D=g[y],E=v[y];for(c=0;c<t;c++){var x=g[c],C=v[c];if(c!==y){if(0!==x[y]){for(d=r(o(x[y]),D[y]),h=y;h<n;h++)x[h]=i(x[h],s(d,D[h]));for(h=0;h<n;h++)C[h]=i(C[h],s(d,E[h]))}}else{for(d=D[y],h=y;h<n;h++)x[h]=r(x[h],d);for(h=0;h<n;h++)C[h]=r(C[h],d)}}}return v}}),tx=sb("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:s,inv:o,number:a,fraction:u,Complex:l}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"bigint, bigint":(e,t)=>e**t,"Fraction, Fraction":function(e,t){var r=e.pow(t);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(e.valueOf(),t.valueOf())},"Array, number":h,"Array, BigNumber":function(e,t){return h(e,t.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(e,t){return d(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!gb(t)&&e<0)try{var r=u(t),i=a(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2n===1n)return(r.n%2n===0n?1:-1)*Math.pow(-e,t)}catch(s){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:gb(t)||e>=0||n.predictable?vD(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function h(e,t){if(!gb(t))throw new TypeError("For A^b, b must be an integer (value is "+t+")");var n=Dw(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(t<0)try{return h(o(e),-t)}catch(u){if("Cannot calculate inverse, determinant is zero"===u.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw u}for(var s=r(n[0]).valueOf(),a=e;t>=1;)1===(1&t)&&(s=i(a,s)),t>>=1,a=i(a,a);return s}function d(e,t){return s(h(e.valueOf(),t))}}),nx="unequal";sb(nx,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(nx,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})});var rx=ab({config:Eg}),ix=Lb({}),sx=uw({}),ox=lw({}),ax=Gw({Matrix:ox,config:Eg}),ux=Qw({BigNumber:rx,Complex:ix,DenseMatrix:ax,Fraction:sx}),lx=bD({typed:ux}),cx=BD({typed:ux}),hx=XD({typed:ux}),dx=eE({config:Eg,typed:ux}),fx=hE({typed:ux}),px=vE({typed:ux}),mx=wE({typed:ux}),gx=DE({Matrix:ox,equalScalar:dx,typed:ux}),vx=xE({typed:ux}),yx=CE({BigNumber:rx,typed:ux}),bx=_E({addScalar:cx,conj:hx,multiplyScalar:fx,size:mx,typed:ux}),wx=AE({equalScalar:dx,typed:ux}),Dx=TE({DenseMatrix:ax,Matrix:ox,SparseMatrix:gx,typed:ux}),Ex=ME({addScalar:cx,dot:bx,equalScalar:dx,matrix:Dx,multiplyScalar:fx,typed:ux}),xx=RE({BigNumber:rx,config:Eg,matrix:Dx,typed:ux}),Cx=jE({Fraction:sx,typed:ux}),_x=UE({BigNumber:rx,DenseMatrix:ax,SparseMatrix:gx,config:Eg,matrix:Dx,typed:ux}),Sx=HE({bignumber:yx,fraction:Cx,number:px}),Ax=KE({BigNumber:rx,DenseMatrix:ax,config:Eg,equalScalar:dx,matrix:Dx,typed:ux,zeros:xx}),kx=YE({typed:ux}),Tx=$E({numeric:Sx,typed:ux}),Nx=ZE({divideScalar:Tx,isZero:wx,matrix:Dx,multiply:Ex,subtractScalar:vx,typed:ux,unaryMinus:kx}),Fx=ex({abs:lx,addScalar:cx,det:Nx,divideScalar:Tx,identity:_x,matrix:Dx,multiply:Ex,typed:ux,unaryMinus:kx}),Ix=tx({Complex:ix,config:Eg,fraction:Cx,identity:_x,inv:Fx,matrix:Dx,multiply:Ex,number:px,typed:ux});const Mx={position:"bottom",strength:2,height:"6rem",divCount:5,exponential:!1,zIndex:1e3,animated:!1,duration:"0.3s",easing:"ease-out",opacity:1,curve:"linear",responsive:!1,target:"parent",className:"",style:{}},Px={top:{position:"top",height:"6rem"},bottom:{position:"bottom",height:"6rem"},left:{position:"left",height:"6rem"},right:{position:"right",height:"6rem"},subtle:{height:"4rem",strength:1,opacity:.8,divCount:3},intense:{height:"10rem",strength:4,divCount:8,exponential:!0},smooth:{height:"8rem",curve:"bezier",divCount:10},sharp:{height:"5rem",curve:"linear",divCount:4},header:{position:"top",height:"8rem",curve:"ease-out"},footer:{position:"bottom",height:"8rem",curve:"ease-out"},sidebar:{position:"left",height:"6rem",strength:2.5},"page-header":{position:"top",height:"10rem",target:"page",strength:3},"page-footer":{position:"bottom",height:"10rem",target:"page",strength:3}},Ox={linear:e=>e,bezier:e=>e*e*(3-2*e),"ease-in":e=>e*e,"ease-out":e=>1-Math.pow(1-e,2),"ease-in-out":e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},Rx=e=>({top:"to top",bottom:"to bottom",left:"to left",right:"to right"}[e]||"to bottom"),Lx=(t,n,r)=>{const[i,s]=(0,e.useState)(n[r]);return(0,e.useEffect)(()=>{if(!t)return;const e=()=>{const e=window.innerWidth;let t=n[r];e<=480&&n["mobile"+r[0].toUpperCase()+r.slice(1)]?t=n["mobile"+r[0].toUpperCase()+r.slice(1)]:e<=768&&n["tablet"+r[0].toUpperCase()+r.slice(1)]?t=n["tablet"+r[0].toUpperCase()+r.slice(1)]:e<=1024&&n["desktop"+r[0].toUpperCase()+r.slice(1)]&&(t=n["desktop"+r[0].toUpperCase()+r.slice(1)]),s(t)},i=((e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>e(...i),t)}})(e,100);return e(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,n,r]),t?i:n[r]},Bx=t=>{const n=(0,e.useRef)(null),[r,i]=(0,e.useState)(!1),s=(0,e.useMemo)(()=>{const e=t.preset&&Px[t.preset]?Px[t.preset]:{};return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>a(a({},e),t),{})}(Mx,e,t)},[t]),o=Lx(s.responsive,s,"height"),u=Lx(s.responsive,s,"width"),l=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[r,i]=(0,e.useState)(!n);return(0,e.useEffect)(()=>{if(!n||!t.current)return;const e=new IntersectionObserver(e=>{let[t]=e;return i(t.isIntersecting)},{threshold:.1});return e.observe(t.current),()=>e.disconnect()},[t,n]),r}(n,"scroll"===s.animated),c=(0,e.useMemo)(()=>{const e=[],t=100/s.divCount,n=r&&s.hoverIntensity?s.strength*s.hoverIntensity:s.strength,i=Ox[s.curve]||Ox.linear;for(let r=1;r<=s.divCount;r++){let o,a=r/s.divCount;a=i(a),o=s.exponential?.0625*Ix(2,4*a)*n:.0625*(a*s.divCount+1)*n;const u=Ax(10*(t*r-t))/10,l=Ax(t*r*10)/10,c=Ax(10*(t*r+t))/10,h=Ax(10*(t*r+2*t))/10;let d="transparent ".concat(u,"%, black ").concat(l,"%");c<=100&&(d+=", black ".concat(c,"%")),h<=100&&(d+=", transparent ".concat(h,"%"));const f=Rx(s.position),p={position:"absolute",inset:"0",maskImage:"linear-gradient(".concat(f,", ").concat(d,")"),WebkitMaskImage:"linear-gradient(".concat(f,", ").concat(d,")"),backdropFilter:"blur(".concat(o.toFixed(3),"rem)"),WebkitBackdropFilter:"blur(".concat(o.toFixed(3),"rem)"),opacity:s.opacity,transition:s.animated&&"scroll"!==s.animated?"backdrop-filter ".concat(s.duration," ").concat(s.easing):void 0};e.push((0,mg.jsx)("div",{style:p},r))}return e},[s,r]),h=(0,e.useMemo)(()=>{const e=["top","bottom"].includes(s.position),t=["left","right"].includes(s.position),n="page"===s.target,r=a({position:n?"fixed":"absolute",pointerEvents:s.hoverIntensity?"auto":"none",opacity:l?1:0,transition:s.animated?"opacity ".concat(s.duration," ").concat(s.easing):void 0,zIndex:n?s.zIndex+100:s.zIndex},s.style);return e?(r.height=o,r.width=u||"100%",r[s.position]=0,r.left=0,r.right=0):t&&(r.width=u||o,r.height="100%",r[s.position]=0,r.top=0,r.bottom=0),r},[s,o,u,l]),{hoverIntensity:d,animated:f,onAnimationComplete:p,duration:m}=s;return(0,e.useEffect)(()=>{if(l&&"scroll"===f&&p){const e=setTimeout(()=>p(),1e3*parseFloat(m));return()=>clearTimeout(e)}},[l,f,p,m]),(0,mg.jsx)("div",{ref:n,className:"gradual-blur ".concat("page"===s.target?"gradual-blur-page":"gradual-blur-parent"," ").concat(s.className),style:h,onMouseEnter:d?()=>i(!0):void 0,onMouseLeave:d?()=>i(!1):void 0,children:(0,mg.jsx)("div",{className:"gradual-blur-inner relative w-full h-full",children:c})})},jx=e.memo(Bx);jx.displayName="GradualBlur",jx.PRESETS=Px,jx.CURVE_FUNCTIONS=Ox;const zx=jx,Ux=t=>{let{width:n="500px",height:r="500px",background:i="#000",borderRadius:s="10px",borderColor:o="#333",children:u,glareColor:l="#ffffff",glareOpacity:c=.5,glareAngle:h=-45,glareSize:d=250,transitionDuration:f=650,playOnce:p=!1,className:m="",style:g={}}=t;const v=l.replace("#","");let y=l;if(/^[\dA-Fa-f]{6}$/.test(v)){const e=parseInt(v.slice(0,2),16),t=parseInt(v.slice(2,4),16),n=parseInt(v.slice(4,6),16);y="rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(c,")")}else if(/^[\dA-Fa-f]{3}$/.test(v)){const e=parseInt(v[0]+v[0],16),t=parseInt(v[1]+v[1],16),n=parseInt(v[2]+v[2],16);y="rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(c,")")}const b=(0,e.useRef)(null),w={position:"absolute",inset:0,background:"linear-gradient(".concat(h,"deg,\n        hsla(0,0%,0%,0) 60%,\n        ").concat(y," 70%,\n        hsla(0,0%,0%,0) 100%)"),backgroundSize:"".concat(d,"% ").concat(d,"%, 100% 100%"),backgroundRepeat:"no-repeat",backgroundPosition:"-100% -100%, 0 0",pointerEvents:"none"};return(0,mg.jsxs)("div",{className:"relative grid place-items-center overflow-hidden border cursor-pointer ".concat(m),style:a({width:n,height:r,background:i,borderRadius:s,borderColor:o},g),onMouseEnter:()=>{const e=b.current;e&&(e.style.transition="none",e.style.backgroundPosition="-100% -100%, 0 0",e.style.transition="".concat(f,"ms ease"),e.style.backgroundPosition="100% 100%, 0 0")},onMouseLeave:()=>{const e=b.current;e&&(p?(e.style.transition="none",e.style.backgroundPosition="-100% -100%, 0 0"):(e.style.transition="".concat(f,"ms ease"),e.style.backgroundPosition="-100% -100%, 0 0"))},children:[(0,mg.jsx)("div",{ref:b,style:w}),u]})},Vx=["label"],qx={default:v,forest:y,sunshine:b,morning:w,ocean:D,sunset:E,night:x},Hx=Pt({apiKey:"AIzaSyAQyI71N5SbqrRMkgCqzraK6yFfx1HtDP4",authDomain:"campuseats2-168fd.firebaseapp.com",projectId:"campuseats2-168fd",storageBucket:"campuseats2-168fd.firebasestorage.app",messagingSenderId:"1018340912497",appId:"1:1018340912497:web:32c52a41141ca5b54bdad0",measurementId:"G-MF9B673PRZ"}),Wx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();const t=Tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(he(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;tn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ms,persistence:[Ci,ii,li]}),r=$("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bs)return;const r=null===t||void 0===t?void 0:t.token;ws!==r&&(ws=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ye(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ye(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Y("auth");return s&&Cr(n,"http://".concat(s)),n}(Hx),Gx=function(e,t){const n="object"==typeof e?e:Ot(),r="string"==typeof e?e:t||Ga,i=Tt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Y(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&dp(i,...e)}return i}(Hx),Kx=new Ur;Kx.setCustomParameters({prompt:"select_account"});const Qx="campuseats-live-v1",Yx=[{id:1,name:"Chicken Biryani",price:120,category:"Lunch",desc:"Spicy aromatic rice with tender chicken",image:"\ud83c\udf57",color:"bg-orange-100 text-orange-600"},{id:2,name:"Veg Thali",price:80,category:"Lunch",desc:"Rice, dal, 2 curries, curd & pickle",image:"\ud83e\udd57",color:"bg-green-100 text-green-600"},{id:3,name:"Spicy Chicken Roll",price:60,category:"Snacks",desc:"Grilled chicken wrapped in paratha",image:"\ud83c\udf2f",color:"bg-red-100 text-red-600"},{id:4,name:"Egg Puffs",price:20,category:"Snacks",desc:"Crispy pastry with boiled egg",image:"\ud83e\udd5a",color:"bg-yellow-100 text-yellow-600"},{id:5,name:"Fresh Lime Soda",price:25,category:"Drinks",desc:"Refreshing sweet & salty lime",image:"\ud83c\udf4b",color:"bg-lime-100 text-lime-600"},{id:6,name:"Masala Chai",price:10,category:"Drinks",desc:"Hot spiced tea",image:"\u2615",color:"bg-amber-100 text-amber-600"}],Xx=e=>"\u20b9".concat(e),$x=e=>{let{children:t,onClick:n,variant:r="primary",className:i="",disabled:s=!1,type:o="button"}=e;const a={primary:{bg:"linear-gradient(135deg, #4f46e5 0%, #6366f1 100%)",glare:"#a5b4fc",text:"text-white"},secondary:{bg:"rgba(255,255,255,0.9)",glare:"#6366f1",text:"text-slate-700 border border-slate-200"},danger:{bg:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",glare:"#f87171",text:"text-red-600"},ghost:{bg:"transparent",glare:"#94a3b8",text:"text-slate-600"},success:{bg:"linear-gradient(135deg, #059669 0%, #10b981 100%)",glare:"#6ee7b7",text:"text-white"}},u=a[r]||a.primary;return(0,mg.jsx)(Ux,{width:"100%",height:"auto",background:u.bg,borderRadius:"12px",borderColor:"transparent",glareColor:u.glare,glareOpacity:.3,glareAngle:-30,glareSize:200,transitionDuration:400,className:"".concat(s?"opacity-50 pointer-events-none":""," ").concat(i),style:{display:"inline-flex"},children:(0,mg.jsx)("button",{type:o,disabled:s,onClick:n,className:"w-full px-4 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 ".concat(u.text),children:t})})},Jx=e=>{let{children:t,onClick:n,variant:r="primary",className:i="",disabled:s=!1,type:o="button",noGlare:a=!1}=e;if(a){const e="px-4 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:active:scale-100",a={primary:"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200",secondary:"bg-white/90 backdrop-blur-sm text-slate-700 border border-slate-200 hover:bg-white shadow-sm",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"text-slate-600 hover:bg-slate-100 bg-transparent",success:"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg shadow-emerald-200"};return(0,mg.jsx)("button",{type:o,disabled:s,onClick:n,className:"".concat(e," ").concat(a[r]," ").concat(i),children:t})}return(0,mg.jsx)($x,{type:o,onClick:n,variant:r,className:i,disabled:s,children:t})},Zx=e=>{let{label:t}=e,n=u(e,Vx);return(0,mg.jsxs)("div",{className:"flex flex-col gap-1.5 w-full",children:[t&&(0,mg.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:t}),(0,mg.jsx)("input",a({className:"w-full px-4 py-3 rounded-xl border border-white/30 bg-white/70 backdrop-blur-sm focus:bg-white/90 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"},n))]})},eC=e=>{let{children:t,className:n="",translucent:r=!0}=e;return(0,mg.jsx)("div",{className:"".concat(r?"bg-white/80 backdrop-blur-md":"bg-white"," p-4 rounded-2xl border border-white/30 shadow-lg ").concat(n),children:t})},tC=t=>{let{role:n,onLogin:r,onSignup:i,setStep:s,setRole:o,currentTheme:a}=t;const[u,l]=(0,e.useState)(!0),[c,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[p,m]=(0,e.useState)(""),[g,v]=(0,e.useState)(""),[y,b]=(0,e.useState)(!1);return(0,mg.jsxs)("div",{className:"min-h-screen relative flex flex-col items-center justify-center p-6 overflow-hidden",children:[(0,mg.jsx)("div",{className:"absolute inset-0 z-0",children:(0,mg.jsx)(vg,{theme:a})}),(0,mg.jsx)("div",{className:"absolute inset-0 bg-black/30 z-0"}),(0,mg.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,mg.jsxs)("div",{className:"text-center mb-8",children:[(0,mg.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm text-white mb-4 shadow-xl",children:(0,mg.jsx)(C,{size:32})}),(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Campus Eats"}),(0,mg.jsx)("p",{className:"text-white/80 mt-2",children:"Ordering food made simple"})]}),(0,mg.jsxs)(eC,{className:"p-6 md:p-8 bg-white/70 backdrop-blur-xl",children:[(0,mg.jsxs)("div",{className:"flex gap-2 p-1 bg-white/50 rounded-xl mb-6",children:[(0,mg.jsx)("button",{onClick:()=>l(!0),className:"flex-1 py-2 text-sm font-medium rounded-lg transition-all ".concat(u?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Log In"}),(0,mg.jsx)("button",{onClick:()=>l(!1),className:"flex-1 py-2 text-sm font-medium rounded-lg transition-all ".concat(u?"text-slate-500 hover:text-slate-700":"bg-white text-indigo-600 shadow-sm"),children:"Sign Up"})]}),(0,mg.jsx)("h2",{className:"text-xl font-semibold mb-6 text-slate-800",children:u?"Welcome back, ".concat("student"===n?"Student":"Staff","!"):"Create ".concat(n," Account")}),(0,mg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(""),b(!0);try{u?await r(c,d):await i(c,d,p)}catch(t){v(t.message.replace("Firebase: ",""))}b(!1)},className:"space-y-4",children:[!u&&(0,mg.jsx)(Zx,{label:"Master Key",type:"text",placeholder:"Enter master key",value:p,onChange:e=>m(e.target.value)}),(0,mg.jsx)(Zx,{label:"Email",type:"email",placeholder:"name@example.com",value:c,onChange:e=>h(e.target.value)}),(0,mg.jsx)(Zx,{label:"Password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:d,onChange:e=>f(e.target.value)}),g&&(0,mg.jsxs)("div",{className:"p-3 rounded-lg bg-red-500/20 backdrop-blur-sm text-red-700 text-sm flex items-center gap-2",children:[(0,mg.jsx)(_,{size:14})," ",g]}),(0,mg.jsx)(Jx,{disabled:y,type:"submit",className:"w-full",children:y?"Processing...":u?"Log In":"Create Account"})]}),(0,mg.jsx)("div",{className:"mt-6 pt-6 border-t border-white/30",children:(0,mg.jsx)(Jx,{variant:"secondary",onClick:async()=>{b(!0);try{u?await r(null,null,"google"):await i(null,null,p,"google")}catch(e){v(e.message)}b(!1)},className:"w-full",children:u?"Log in with Google":"Sign up with Google"})})]}),(0,mg.jsx)("button",{onClick:()=>{s("role"),o(null)},className:"w-full mt-6 text-sm text-white/80 hover:text-white font-medium",children:"\u2190 Change Role"})]})]})},nC=t=>{let{menu:n,orders:r,addToOrder:i,user:s,userProfile:o,updateUserProfile:u,logout:l,currentTheme:c,onThemeChange:h}=t;const[d,f]=(0,e.useState)("menu"),[p,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(""),[y,b]=(0,e.useState)({name:"",studentId:"",phone:""});(0,e.useEffect)(()=>{o&&b(o)},[o]);const w=(e,t)=>{m(n=>n.map(n=>n.id===e?a(a({},n),{},{qty:Math.max(1,n.qty+t)}):n))},D=p.reduce((e,t)=>e+t.price*t.qty,0),E=p.reduce((e,t)=>e+t.qty,0),x=n.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.category.toLowerCase().includes(g.toLowerCase()));return(0,mg.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden relative",children:[(0,mg.jsx)("div",{className:"absolute inset-0 z-0",children:(0,mg.jsx)(vg,{theme:c})}),(0,mg.jsx)("div",{className:"absolute inset-0 bg-black/10 z-0"}),(0,mg.jsxs)("header",{className:"relative z-10 bg-white/70 backdrop-blur-md border-b border-white/30 px-4 py-3 flex justify-between items-center sticky top-0",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:(0,mg.jsx)(C,{size:16})}),(0,mg.jsx)("h1",{className:"font-bold text-slate-800",children:"Campus Eats"})]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)(iC,{currentTheme:c,onThemeChange:h}),(0,mg.jsx)("span",{className:"text-xs font-medium text-slate-700 bg-white/50 backdrop-blur-sm px-2 py-1 rounded-full",children:(null===o||void 0===o?void 0:o.name)||"Student"}),(0,mg.jsx)("button",{onClick:l,className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:(0,mg.jsx)(S,{size:18})})]})]}),(0,mg.jsxs)("main",{className:"flex-1 overflow-y-auto pb-24 relative z-10",children:["menu"===d&&(0,mg.jsxs)("div",{className:"p-4 space-y-6 relative",style:{minHeight:"calc(100% + 5rem)"},children:[(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsx)(A,{className:"absolute left-3 top-3 text-slate-400",size:20}),(0,mg.jsx)("input",{type:"text",placeholder:"Search food...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white/70 backdrop-blur-sm border border-white/30 focus:ring-2 focus:ring-indigo-500 outline-none",value:g,onChange:e=>v(e.target.value)})]}),(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pb-8",children:x.map(e=>(0,mg.jsxs)(eC,{className:"flex flex-col gap-3 hover:shadow-xl transition-shadow bg-white/70",children:[(0,mg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mg.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl ".concat(e.color||"bg-white/50"),children:e.image}),(0,mg.jsx)("span",{className:"text-sm font-semibold text-slate-900 bg-white/50 px-2 py-1 rounded-md",children:Xx(e.price)})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"font-bold text-slate-800",children:e.name}),(0,mg.jsx)("p",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:e.desc})]}),(0,mg.jsx)(Jx,{variant:"secondary",className:"w-full mt-auto",onClick:()=>(e=>{m(t=>{const n=t.find(t=>t.id===e.id);return n?t.map(t=>t.id===e.id?a(a({},t),{},{qty:t.qty+1}):t):[...t,a(a({},e),{},{qty:1})]})})(e),children:"Add to Cart"})]},e.id))}),(0,mg.jsx)(zx,{target:"parent",position:"bottom",height:"6rem",strength:2,divCount:5,curve:"bezier",exponential:!0,opacity:1}),E>0&&(0,mg.jsx)("div",{className:"fixed bottom-20 left-4 right-4 z-20",children:(0,mg.jsx)(Ux,{width:"100%",height:"auto",background:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",borderRadius:"12px",borderColor:"transparent",glareColor:"#6366f1",glareOpacity:.3,transitionDuration:400,children:(0,mg.jsxs)("button",{onClick:()=>f("cart"),className:"w-full text-white p-4 flex justify-between items-center",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mg.jsx)("div",{className:"bg-indigo-500 w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs",children:E}),(0,mg.jsx)("span",{className:"font-medium",children:"View Cart"})]}),(0,mg.jsx)("span",{className:"font-bold",children:Xx(D)})]})})})]}),"cart"===d&&(0,mg.jsxs)("div",{className:"p-4 max-w-2xl mx-auto h-full flex flex-col",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white drop-shadow-lg mb-6",children:"Your Cart"}),0===p.length?(0,mg.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-white/70 space-y-4",children:[(0,mg.jsx)(k,{size:64,strokeWidth:1}),(0,mg.jsx)("p",{children:"Your cart is empty"}),(0,mg.jsx)(Jx,{variant:"ghost",onClick:()=>f("menu"),noGlare:!0,children:"Browse Menu"})]}):(0,mg.jsxs)("div",{className:"space-y-4 flex-1",children:[p.map(e=>(0,mg.jsxs)("div",{className:"bg-white/70 backdrop-blur-md p-4 rounded-xl border border-white/30 flex items-center gap-4 shadow-lg",children:[(0,mg.jsx)("div",{className:"text-2xl",children:e.image}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("h4",{className:"font-semibold text-slate-800",children:e.name}),(0,mg.jsx)("p",{className:"text-sm text-slate-500",children:Xx(e.price)})]}),(0,mg.jsxs)("div",{className:"flex items-center gap-3 bg-white/50 rounded-lg p-1",children:[(0,mg.jsx)("button",{onClick:()=>w(e.id,-1),className:"p-1 hover:bg-white rounded-md transition-colors",children:(0,mg.jsx)(T,{size:14})}),(0,mg.jsx)("span",{className:"text-sm font-medium w-4 text-center",children:e.qty}),(0,mg.jsx)("button",{onClick:()=>w(e.id,1),className:"p-1 hover:bg-white rounded-md transition-colors",children:(0,mg.jsx)(N,{size:14})})]}),(0,mg.jsx)("button",{onClick:()=>{return t=e.id,void m(e=>e.filter(e=>e.id!==t));var t},className:"text-slate-400 hover:text-red-500 p-2",children:(0,mg.jsx)(F,{size:18})})]},e.id)),(0,mg.jsxs)(eC,{className:"mt-8 p-6 space-y-4",children:[(0,mg.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,mg.jsx)("span",{children:"Subtotal"}),(0,mg.jsx)("span",{children:Xx(D)})]}),(0,mg.jsxs)("div",{className:"flex justify-between font-bold text-xl text-slate-900 pt-4 border-t border-white/30",children:[(0,mg.jsx)("span",{children:"Total"}),(0,mg.jsx)("span",{children:Xx(D)})]}),(0,mg.jsx)(Jx,{onClick:()=>{if(!y.name||!y.studentId)return alert("Please complete your profile first!"),void f("profile");0!==p.length&&(i({orderId:"ORD-".concat(Math.floor(1e3+9e3*Math.random())),items:p,totalAmount:D,studentUid:s.uid,studentName:y.name,orderStatus:"Placed",paymentStatus:"Paid",createdAt:(new Date).toISOString(),timestamp:Date.now()}),m([]),f("orders"))},className:"w-full",children:"Place Order"})]})]})]}),"orders"===d&&(0,mg.jsxs)("div",{className:"p-4 max-w-2xl mx-auto",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white drop-shadow-lg mb-6",children:"Order History"}),(0,mg.jsxs)("div",{className:"space-y-6",children:[r.filter(e=>e.studentUid===s.uid).sort((e,t)=>t.timestamp-e.timestamp).map(e=>{const t=e.orderId.split("-")[1]||e.orderId;return(0,mg.jsxs)(eC,{className:"overflow-hidden border-l-4 ".concat("Served"===e.orderStatus?"border-l-green-500 opacity-80":"border-l-indigo-500"),children:["Placed"===e.orderStatus&&(0,mg.jsxs)("div",{className:"bg-indigo-500/20 backdrop-blur-sm -m-4 mb-4 p-6 flex flex-col items-center justify-center text-center border-b border-indigo-200/30",children:[(0,mg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm p-2 rounded-xl mb-3 shadow-lg",children:(0,mg.jsx)(I,{size:80,className:"text-slate-800"})}),(0,mg.jsx)("p",{className:"text-xs font-bold text-indigo-300 uppercase tracking-widest mb-1",children:"Pickup Code"}),(0,mg.jsx)("h3",{className:"text-4xl font-black text-indigo-600 tracking-wider font-mono",children:t}),(0,mg.jsx)("p",{className:"text-xs text-slate-600 mt-2",children:"Show this code to the staff to collect your order"})]}),(0,mg.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsxs)("h3",{className:"font-bold text-slate-800",children:["Order #",t]}),(0,mg.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full uppercase tracking-wider font-bold ".concat("Served"===e.orderStatus?"bg-green-500/20 text-green-700":"bg-blue-500/20 text-blue-700"),children:e.orderStatus})]}),(0,mg.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.createdAt).toLocaleString()})]}),(0,mg.jsx)("span",{className:"font-bold text-slate-900",children:Xx(e.totalAmount)})]}),(0,mg.jsx)("div",{className:"space-y-2",children:e.items.map((e,t)=>(0,mg.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 border-b border-white/20 last:border-0 pb-2 last:pb-0",children:[(0,mg.jsxs)("span",{children:[e.qty,"x ",e.name]}),(0,mg.jsx)("span",{children:Xx(e.price*e.qty)})]},t))}),"Served"===e.orderStatus&&(0,mg.jsx)("div",{className:"mt-4 pt-3 border-t border-white/20 text-center",children:(0,mg.jsxs)("p",{className:"text-xs text-green-600 font-medium flex items-center justify-center gap-1",children:[(0,mg.jsx)(M,{size:12})," Order Picked Up"]})})]},e.orderId)}),0===r.filter(e=>e.studentUid===s.uid).length&&(0,mg.jsx)("div",{className:"text-center text-white/60 py-10",children:"No orders yet"})]})]}),"profile"===d&&(0,mg.jsxs)("div",{className:"p-4 max-w-md mx-auto",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white drop-shadow-lg mb-6",children:"My Profile"}),(0,mg.jsxs)(eC,{className:"space-y-4",children:[(0,mg.jsx)("div",{className:"flex justify-center mb-4",children:(0,mg.jsx)("div",{className:"w-20 h-20 bg-indigo-500/30 backdrop-blur-sm text-indigo-600 rounded-full flex items-center justify-center text-2xl font-bold",children:y.name?y.name[0].toUpperCase():(0,mg.jsx)(P,{})})}),(0,mg.jsx)(Zx,{label:"Full Name",value:y.name,onChange:e=>b(a(a({},y),{},{name:e.target.value}))}),(0,mg.jsx)(Zx,{label:"Student ID / Roll No",value:y.studentId,onChange:e=>b(a(a({},y),{},{studentId:e.target.value}))}),(0,mg.jsx)(Zx,{label:"Phone Number",value:y.phone||"",onChange:e=>b(a(a({},y),{},{phone:e.target.value}))}),(0,mg.jsx)("div",{className:"pt-4",children:(0,mg.jsx)(Jx,{onClick:()=>u(y),className:"w-full",children:"Save Changes"})})]})]})]}),(0,mg.jsx)("nav",{className:"relative z-10 bg-white/80 backdrop-blur-md border-t border-white/30 flex justify-around items-center p-2 pb-safe sticky bottom-0",children:[{id:"menu",icon:C,label:"Menu"},{id:"cart",icon:k,label:"Cart",badge:E},{id:"orders",icon:O,label:"Orders"},{id:"profile",icon:P,label:"Profile"}].map(e=>(0,mg.jsxs)("button",{onClick:()=>f(e.id),className:"flex flex-col items-center p-2 rounded-xl transition-all w-16 ".concat(d===e.id?"text-indigo-600 bg-indigo-500/20":"text-slate-500 hover:text-slate-700"),children:[(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsx)(e.icon,{size:22,strokeWidth:d===e.id?2.5:2}),e.badge>0&&(0,mg.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold",children:e.badge})]}),(0,mg.jsx)("span",{className:"text-[10px] font-medium mt-1",children:e.label})]},e.id))})]})},rC=t=>{let{orders:n,updateOrder:r,logout:i,menu:s,onUpdateMenu:o,onDeleteMenu:u,onAddMenu:l,currentTheme:c,onThemeChange:h}=t;const[d,f]=(0,e.useState)("dashboard"),[p,m]=(0,e.useState)("Placed"),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(null),[w,D]=(0,e.useState)(""),[E,x]=(0,e.useState)(!1),[C,_]=(0,e.useState)({name:"",price:"",category:"",desc:"",image:"\ud83c\udf72"}),[A,k]=(0,e.useState)(null),T=n.filter(e=>"All"===p||e.orderStatus===p).sort((e,t)=>t.timestamp-e.timestamp),N={pending:n.filter(e=>"Placed"===e.orderStatus).length,served:n.filter(e=>"Served"===e.orderStatus).length,revenue:n.reduce((e,t)=>e+t.totalAmount,0)};return(0,mg.jsxs)("div",{className:"min-h-screen flex flex-col relative",children:[(0,mg.jsx)("div",{className:"fixed inset-0 z-0",children:(0,mg.jsx)(vg,{theme:c})}),(0,mg.jsx)("div",{className:"fixed inset-0 bg-black/20 z-0"}),(0,mg.jsxs)("header",{className:"relative z-10 text-white px-6 py-4 flex justify-between items-center shadow-md sticky top-0 bg-white/10 backdrop-blur-md border-b border-white/20",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mg.jsx)(R,{className:"text-orange-400"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"font-bold text-lg leading-none",children:"Kitchen Dashboard"}),(0,mg.jsx)("p",{className:"text-xs text-white/60",children:"Manage orders efficiently"})]})]}),(0,mg.jsxs)("div",{className:"flex gap-2",children:[(0,mg.jsx)(iC,{currentTheme:c,onThemeChange:h}),(0,mg.jsx)("button",{onClick:()=>f("dashboard"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("dashboard"===d?"bg-orange-500 text-white":"text-white/70 hover:text-white"),children:"Orders"}),(0,mg.jsx)("button",{onClick:()=>f("menu"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("menu"===d?"bg-orange-500 text-white":"text-white/70 hover:text-white"),children:"Menu"}),(0,mg.jsx)("button",{onClick:i,className:"ml-4 p-2 bg-white/10 rounded-lg hover:bg-white/20 text-white/70 hover:text-white transition-colors",children:(0,mg.jsx)(S,{size:18})})]})]}),(0,mg.jsxs)("main",{className:"flex-1 p-6 max-w-7xl mx-auto w-full relative z-10",children:["dashboard"===d&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,mg.jsxs)(eC,{className:"flex items-center gap-4 border-l-4 border-l-blue-500",children:[(0,mg.jsx)("div",{className:"p-3 bg-blue-500/20 text-blue-400 rounded-full",children:(0,mg.jsx)(O,{})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Pending Orders"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:N.pending})]})]}),(0,mg.jsxs)(eC,{className:"flex items-center gap-4 border-l-4 border-l-green-500",children:[(0,mg.jsx)("div",{className:"p-3 bg-green-500/20 text-green-500 rounded-full",children:(0,mg.jsx)(M,{})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Completed"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:N.served})]})]}),(0,mg.jsxs)(eC,{className:"flex items-center gap-4 border-l-4 border-l-indigo-500",children:[(0,mg.jsx)("div",{className:"p-3 bg-indigo-500/20 text-indigo-500 rounded-full",children:(0,mg.jsx)(L,{})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Total Revenue"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:Xx(N.revenue)})]})]})]}),(0,mg.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["Placed","Served","All"].map(e=>(0,mg.jsx)("button",{onClick:()=>m(e),className:"px-5 py-2 rounded-full font-medium text-sm transition-all whitespace-nowrap ".concat(p===e?"bg-white/90 text-slate-800 shadow-lg backdrop-blur-sm":"bg-white/30 backdrop-blur-sm text-white hover:bg-white/50"),children:"Placed"===e?"Pending":e},e))}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.map(e=>(0,mg.jsxs)(eC,{className:"flex flex-col h-full hover:shadow-xl transition-all ".concat("Served"===e.orderStatus?"opacity-75":""),children:[(0,mg.jsxs)("div",{className:"flex justify-between items-start mb-4 pb-4 border-b border-white/20",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,mg.jsx)(P,{size:16,className:"text-slate-400"}),(0,mg.jsx)("h3",{className:"font-bold text-lg text-slate-800",children:e.studentName})]}),(0,mg.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,mg.jsx)("div",{className:"text-right",children:(0,mg.jsx)("p",{className:"font-bold text-slate-900 bg-white/50 px-2 py-1 rounded",children:Xx(e.totalAmount)})})]}),(0,mg.jsx)("div",{className:"flex-1 space-y-3 mb-6",children:e.items.map((e,t)=>(0,mg.jsx)("div",{className:"flex justify-between items-center text-sm",children:(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsxs)("span",{className:"bg-white/50 text-slate-700 font-bold px-2 py-0.5 rounded text-xs",children:[e.qty,"x"]}),(0,mg.jsx)("span",{className:"text-slate-700",children:e.name})]})},t))}),"Placed"===e.orderStatus?(0,mg.jsxs)(Jx,{onClick:()=>{b(e),v(!0)},className:"w-full mt-auto",children:["Verify & Serve ",(0,mg.jsx)(I,{size:18})]}):(0,mg.jsxs)("div",{className:"mt-auto text-center py-2 bg-green-500/20 text-green-700 rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[(0,mg.jsx)(M,{size:16})," Served"]})]},e.orderId)),0===T.length&&(0,mg.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-white/50",children:[(0,mg.jsx)(B,{size:48,className:"mb-4 opacity-20"}),(0,mg.jsx)("p",{children:"No orders found for this filter."})]})]})]}),"menu"===d&&(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,mg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Menu Management"}),(0,mg.jsxs)(Jx,{onClick:()=>{_({name:"",price:"",category:"",desc:"",image:"\ud83c\udf72"}),k(null),x(!0)},className:"gap-2",children:[(0,mg.jsx)(j,{size:20})," Add Item"]})]}),(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(e=>(0,mg.jsxs)(eC,{className:"flex items-start gap-4",children:[(0,mg.jsx)("div",{className:"w-16 h-16 bg-white/50 rounded-lg flex items-center justify-center text-3xl",children:e.image}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("h3",{className:"font-bold text-slate-800",children:e.name}),(0,mg.jsx)("span",{className:"font-medium text-slate-600",children:Xx(e.price)})]}),(0,mg.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:e.category}),(0,mg.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,mg.jsx)("button",{onClick:()=>(e=>{_(e),k(e.docId),x(!0)})(e),className:"p-1.5 text-blue-600 hover:bg-blue-500/20 rounded-lg transition-colors",children:(0,mg.jsx)(z,{size:16})}),(0,mg.jsx)("button",{onClick:()=>u(e.docId),className:"p-1.5 text-red-600 hover:bg-red-500/20 rounded-lg transition-colors",children:(0,mg.jsx)(F,{size:16})})]})]})]},e.id))})]})]}),g&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,mg.jsxs)("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in fade-in zoom-in-95 border border-white/30",children:[(0,mg.jsxs)("div",{className:"text-center mb-6",children:[(0,mg.jsx)("div",{className:"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-indigo-600",children:(0,mg.jsx)(I,{size:32})}),(0,mg.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Verify Order"}),(0,mg.jsx)("p",{className:"text-sm text-slate-500 mt-2",children:"Enter the 4-digit code shown on the student's device."})]}),(0,mg.jsx)("input",{autoFocus:!0,type:"text",maxLength:4,placeholder:"0000",className:"w-full text-center text-3xl tracking-[1em] font-mono font-bold border-b-2 border-slate-200 focus:border-indigo-600 outline-none py-4 mb-6 bg-transparent",value:w,onChange:e=>D(e.target.value)}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,mg.jsx)(Jx,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),(0,mg.jsx)(Jx,{onClick:()=>{if(!y)return;const e=y.orderId.split("-")[1];w===e?(r(y.orderId,{orderStatus:"Served"}),v(!1),D(""),b(null)):alert("Incorrect Code! Please check with the student.")},children:"Confirm"})]})]})}),E&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,mg.jsxs)("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh] border border-white/30",children:[(0,mg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mg.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:A?"Edit Item":"New Item"}),(0,mg.jsx)("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:(0,mg.jsx)(U,{})})]}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)(Zx,{label:"Item Name",value:C.name,onChange:e=>_(a(a({},C),{},{name:e.target.value}))}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsx)(Zx,{label:"Price (\u20b9)",type:"number",value:C.price,onChange:e=>_(a(a({},C),{},{price:e.target.value}))}),(0,mg.jsx)(Zx,{label:"Category",placeholder:"Lunch, Snacks...",value:C.category,onChange:e=>_(a(a({},C),{},{category:e.target.value}))})]}),(0,mg.jsx)(Zx,{label:"Description",value:C.desc,onChange:e=>_(a(a({},C),{},{desc:e.target.value}))}),(0,mg.jsx)(Zx,{label:"Image (Emoji)",value:C.image,onChange:e=>_(a(a({},C),{},{image:e.target.value}))}),(0,mg.jsx)("div",{className:"pt-4 flex gap-3",children:(0,mg.jsx)(Jx,{className:"flex-1",onClick:()=>{if(!C.name||!C.price)return alert("Name and Price required");const e=a(a({},C),{},{price:Number(C.price),available:!0});A?o(A,e):l(a(a({},e),{},{id:Date.now()})),x(!1),_({name:"",price:"",category:"",desc:"",image:"\ud83c\udf72"}),k(null)},children:"Save Item"})})]})]})})]})},iC=t=>{let{currentTheme:n,onThemeChange:r,variant:i="dark"}=t;const[s,o]=(0,e.useState)(!1),a=qx[n]||v,u="dark"===i?"p-2 bg-white/20 backdrop-blur-sm rounded-lg text-white hover:bg-white/30 transition-all flex items-center gap-2":"p-2 bg-slate-800/80 backdrop-blur-sm rounded-lg text-white hover:bg-slate-800 transition-all flex items-center gap-2";return(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsxs)("button",{onClick:()=>o(!s),className:u,children:[(0,mg.jsx)(a,{size:18}),(0,mg.jsx)("span",{className:"text-xs font-medium capitalize hidden sm:inline",children:n})]}),s&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,mg.jsx)("div",{className:"absolute right-0 top-full mt-2 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-white/20 p-2 z-50 min-w-[180px]",children:Object.keys(gg).map(e=>{const t=qx[e]||v;return(0,mg.jsxs)("button",{onClick:()=>{r(e),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all ".concat(n===e?"bg-indigo-100 text-indigo-700":"text-slate-700 hover:bg-slate-100"),children:[(0,mg.jsx)(t,{size:18}),(0,mg.jsx)("span",{className:"font-medium capitalize",children:e})]},e)})})]})]})},sC=e=>{let{onSelect:t,currentTheme:n,onThemeChange:r}=e;return(0,mg.jsxs)("div",{className:"min-h-screen relative flex flex-col items-center justify-center p-4 overflow-hidden",children:[(0,mg.jsx)("div",{className:"absolute inset-0 z-0",children:(0,mg.jsx)(vg,{theme:n})}),(0,mg.jsx)("div",{className:"absolute inset-0 bg-black/20 z-0"}),(0,mg.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,mg.jsx)(iC,{currentTheme:n,onThemeChange:r})}),(0,mg.jsxs)("div",{className:"relative z-10",children:[(0,mg.jsxs)("div",{className:"text-center mb-10 animate-in slide-in-from-top-10 fade-in duration-700",children:[(0,mg.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-2 tracking-tight drop-shadow-lg",children:"Campus Eats"}),(0,mg.jsx)("p",{className:"text-lg text-white/80",children:"Choose your portal to continue"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl",children:[(0,mg.jsx)(Ux,{width:"100%",height:"auto",background:"rgba(255,255,255,0.7)",borderRadius:"24px",borderColor:"rgba(99,102,241,0.3)",glareColor:"#6366f1",glareOpacity:.3,glareAngle:-30,glareSize:300,transitionDuration:600,className:"cursor-pointer backdrop-blur-md",style:{minHeight:"220px"},children:(0,mg.jsxs)("button",{onClick:()=>t("student"),className:"w-full h-full p-8 flex flex-col items-center text-center gap-4",children:[(0,mg.jsx)("div",{className:"w-20 h-20 bg-indigo-500/20 backdrop-blur-sm text-indigo-600 rounded-2xl flex items-center justify-center mb-2",children:(0,mg.jsx)(P,{size:40})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Student"}),(0,mg.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"Browse menu, place orders, and track your food history."})]})]})}),(0,mg.jsx)(Ux,{width:"100%",height:"auto",background:"rgba(255,255,255,0.7)",borderRadius:"24px",borderColor:"rgba(249,115,22,0.3)",glareColor:"#f97316",glareOpacity:.3,glareAngle:-30,glareSize:300,transitionDuration:600,className:"cursor-pointer backdrop-blur-md",style:{minHeight:"220px"},children:(0,mg.jsxs)("button",{onClick:()=>t("staff"),className:"w-full h-full p-8 flex flex-col items-center text-center gap-4",children:[(0,mg.jsx)("div",{className:"w-20 h-20 bg-orange-500/20 backdrop-blur-sm text-orange-600 rounded-2xl flex items-center justify-center mb-2",children:(0,mg.jsx)(R,{size:40})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Canteen Staff"}),(0,mg.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"Manage incoming orders, update status, and view sales."})]})]})})]})]})]})};function oC(){const[t,n]=(0,e.useState)("role"),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),[u,l]=(0,e.useState)(null),[c,h]=(0,e.useState)(()=>localStorage.getItem("campuseats-theme")||"morning"),d=e=>{h(e),localStorage.setItem("campuseats-theme",e)},[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)([]);(0,e.useEffect)(()=>{const e=function(e,t,n,r){return ye(e).onAuthStateChanged(t,n,r)}(Wx,async e=>{if(e){const t=vp(Gx,"artifacts",Qx,"users",e.uid),r=await lm(t);if(r.exists()){o(e);const t=r.data();l(t),i(t.role),n("app")}else o(null)}else o(null),l(null),n("role")});return()=>e()},[]),(0,e.useEffect)(()=>{const e=gp(Gx,"artifacts",Qx,"public","data","menu"),t=fm(e,t=>{const n=t.docs.map(e=>a(a({},e.data()),{},{docId:e.id}));n.length>0?p(n):(p(Yx),Yx.forEach(t=>{dm(e,t)}))});if(!s)return t;const n=fm(gp(Gx,"artifacts",Qx,"public","data","orders"),e=>{const t=e.docs.map(e=>a(a({},e.data()),{},{docId:e.id}));g(t)});return()=>{t(),n()}},[s]);const v=e=>{i(e),n("auth")},y=async function(e,t){"google"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"email")?await Li(Wx,Kx):await function(e,t,n){return Nt(e.app)?Promise.reject(sn(e)):Jr(ye(e),Lr.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zr(e),t})}(Wx,e,t)},b=async function(e,t,n){let i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"email";if("master123"!==n)throw new Error("Invalid Master Key");i="google"===s?await Li(Wx,Kx):await async function(e,t,n){if(Nt(e.app))return Promise.reject(sn(e));const r=dr(e),i=Er(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zr(e),t}),o=await Wr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(Wx,e,t);const o={uid:i.user.uid,role:r,email:i.user.email,name:i.user.displayName||"",provider:s,createdAt:(new Date).toISOString()};await cm(vp(Gx,"artifacts",Qx,"users",i.user.uid),o)},w=async()=>{await function(e){return ye(e).signOut()}(Wx),n("role"),i(null)},D=async e=>{await dm(gp(Gx,"artifacts",Qx,"public","data","orders"),e)},E=async(e,t)=>{const n=m.find(t=>t.orderId===e);n&&n.docId&&await hm(vp(Gx,"artifacts",Qx,"public","data","orders",n.docId),t)},x=async e=>{await dm(gp(Gx,"artifacts",Qx,"public","data","menu"),e)},C=async(e,t)=>{await hm(vp(Gx,"artifacts",Qx,"public","data","menu",e),t)},_=async e=>{var t;await(t=vp(Gx,"artifacts",Qx,"public","data","menu",e),pm(So(t.firestore,Dp),[new $l(t._key,Bl.none())]))},S=async e=>{s&&(await cm(vp(Gx,"artifacts",Qx,"users",s.uid),e,{merge:!0}),l(t=>a(a({},t),e)))};return"role"===t?(0,mg.jsx)(sC,{onSelect:v,currentTheme:c,onThemeChange:d}):"auth"===t?(0,mg.jsx)(tC,{role:r,onLogin:y,onSignup:b,setStep:n,setRole:i,currentTheme:c}):"app"===t&&s&&u?"student"===u.role?(0,mg.jsx)(nC,{menu:f,orders:m,addToOrder:D,user:s,userProfile:u,updateUserProfile:S,logout:w,currentTheme:c,onThemeChange:d}):(0,mg.jsx)(rC,{orders:m,menu:f,updateOrder:E,onAddMenu:x,onUpdateMenu:C,onDeleteMenu:_,logout:w,currentTheme:c,onThemeChange:d}):(0,mg.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-indigo-600",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-current"})})}const aC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};t.createRoot(document.getElementById("root")).render((0,mg.jsx)(e.StrictMode,{children:(0,mg.jsx)(oC,{})})),aC()})()})();
//# sourceMappingURL=main.d96fdd94.js.map