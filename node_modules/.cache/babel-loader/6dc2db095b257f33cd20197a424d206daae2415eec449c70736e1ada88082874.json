{"ast":null,"code":"import { Transform } from './Transform.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Vec3 } from '../math/Vec3.js';\nconst tempMat4 = /* @__PURE__ */new Mat4();\nconst tempVec3a = /* @__PURE__ */new Vec3();\nconst tempVec3b = /* @__PURE__ */new Vec3();\nexport class Camera extends Transform {\n  constructor(gl, {\n    near = 0.1,\n    far = 100,\n    fov = 45,\n    aspect = 1,\n    left,\n    right,\n    bottom,\n    top,\n    zoom = 1\n  } = {}) {\n    super();\n    Object.assign(this, {\n      near,\n      far,\n      fov,\n      aspect,\n      left,\n      right,\n      bottom,\n      top,\n      zoom\n    });\n    this.projectionMatrix = new Mat4();\n    this.viewMatrix = new Mat4();\n    this.projectionViewMatrix = new Mat4();\n    this.worldPosition = new Vec3();\n\n    // Use orthographic if left/right set, else default to perspective camera\n    this.type = left || right ? 'orthographic' : 'perspective';\n    if (this.type === 'orthographic') this.orthographic();else this.perspective();\n  }\n  perspective({\n    near = this.near,\n    far = this.far,\n    fov = this.fov,\n    aspect = this.aspect\n  } = {}) {\n    Object.assign(this, {\n      near,\n      far,\n      fov,\n      aspect\n    });\n    this.projectionMatrix.fromPerspective({\n      fov: fov * (Math.PI / 180),\n      aspect,\n      near,\n      far\n    });\n    this.type = 'perspective';\n    return this;\n  }\n  orthographic({\n    near = this.near,\n    far = this.far,\n    left = this.left || -1,\n    right = this.right || 1,\n    bottom = this.bottom || -1,\n    top = this.top || 1,\n    zoom = this.zoom\n  } = {}) {\n    Object.assign(this, {\n      near,\n      far,\n      left,\n      right,\n      bottom,\n      top,\n      zoom\n    });\n    left /= zoom;\n    right /= zoom;\n    bottom /= zoom;\n    top /= zoom;\n    this.projectionMatrix.fromOrthogonal({\n      left,\n      right,\n      bottom,\n      top,\n      near,\n      far\n    });\n    this.type = 'orthographic';\n    return this;\n  }\n  updateMatrixWorld() {\n    super.updateMatrixWorld();\n    this.viewMatrix.inverse(this.worldMatrix);\n    this.worldMatrix.getTranslation(this.worldPosition);\n\n    // used for sorting\n    this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\n    return this;\n  }\n  updateProjectionMatrix() {\n    if (this.type === 'perspective') {\n      return this.perspective();\n    } else {\n      return this.orthographic();\n    }\n  }\n  lookAt(target) {\n    super.lookAt(target, true);\n    return this;\n  }\n\n  // Project 3D coordinate to 2D point\n  project(v) {\n    v.applyMatrix4(this.viewMatrix);\n    v.applyMatrix4(this.projectionMatrix);\n    return this;\n  }\n\n  // Unproject 2D point to 3D coordinate\n  unproject(v) {\n    v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\n    v.applyMatrix4(this.worldMatrix);\n    return this;\n  }\n  updateFrustum() {\n    if (!this.frustum) {\n      this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\n    }\n    const m = this.projectionViewMatrix;\n    this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\n    this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\n    this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\n    this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\n    this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\n    this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\n\n    for (let i = 0; i < 6; i++) {\n      const invLen = 1.0 / this.frustum[i].distance();\n      this.frustum[i].multiply(invLen);\n      this.frustum[i].constant *= invLen;\n    }\n  }\n  frustumIntersectsMesh(node, worldMatrix = node.worldMatrix) {\n    // If no position attribute, treat as frustumCulled false\n    if (!node.geometry.attributes.position) return true;\n    if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\n    if (!node.geometry.bounds) return true;\n    const center = tempVec3a;\n    center.copy(node.geometry.bounds.center);\n    center.applyMatrix4(worldMatrix);\n    const radius = node.geometry.bounds.radius * worldMatrix.getMaxScaleOnAxis();\n    return this.frustumIntersectsSphere(center, radius);\n  }\n  frustumIntersectsSphere(center, radius) {\n    const normal = tempVec3b;\n    for (let i = 0; i < 6; i++) {\n      const plane = this.frustum[i];\n      const distance = normal.copy(plane).dot(center) + plane.constant;\n      if (distance < -radius) return false;\n    }\n    return true;\n  }\n}","map":{"version":3,"names":["Transform","Mat4","Vec3","tempMat4","tempVec3a","tempVec3b","Camera","constructor","gl","near","far","fov","aspect","left","right","bottom","top","zoom","Object","assign","projectionMatrix","viewMatrix","projectionViewMatrix","worldPosition","type","orthographic","perspective","fromPerspective","Math","PI","fromOrthogonal","updateMatrixWorld","inverse","worldMatrix","getTranslation","multiply","updateProjectionMatrix","lookAt","target","project","v","applyMatrix4","unproject","updateFrustum","frustum","m","set","constant","i","invLen","distance","frustumIntersectsMesh","node","geometry","attributes","position","bounds","radius","Infinity","computeBoundingSphere","center","copy","getMaxScaleOnAxis","frustumIntersectsSphere","normal","plane","dot"],"sources":["C:/Users/dudet/Documents/gitexp/CampusEats/node_modules/ogl/src/core/Camera.js"],"sourcesContent":["import { Transform } from './Transform.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nconst tempMat4 = /* @__PURE__ */ new Mat4();\r\nconst tempVec3a = /* @__PURE__ */ new Vec3();\r\nconst tempVec3b = /* @__PURE__ */ new Vec3();\r\n\r\nexport class Camera extends Transform {\r\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\r\n        super();\r\n\r\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\r\n\r\n        this.projectionMatrix = new Mat4();\r\n        this.viewMatrix = new Mat4();\r\n        this.projectionViewMatrix = new Mat4();\r\n        this.worldPosition = new Vec3();\r\n\r\n        // Use orthographic if left/right set, else default to perspective camera\r\n        this.type = left || right ? 'orthographic' : 'perspective';\r\n\r\n        if (this.type === 'orthographic') this.orthographic();\r\n        else this.perspective();\r\n    }\r\n\r\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\r\n        Object.assign(this, { near, far, fov, aspect });\r\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\r\n        this.type = 'perspective';\r\n        return this;\r\n    }\r\n\r\n    orthographic({\r\n        near = this.near,\r\n        far = this.far,\r\n        left = this.left || -1,\r\n        right = this.right || 1,\r\n        bottom = this.bottom || -1,\r\n        top = this.top || 1,\r\n        zoom = this.zoom,\r\n    } = {}) {\r\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\r\n        left /= zoom;\r\n        right /= zoom;\r\n        bottom /= zoom;\r\n        top /= zoom;\r\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\r\n        this.type = 'orthographic';\r\n        return this;\r\n    }\r\n\r\n    updateMatrixWorld() {\r\n        super.updateMatrixWorld();\r\n        this.viewMatrix.inverse(this.worldMatrix);\r\n        this.worldMatrix.getTranslation(this.worldPosition);\r\n\r\n        // used for sorting\r\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\r\n        return this;\r\n    }\r\n\r\n    updateProjectionMatrix() {\r\n        if (this.type === 'perspective') {\r\n            return this.perspective();\r\n        } else {\r\n            return this.orthographic();\r\n        }\r\n    }\r\n\r\n    lookAt(target) {\r\n        super.lookAt(target, true);\r\n        return this;\r\n    }\r\n\r\n    // Project 3D coordinate to 2D point\r\n    project(v) {\r\n        v.applyMatrix4(this.viewMatrix);\r\n        v.applyMatrix4(this.projectionMatrix);\r\n        return this;\r\n    }\r\n\r\n    // Unproject 2D point to 3D coordinate\r\n    unproject(v) {\r\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\r\n        v.applyMatrix4(this.worldMatrix);\r\n        return this;\r\n    }\r\n\r\n    updateFrustum() {\r\n        if (!this.frustum) {\r\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\r\n        }\r\n\r\n        const m = this.projectionViewMatrix;\r\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\r\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\r\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\r\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\r\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\r\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const invLen = 1.0 / this.frustum[i].distance();\r\n            this.frustum[i].multiply(invLen);\r\n            this.frustum[i].constant *= invLen;\r\n        }\r\n    }\r\n\r\n    frustumIntersectsMesh(node, worldMatrix = node.worldMatrix) {\r\n        // If no position attribute, treat as frustumCulled false\r\n        if (!node.geometry.attributes.position) return true;\r\n\r\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\r\n\r\n        if (!node.geometry.bounds) return true;\r\n\r\n        const center = tempVec3a;\r\n        center.copy(node.geometry.bounds.center);\r\n        center.applyMatrix4(worldMatrix);\r\n\r\n        const radius = node.geometry.bounds.radius * worldMatrix.getMaxScaleOnAxis();\r\n\r\n        return this.frustumIntersectsSphere(center, radius);\r\n    }\r\n\r\n    frustumIntersectsSphere(center, radius) {\r\n        const normal = tempVec3b;\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const plane = this.frustum[i];\r\n            const distance = normal.copy(plane).dot(center) + plane.constant;\r\n            if (distance < -radius) return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}