{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nimport { isComplex, isUnit, typeOf } from '../../utils/is.js';\nimport { factory } from '../../utils/factory.js';\nimport { memoize } from '../../utils/function.js';\nimport { endsWith } from '../../utils/string.js';\nimport { clone, hasOwnProperty } from '../../utils/object.js';\nimport { createBigNumberPi as createPi } from '../../utils/bignumber/constants.js';\nvar name = 'Unit';\nvar dependencies = ['?on', 'config', 'addScalar', 'subtractScalar', 'multiplyScalar', 'divideScalar', 'pow', 'abs', 'fix', 'round', 'equal', 'isNumeric', 'format', 'number', 'Complex', 'BigNumber', 'Fraction'];\nexport var createUnitClass = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    on,\n    config,\n    addScalar,\n    subtractScalar,\n    multiplyScalar,\n    divideScalar,\n    pow,\n    abs,\n    fix,\n    round,\n    equal,\n    isNumeric,\n    format,\n    number: _number,\n    Complex,\n    BigNumber: _BigNumber,\n    Fraction: _Fraction\n  } = _ref;\n  var toNumber = _number;\n  var fixPrefixDefault = false;\n  var skipAutomaticSimplificationDefault = true;\n\n  /**\r\n   * A unit can be constructed in the following ways:\r\n   *\r\n   *     const a = new Unit(value, valuelessUnit)\r\n   *     const b = new Unit(null, valuelessUnit)\r\n   *     const c = Unit.parse(str)\r\n   *\r\n   * Example usage:\r\n   *\r\n   *     const a = new Unit(5, 'cm')               // 50 mm\r\n   *     const b = Unit.parse('23 kg')             // 23 kg\r\n   *     const c = math.in(a, new Unit(null, 'm')  // 0.05 m\r\n   *     const d = new Unit(9.81, \"m/s^2\")         // 9.81 m/s^2\r\n   *\r\n   * @class Unit\r\n   * @constructor Unit\r\n   * @param {number | BigNumber | Fraction | Complex | boolean} [value]  A value like 5.2\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   */\n  function Unit(value, valuelessUnit) {\n    if (!(this instanceof Unit)) {\n      throw new Error('Constructor must be called with the new operator');\n    }\n    if (!(value === null || value === undefined || isNumeric(value) || isComplex(value))) {\n      throw new TypeError('First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined');\n    }\n    this.fixPrefix = fixPrefixDefault; // if true, function format will not search for the\n    // best prefix but leave it as initially provided.\n    // fixPrefix is set true by the method Unit.to\n\n    // The justification behind this is that if the constructor is explicitly called,\n    // the caller wishes the units to be returned exactly as supplied.\n    this.skipAutomaticSimplification = skipAutomaticSimplificationDefault;\n    if (valuelessUnit === undefined) {\n      this.units = [];\n      this.dimensions = BASE_DIMENSIONS.map(x => 0);\n    } else if (typeof valuelessUnit === 'string') {\n      var u = Unit.parse(valuelessUnit);\n      this.units = u.units;\n      this.dimensions = u.dimensions;\n    } else if (isUnit(valuelessUnit) && valuelessUnit.value === null) {\n      // clone from valuelessUnit\n      this.fixPrefix = valuelessUnit.fixPrefix;\n      this.skipAutomaticSimplification = valuelessUnit.skipAutomaticSimplification;\n      this.dimensions = valuelessUnit.dimensions.slice(0);\n      this.units = valuelessUnit.units.map(u => _extends({}, u));\n    } else {\n      throw new TypeError('Second parameter in Unit constructor must be a string or valueless Unit');\n    }\n    this.value = this._normalize(value);\n  }\n\n  /**\r\n   * Attach type information\r\n   */\n  Object.defineProperty(Unit, 'name', {\n    value: 'Unit'\n  });\n  Unit.prototype.constructor = Unit;\n  Unit.prototype.type = 'Unit';\n  Unit.prototype.isUnit = true;\n\n  // private variables and functions for the Unit parser\n  var text, index, c;\n  function skipWhitespace() {\n    while (c === ' ' || c === '\\t') {\n      next();\n    }\n  }\n  function isDigitDot(c) {\n    return c >= '0' && c <= '9' || c === '.';\n  }\n  function isDigit(c) {\n    return c >= '0' && c <= '9';\n  }\n  function next() {\n    index++;\n    c = text.charAt(index);\n  }\n  function revert(oldIndex) {\n    index = oldIndex;\n    c = text.charAt(index);\n  }\n  function parseNumber() {\n    var number = '';\n    var oldIndex = index;\n    if (c === '+') {\n      next();\n    } else if (c === '-') {\n      number += c;\n      next();\n    }\n    if (!isDigitDot(c)) {\n      // a + or - must be followed by a digit\n      revert(oldIndex);\n      return null;\n    }\n\n    // get number, can have a single dot\n    if (c === '.') {\n      number += c;\n      next();\n      if (!isDigit(c)) {\n        // this is no legal number, it is just a dot\n        revert(oldIndex);\n        return null;\n      }\n    } else {\n      while (isDigit(c)) {\n        number += c;\n        next();\n      }\n      if (c === '.') {\n        number += c;\n        next();\n      }\n    }\n    while (isDigit(c)) {\n      number += c;\n      next();\n    }\n\n    // check for exponential notation like \"2.3e-4\" or \"1.23e50\"\n    if (c === 'E' || c === 'e') {\n      // The grammar branches here. This could either be part of an exponent or the start of a unit that begins with the letter e, such as \"4exabytes\"\n\n      var tentativeNumber = '';\n      var tentativeIndex = index;\n      tentativeNumber += c;\n      next();\n      if (c === '+' || c === '-') {\n        tentativeNumber += c;\n        next();\n      }\n\n      // Scientific notation MUST be followed by an exponent (otherwise we assume it is not scientific notation)\n      if (!isDigit(c)) {\n        // The e or E must belong to something else, so return the number without the e or E.\n        revert(tentativeIndex);\n        return number;\n      }\n\n      // We can now safely say that this is scientific notation.\n      number = number + tentativeNumber;\n      while (isDigit(c)) {\n        number += c;\n        next();\n      }\n    }\n    return number;\n  }\n  function parseUnit() {\n    var unitName = '';\n\n    // Alphanumeric characters only; matches [a-zA-Z0-9]\n    while (isDigit(c) || Unit.isValidAlpha(c)) {\n      unitName += c;\n      next();\n    }\n\n    // Must begin with [a-zA-Z]\n    var firstC = unitName.charAt(0);\n    if (Unit.isValidAlpha(firstC)) {\n      return unitName;\n    } else {\n      return null;\n    }\n  }\n  function parseCharacter(toFind) {\n    if (c === toFind) {\n      next();\n      return toFind;\n    } else {\n      return null;\n    }\n  }\n\n  /**\r\n   * Parse a string into a unit. The value of the unit is parsed as number,\r\n   * BigNumber, or Fraction depending on the math.js config setting `number`.\r\n   *\r\n   * Throws an exception if the provided string does not contain a valid unit or\r\n   * cannot be parsed.\r\n   * @memberof Unit\r\n   * @param {string} str        A string like \"5.2 inch\", \"4e2 cm/s^2\"\r\n   * @return {Unit} unit\r\n   */\n  Unit.parse = function (str, options) {\n    options = options || {};\n    text = str;\n    index = -1;\n    c = '';\n    if (typeof text !== 'string') {\n      throw new TypeError('Invalid argument in Unit.parse, string expected');\n    }\n    var unit = new Unit();\n    unit.units = [];\n    var powerMultiplierCurrent = 1;\n    var expectingUnit = false;\n\n    // A unit should follow this pattern:\n    // [number] ...[ [*/] unit[^number] ]\n    // unit[^number] ... [ [*/] unit[^number] ]\n\n    // Rules:\n    // number is any floating point number.\n    // unit is any alphanumeric string beginning with an alpha. Units with names like e3 should be avoided because they look like the exponent of a floating point number!\n    // The string may optionally begin with a number.\n    // Each unit may optionally be followed by ^number.\n    // Whitespace or a forward slash is recommended between consecutive units, although the following technically is parseable:\n    //   2m^2kg/s^2\n    // it is not good form. If a unit starts with e, then it could be confused as a floating point number:\n    //   4erg\n\n    next();\n    skipWhitespace();\n\n    // Optional number at the start of the string\n    var valueStr = parseNumber();\n    var value = null;\n    if (valueStr) {\n      if (config.number === 'BigNumber') {\n        value = new _BigNumber(valueStr);\n      } else if (config.number === 'Fraction') {\n        try {\n          // not all numbers can be turned in Fractions, for example very small numbers not\n          value = new _Fraction(valueStr);\n        } catch (err) {\n          value = parseFloat(valueStr);\n        }\n      } else {\n        // number\n        value = parseFloat(valueStr);\n      }\n      skipWhitespace(); // Whitespace is not required here\n\n      // handle multiplication or division right after the value, like '1/s'\n      if (parseCharacter('*')) {\n        powerMultiplierCurrent = 1;\n        expectingUnit = true;\n      } else if (parseCharacter('/')) {\n        powerMultiplierCurrent = -1;\n        expectingUnit = true;\n      }\n    }\n\n    // Stack to keep track of powerMultipliers applied to each parentheses group\n    var powerMultiplierStack = [];\n\n    // Running product of all elements in powerMultiplierStack\n    var powerMultiplierStackProduct = 1;\n    while (true) {\n      skipWhitespace();\n\n      // Check for and consume opening parentheses, pushing powerMultiplierCurrent to the stack\n      // A '(' will always appear directly before a unit.\n      while (c === '(') {\n        powerMultiplierStack.push(powerMultiplierCurrent);\n        powerMultiplierStackProduct *= powerMultiplierCurrent;\n        powerMultiplierCurrent = 1;\n        next();\n        skipWhitespace();\n      }\n\n      // Is there something here?\n      var uStr = void 0;\n      if (c) {\n        var oldC = c;\n        uStr = parseUnit();\n        if (uStr === null) {\n          throw new SyntaxError('Unexpected \"' + oldC + '\" in \"' + text + '\" at index ' + index.toString());\n        }\n      } else {\n        // End of input.\n        break;\n      }\n\n      // Verify the unit exists and get the prefix (if any)\n      var res = _findUnit(uStr);\n      if (res === null) {\n        // Unit not found.\n        throw new SyntaxError('Unit \"' + uStr + '\" not found.');\n      }\n      var power = powerMultiplierCurrent * powerMultiplierStackProduct;\n      // Is there a \"^ number\"?\n      skipWhitespace();\n      if (parseCharacter('^')) {\n        skipWhitespace();\n        var p = parseNumber();\n        if (p === null) {\n          // No valid number found for the power!\n          throw new SyntaxError('In \"' + str + '\", \"^\" must be followed by a floating-point number');\n        }\n        power *= p;\n      }\n\n      // Add the unit to the list\n      unit.units.push({\n        unit: res.unit,\n        prefix: res.prefix,\n        power\n      });\n      for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n        unit.dimensions[i] += (res.unit.dimensions[i] || 0) * power;\n      }\n\n      // Check for and consume closing parentheses, popping from the stack.\n      // A ')' will always follow a unit.\n      skipWhitespace();\n      while (c === ')') {\n        if (powerMultiplierStack.length === 0) {\n          throw new SyntaxError('Unmatched \")\" in \"' + text + '\" at index ' + index.toString());\n        }\n        powerMultiplierStackProduct /= powerMultiplierStack.pop();\n        next();\n        skipWhitespace();\n      }\n\n      // \"*\" and \"/\" should mean we are expecting something to come next.\n      // Is there a forward slash? If so, negate powerMultiplierCurrent. The next unit or paren group is in the denominator.\n      expectingUnit = false;\n      if (parseCharacter('*')) {\n        // explicit multiplication\n        powerMultiplierCurrent = 1;\n        expectingUnit = true;\n      } else if (parseCharacter('/')) {\n        // division\n        powerMultiplierCurrent = -1;\n        expectingUnit = true;\n      } else {\n        // implicit multiplication\n        powerMultiplierCurrent = 1;\n      }\n\n      // Replace the unit into the auto unit system\n      if (res.unit.base) {\n        var baseDim = res.unit.base.key;\n        UNIT_SYSTEMS.auto[baseDim] = {\n          unit: res.unit,\n          prefix: res.prefix\n        };\n      }\n    }\n\n    // Has the string been entirely consumed?\n    skipWhitespace();\n    if (c) {\n      throw new SyntaxError('Could not parse: \"' + str + '\"');\n    }\n\n    // Is there a trailing slash?\n    if (expectingUnit) {\n      throw new SyntaxError('Trailing characters: \"' + str + '\"');\n    }\n\n    // Is the parentheses stack empty?\n    if (powerMultiplierStack.length !== 0) {\n      throw new SyntaxError('Unmatched \"(\" in \"' + text + '\"');\n    }\n\n    // Are there any units at all?\n    if (unit.units.length === 0 && !options.allowNoUnits) {\n      throw new SyntaxError('\"' + str + '\" contains no units');\n    }\n    unit.value = value !== undefined ? unit._normalize(value) : null;\n    return unit;\n  };\n\n  /**\r\n   * create a copy of this unit\r\n   * @memberof Unit\r\n   * @return {Unit} Returns a cloned version of the unit\r\n   */\n  Unit.prototype.clone = function () {\n    var unit = new Unit();\n    unit.fixPrefix = this.fixPrefix;\n    unit.skipAutomaticSimplification = this.skipAutomaticSimplification;\n    unit.value = clone(this.value);\n    unit.dimensions = this.dimensions.slice(0);\n    unit.units = [];\n    for (var i = 0; i < this.units.length; i++) {\n      unit.units[i] = {};\n      for (var p in this.units[i]) {\n        if (hasOwnProperty(this.units[i], p)) {\n          unit.units[i][p] = this.units[i][p];\n        }\n      }\n    }\n    return unit;\n  };\n\n  /**\r\n   * Return the type of the value of this unit\r\n   *\r\n   * @memberof Unit\r\n   * @return {string} type of the value of the unit\r\n   */\n  Unit.prototype.valueType = function () {\n    return typeOf(this.value);\n  };\n\n  /**\r\n   * Return whether the unit is derived (such as m/s, or cm^2, but not N)\r\n   * @memberof Unit\r\n   * @return {boolean} True if the unit is derived\r\n   * @private\r\n   */\n  Unit.prototype._isDerived = function () {\n    if (this.units.length === 0) {\n      return false;\n    }\n    return this.units.length > 1 || Math.abs(this.units[0].power - 1.0) > 1e-15;\n  };\n\n  /**\r\n   * Normalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number | BigNumber | Fraction | boolean} value\r\n   * @return {number | BigNumber | Fraction | boolean} normalized value\r\n   * @private\r\n   */\n  Unit.prototype._normalize = function (value) {\n    if (value === null || value === undefined || this.units.length === 0) {\n      return value;\n    }\n    var res = value;\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n    for (var i = 0; i < this.units.length; i++) {\n      var unitValue = convert(this.units[i].unit.value);\n      var unitPrefixValue = convert(this.units[i].prefix.value);\n      var unitPower = convert(this.units[i].power);\n      res = multiplyScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\n    }\n    return res;\n  };\n\n  /**\r\n   * Denormalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number} value\r\n   * @param {number} [prefixValue]    Optional prefix value to be used (ignored if this is a derived unit)\r\n   * @return {number} denormalized value\r\n   * @private\r\n   */\n  Unit.prototype._denormalize = function (value, prefixValue) {\n    if (value === null || value === undefined || this.units.length === 0) {\n      return value;\n    }\n    var res = value;\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n    for (var i = 0; i < this.units.length; i++) {\n      var unitValue = convert(this.units[i].unit.value);\n      var unitPrefixValue = convert(this.units[i].prefix.value);\n      var unitPower = convert(this.units[i].power);\n      res = divideScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\n    }\n    return res;\n  };\n\n  /**\r\n   * Find a unit from a string\r\n   * @memberof Unit\r\n   * @param {string} str              A string like 'cm' or 'inch'\r\n   * @returns {Object | null} result  When found, an object with fields unit and\r\n   *                                  prefix is returned. Else, null is returned.\r\n   * @private\r\n   */\n  var _findUnit = memoize(str => {\n    // First, match units names exactly. For example, a user could define 'mm' as 10^-4 m, which is silly, but then we would want 'mm' to match the user-defined unit.\n    if (hasOwnProperty(UNITS, str)) {\n      var unit = UNITS[str];\n      var prefix = unit.prefixes[''];\n      return {\n        unit,\n        prefix\n      };\n    }\n    for (var _name in UNITS) {\n      if (hasOwnProperty(UNITS, _name)) {\n        if (endsWith(str, _name)) {\n          var _unit = UNITS[_name];\n          var prefixLen = str.length - _name.length;\n          var prefixName = str.substring(0, prefixLen);\n          var _prefix = hasOwnProperty(_unit.prefixes, prefixName) ? _unit.prefixes[prefixName] : undefined;\n          if (_prefix !== undefined) {\n            // store unit, prefix, and value\n            return {\n              unit: _unit,\n              prefix: _prefix\n            };\n          }\n        }\n      }\n    }\n    return null;\n  }, {\n    hasher: args => args[0],\n    limit: 100\n  });\n\n  /**\r\n   * Test if the given expression is a unit.\r\n   * The unit can have a prefix but cannot have a value.\r\n   * @memberof Unit\r\n   * @param {string} name   A string to be tested whether it is a value less unit.\r\n   *                        The unit can have prefix, like \"cm\"\r\n   * @return {boolean}      true if the given string is a unit\r\n   */\n  Unit.isValuelessUnit = function (name) {\n    return _findUnit(name) !== null;\n  };\n\n  /**\r\n   * check if this unit has given base unit\r\n   * If this unit is a derived unit, this will ALWAYS return false, since by definition base units are not derived.\r\n   * @memberof Unit\r\n   * @param {BASE_UNIT | string | undefined} base\r\n   */\n  Unit.prototype.hasBase = function (base) {\n    if (typeof base === 'string') {\n      base = BASE_UNITS[base];\n    }\n    if (!base) {\n      return false;\n    }\n\n    // All dimensions must be the same\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      if (Math.abs((this.dimensions[i] || 0) - (base.dimensions[i] || 0)) > 1e-12) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\r\n   * Check if this unit has a base or bases equal to another base or bases\r\n   * For derived units, the exponent on each base also must match\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if equal base\r\n   */\n  Unit.prototype.equalBase = function (other) {\n    // All dimensions must be the same\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      if (Math.abs((this.dimensions[i] || 0) - (other.dimensions[i] || 0)) > 1e-12) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\r\n   * Check if this unit equals another unit\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if both units are equal\r\n   */\n  Unit.prototype.equals = function (other) {\n    return this.equalBase(other) && equal(this.value, other.value);\n  };\n\n  /**\r\n   * Multiply this unit with another one or with a scalar\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {Unit} product of this unit and the other unit\r\n   */\n  Unit.prototype.multiply = function (_other) {\n    var res = this.clone();\n    var other = isUnit(_other) ? _other : new Unit(_other);\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) + (other.dimensions[i] || 0);\n    }\n\n    // Append other's units list onto res\n    for (var _i = 0; _i < other.units.length; _i++) {\n      // Make a shallow copy of every unit\n      var inverted = _objectSpread({}, other.units[_i]);\n      res.units.push(inverted);\n    }\n\n    // If at least one operand has a value, then the result should also have a value\n    if (this.value !== null || other.value !== null) {\n      var valThis = this.value === null ? this._normalize(one(other.value)) : this.value;\n      var valOther = other.value === null ? other._normalize(one(this.value)) : other.value;\n      res.value = multiplyScalar(valThis, valOther);\n    } else {\n      res.value = null;\n    }\n    if (isUnit(_other)) {\n      res.skipAutomaticSimplification = false;\n    }\n    return getNumericIfUnitless(res);\n  };\n\n  /**\r\n   * Divide a number by this unit\r\n   *\r\n   * @memberof Unit\r\n   * @param {numeric} numerator\r\n   * @param {unit} result of dividing numerator by this unit\r\n   */\n  Unit.prototype.divideInto = function (numerator) {\n    return new Unit(numerator).divide(this);\n  };\n\n  /**\r\n   * Divide this unit by another one\r\n   * @memberof Unit\r\n   * @param {Unit | numeric} other\r\n   * @return {Unit} result of dividing this unit by the other unit\r\n   */\n  Unit.prototype.divide = function (_other) {\n    var res = this.clone();\n    var other = isUnit(_other) ? _other : new Unit(_other);\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) - (other.dimensions[i] || 0);\n    }\n\n    // Invert and append other's units list onto res\n    for (var _i2 = 0; _i2 < other.units.length; _i2++) {\n      // Make a shallow copy of every unit\n      var inverted = _objectSpread(_objectSpread({}, other.units[_i2]), {}, {\n        power: -other.units[_i2].power\n      });\n      res.units.push(inverted);\n    }\n\n    // If at least one operand has a value, the result should have a value\n    if (this.value !== null || other.value !== null) {\n      var valThis = this.value === null ? this._normalize(one(other.value)) : this.value;\n      var valOther = other.value === null ? other._normalize(one(this.value)) : other.value;\n      res.value = divideScalar(valThis, valOther);\n    } else {\n      res.value = null;\n    }\n    if (isUnit(_other)) {\n      res.skipAutomaticSimplification = false;\n    }\n    return getNumericIfUnitless(res);\n  };\n\n  /**\r\n   * Calculate the power of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} p\r\n   * @returns {Unit}      The result: this^p\r\n   */\n  Unit.prototype.pow = function (p) {\n    var res = this.clone();\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) * p;\n    }\n\n    // Adjust the power of each unit in the list\n    for (var _i3 = 0; _i3 < res.units.length; _i3++) {\n      res.units[_i3].power *= p;\n    }\n    if (res.value !== null) {\n      res.value = pow(res.value, p);\n\n      // only allow numeric output, we don't want to return a Complex number\n      // if (!isNumeric(res.value)) {\n      //  res.value = NaN\n      // }\n      // Update: Complex supported now\n    } else {\n      res.value = null;\n    }\n    res.skipAutomaticSimplification = false;\n    return getNumericIfUnitless(res);\n  };\n\n  /**\r\n   * Return the numeric value of this unit if it is dimensionless, has a value, and config.predictable == false; or the original unit otherwise\r\n   * @param {Unit} unit\r\n   * @returns {number | Fraction | BigNumber | Unit}  The numeric value of the unit if conditions are met, or the original unit otherwise\r\n   */\n  function getNumericIfUnitless(unit) {\n    if (unit.equalBase(BASE_UNITS.NONE) && unit.value !== null && !config.predictable) {\n      return unit.value;\n    } else {\n      return unit;\n    }\n  }\n\n  /**\r\n   * Create a value one with the numeric type of `typeOfValue`.\r\n   * For example, `one(new BigNumber(3))` returns `BigNumber(1)`\r\n   * @param {number | Fraction | BigNumber} typeOfValue\r\n   * @returns {number | Fraction | BigNumber}\r\n   */\n  function one(typeOfValue) {\n    // TODO: this is a workaround to prevent the following BigNumber conversion error from throwing:\n    //  \"TypeError: Cannot implicitly convert a number with >15 significant digits to BigNumber\"\n    //  see https://github.com/josdejong/mathjs/issues/3450\n    //      https://github.com/josdejong/mathjs/pull/3375\n    var convert = Unit._getNumberConverter(typeOf(typeOfValue));\n    return convert(1);\n  }\n\n  /**\r\n   * Calculate the absolute value of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} x\r\n   * @returns {Unit}      The result: |x|, absolute value of x\r\n   */\n  Unit.prototype.abs = function () {\n    var ret = this.clone();\n    if (ret.value !== null) {\n      if (ret._isDerived() || ret.units.length === 0 || ret.units[0].unit.offset === 0) {\n        ret.value = abs(ret.value);\n      } else {\n        // To give the correct, but unexpected, results for units with an offset.\n        // For example, abs(-283.15 degC) = -263.15 degC !!!\n        // We must take the offset into consideration here\n        var convert = ret._numberConverter(); // convert to Fraction or BigNumber if needed\n        var unitValue = convert(ret.units[0].unit.value);\n        var nominalOffset = convert(ret.units[0].unit.offset);\n        var unitOffset = multiplyScalar(unitValue, nominalOffset);\n        ret.value = subtractScalar(abs(addScalar(ret.value, unitOffset)), unitOffset);\n      }\n    }\n    for (var i in ret.units) {\n      if (ret.units[i].unit.name === 'VA' || ret.units[i].unit.name === 'VAR') {\n        ret.units[i].unit = UNITS.W;\n      }\n    }\n    return ret;\n  };\n\n  /**\r\n   * Convert the unit to a specific unit name.\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   * @returns {Unit} Returns a clone of the unit with a fixed prefix and unit.\r\n   */\n  Unit.prototype.to = function (valuelessUnit) {\n    var value = this.value === null ? this._normalize(1) : this.value;\n    var other;\n    if (typeof valuelessUnit === 'string') {\n      other = Unit.parse(valuelessUnit);\n    } else if (isUnit(valuelessUnit)) {\n      other = valuelessUnit.clone();\n    } else {\n      throw new Error('String or Unit expected as parameter');\n    }\n    if (!this.equalBase(other)) {\n      throw new Error(\"Units do not match ('\".concat(other.toString(), \"' != '\").concat(this.toString(), \"')\"));\n    }\n    if (other.value !== null) {\n      throw new Error('Cannot convert to a unit with a value');\n    }\n    if (this.value === null || this._isDerived() || this.units.length === 0 || other.units.length === 0 || this.units[0].unit.offset === other.units[0].unit.offset) {\n      other.value = clone(value);\n    } else {\n      /* Need to adjust value by difference in offset to convert */\n      var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n      var thisUnitValue = this.units[0].unit.value;\n      var thisNominalOffset = this.units[0].unit.offset;\n      var thisUnitOffset = multiplyScalar(thisUnitValue, thisNominalOffset);\n      var otherUnitValue = other.units[0].unit.value;\n      var otherNominalOffset = other.units[0].unit.offset;\n      var otherUnitOffset = multiplyScalar(otherUnitValue, otherNominalOffset);\n      other.value = addScalar(value, convert(subtractScalar(thisUnitOffset, otherUnitOffset)));\n    }\n    other.fixPrefix = true;\n    other.skipAutomaticSimplification = true;\n    return other;\n  };\n\n  /**\r\n   * Return the value of the unit when represented with given valueless unit\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number} Returns the unit value as number.\r\n   */\n  // TODO: deprecate Unit.toNumber? It's always better to use toNumeric\n  Unit.prototype.toNumber = function (valuelessUnit) {\n    return toNumber(this.toNumeric(valuelessUnit));\n  };\n\n  /**\r\n   * Return the value of the unit in the original numeric type\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number | BigNumber | Fraction} Returns the unit value\r\n   */\n  Unit.prototype.toNumeric = function (valuelessUnit) {\n    var other;\n    if (valuelessUnit) {\n      // Allow getting the numeric value without converting to a different unit\n      other = this.to(valuelessUnit);\n    } else {\n      other = this.clone();\n    }\n    if (other._isDerived() || other.units.length === 0) {\n      return other._denormalize(other.value);\n    } else {\n      return other._denormalize(other.value, other.units[0].prefix.value);\n    }\n  };\n\n  /**\r\n   * Get a string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n  Unit.prototype.toString = function () {\n    return this.format();\n  };\n\n  /**\r\n   * Get a JSON representation of the unit\r\n   * @memberof Unit\r\n   * @returns {Object} Returns a JSON object structured as:\r\n   *                   `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false, \"skipSimp\": true}`\r\n   */\n  Unit.prototype.toJSON = function () {\n    return {\n      mathjs: 'Unit',\n      value: this._denormalize(this.value),\n      unit: this.units.length > 0 ? this.formatUnits() : null,\n      fixPrefix: this.fixPrefix,\n      skipSimp: this.skipAutomaticSimplification\n    };\n  };\n\n  /**\r\n   * Instantiate a Unit from a JSON object\r\n   * @memberof Unit\r\n   * @param {Object} json  A JSON object structured as:\r\n   *                       `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   * @return {Unit}\r\n   */\n  Unit.fromJSON = function (json) {\n    var _json$unit, _json$fixPrefix, _json$skipSimp;\n    var unit = new Unit(json.value, (_json$unit = json.unit) !== null && _json$unit !== void 0 ? _json$unit : undefined);\n    unit.fixPrefix = (_json$fixPrefix = json.fixPrefix) !== null && _json$fixPrefix !== void 0 ? _json$fixPrefix : fixPrefixDefault;\n    unit.skipAutomaticSimplification = (_json$skipSimp = json.skipSimp) !== null && _json$skipSimp !== void 0 ? _json$skipSimp : skipAutomaticSimplificationDefault;\n    return unit;\n  };\n\n  /**\r\n   * Returns the string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n  Unit.prototype.valueOf = Unit.prototype.toString;\n\n  /**\r\n   * Simplify this Unit's unit list and return a new Unit with the simplified list.\r\n   * The returned Unit will contain a list of the \"best\" units for formatting.\r\n   */\n  Unit.prototype.simplify = function () {\n    var ret = this.clone();\n    var proposedUnitList = [];\n\n    // Search for a matching base\n    var matchingBase;\n    for (var key in currentUnitSystem) {\n      if (hasOwnProperty(currentUnitSystem, key)) {\n        if (ret.hasBase(BASE_UNITS[key])) {\n          matchingBase = key;\n          break;\n        }\n      }\n    }\n    if (matchingBase === 'NONE') {\n      ret.units = [];\n    } else {\n      var matchingUnit;\n      if (matchingBase) {\n        // Does the unit system have a matching unit?\n        if (hasOwnProperty(currentUnitSystem, matchingBase)) {\n          matchingUnit = currentUnitSystem[matchingBase];\n        }\n      }\n      if (matchingUnit) {\n        ret.units = [{\n          unit: matchingUnit.unit,\n          prefix: matchingUnit.prefix,\n          power: 1.0\n        }];\n      } else {\n        // Multiple units or units with powers are formatted like this:\n        // 5 (kg m^2) / (s^3 mol)\n        // Build an representation from the base units of the current unit system\n        var missingBaseDim = false;\n        for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n          var baseDim = BASE_DIMENSIONS[i];\n          if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\n            if (hasOwnProperty(currentUnitSystem, baseDim)) {\n              proposedUnitList.push({\n                unit: currentUnitSystem[baseDim].unit,\n                prefix: currentUnitSystem[baseDim].prefix,\n                power: ret.dimensions[i] || 0\n              });\n            } else {\n              missingBaseDim = true;\n            }\n          }\n        }\n\n        // Is the proposed unit list \"simpler\" than the existing one?\n        if (proposedUnitList.length < ret.units.length && !missingBaseDim) {\n          // Replace this unit list with the proposed list\n          ret.units = proposedUnitList;\n        }\n      }\n    }\n    return ret;\n  };\n\n  /**\r\n   * Returns a new Unit in the SI system with the same value as this one\r\n   */\n  Unit.prototype.toSI = function () {\n    var ret = this.clone();\n    var proposedUnitList = [];\n\n    // Multiple units or units with powers are formatted like this:\n    // 5 (kg m^2) / (s^3 mol)\n    // Build an representation from the base units of the SI unit system\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      var baseDim = BASE_DIMENSIONS[i];\n      if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\n        if (hasOwnProperty(UNIT_SYSTEMS.si, baseDim)) {\n          proposedUnitList.push({\n            unit: UNIT_SYSTEMS.si[baseDim].unit,\n            prefix: UNIT_SYSTEMS.si[baseDim].prefix,\n            power: ret.dimensions[i] || 0\n          });\n        } else {\n          throw new Error('Cannot express custom unit ' + baseDim + ' in SI units');\n        }\n      }\n    }\n\n    // Replace this unit list with the proposed list\n    ret.units = proposedUnitList;\n    ret.fixPrefix = true;\n    ret.skipAutomaticSimplification = true;\n    if (this.value !== null) {\n      ret.value = null;\n      return this.to(ret);\n    }\n    return ret;\n  };\n\n  /**\r\n   * Get a string representation of the units of this Unit, without the value. The unit list is formatted as-is without first being simplified.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n  Unit.prototype.formatUnits = function () {\n    var strNum = '';\n    var strDen = '';\n    var nNum = 0;\n    var nDen = 0;\n    for (var i = 0; i < this.units.length; i++) {\n      if (this.units[i].power > 0) {\n        nNum++;\n        strNum += ' ' + this.units[i].prefix.name + this.units[i].unit.name;\n        if (Math.abs(this.units[i].power - 1.0) > 1e-15) {\n          strNum += '^' + this.units[i].power;\n        }\n      } else if (this.units[i].power < 0) {\n        nDen++;\n      }\n    }\n    if (nDen > 0) {\n      for (var _i4 = 0; _i4 < this.units.length; _i4++) {\n        if (this.units[_i4].power < 0) {\n          if (nNum > 0) {\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\n            if (Math.abs(this.units[_i4].power + 1.0) > 1e-15) {\n              strDen += '^' + -this.units[_i4].power;\n            }\n          } else {\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\n            strDen += '^' + this.units[_i4].power;\n          }\n        }\n      }\n    }\n    // Remove leading \" \"\n    strNum = strNum.substr(1);\n    strDen = strDen.substr(1);\n\n    // Add parans for better copy/paste back into evaluate, for example, or for better pretty print formatting\n    if (nNum > 1 && nDen > 0) {\n      strNum = '(' + strNum + ')';\n    }\n    if (nDen > 1 && nNum > 0) {\n      strDen = '(' + strDen + ')';\n    }\n    var str = strNum;\n    if (nNum > 0 && nDen > 0) {\n      str += ' / ';\n    }\n    str += strDen;\n    return str;\n  };\n\n  /**\r\n   * Get a unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {string[] | Unit[]} [units]  Array of units strings or valueLess Unit objects in wich choose the best one\r\n   * @param {Object} [options]  Options for parsing the unit. See parseUnit for details.\r\n   *\r\n   * @return {Unit} Returns a new Unit with the given value and unit.\r\n   */\n  Unit.prototype.toBest = function () {\n    var unitList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (unitList && !Array.isArray(unitList)) {\n      throw new Error('Invalid unit type. Expected string or Unit.');\n    }\n    var startPrefixes = this.units[0].unit.prefixes;\n    if (unitList && unitList.length > 0) {\n      var unitObjects = unitList.map(u => {\n        var unit = null;\n        if (typeof u === 'string') {\n          unit = Unit.parse(u);\n          if (!unit) {\n            throw new Error('Invalid unit type. Expected compatible string or Unit.');\n          }\n        } else if (!isUnit(u)) {\n          throw new Error('Invalid unit type. Expected compatible string or Unit.');\n        }\n        if (unit === null) {\n          unit = u.clone();\n        }\n        try {\n          this.to(unit.formatUnits());\n          return unit;\n        } catch (e) {\n          throw new Error('Invalid unit type. Expected compatible string or Unit.');\n        }\n      });\n      var prefixes = unitObjects.map(el => el.units[0].prefix);\n      this.units[0].unit.prefixes = prefixes.reduce((acc, prefix) => {\n        acc[prefix.name] = prefix;\n        return acc;\n      }, {});\n      this.units[0].prefix = prefixes[0];\n    }\n    var result = formatBest(this, options).simp;\n    this.units[0].unit.prefixes = startPrefixes;\n    result.fixPrefix = true;\n    return result;\n  };\n  /**\r\n   * Get a string representation of the Unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {Object | number | Function} [options]  Formatting options. See\r\n   *                                                lib/utils/number:format for a\r\n   *                                                description of the available\r\n   *                                                options.\r\n   * @return {string}\r\n   */\n  Unit.prototype.format = function (options) {\n    var {\n      simp,\n      valueStr,\n      unitStr\n    } = formatBest(this, options);\n    var str = valueStr;\n    if (simp.value && isComplex(simp.value)) {\n      str = '(' + str + ')'; // Surround complex values with ( ) to enable better parsing\n    }\n    if (unitStr.length > 0 && str.length > 0) {\n      str += ' ';\n    }\n    str += unitStr;\n    return str;\n  };\n\n  /**\r\n  * Helper function to normalize a unit for conversion and formatting\r\n  * @param {Unit} unit The unit to be normalized\r\n  * @return {Object} Object with normalized unit and value\r\n  * @private\r\n  */\n  function formatBest(unit) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // Simplfy the unit list, unless it is valueless or was created directly in the\n    // constructor or as the result of to or toSI\n    var simp = unit.skipAutomaticSimplification || unit.value === null ? unit.clone() : unit.simplify();\n\n    // Apply some custom logic for handling VA and VAR. The goal is to express the value of the unit as a real value, if possible. Otherwise, use a real-valued unit instead of a complex-valued one.\n    handleVAandVARUnits(simp);\n    // Now apply the best prefix\n    // Units must have only one unit and not have the fixPrefix flag set\n    applyBestPrefixIfNeeded(simp, options.offset);\n    var value = simp._denormalize(simp.value);\n    var valueStr = simp.value !== null ? format(value, options || {}) : '';\n    var unitStr = simp.formatUnits();\n    return {\n      simp,\n      valueStr,\n      unitStr\n    };\n  }\n\n  /**\r\n   * Helper to handle VA and VAR units\r\n   * @param {Unit} simp The unit to be normalized\r\n   */\n  function handleVAandVARUnits(simp) {\n    var isImaginary = false;\n    if (typeof simp.value !== 'undefined' && simp.value !== null && isComplex(simp.value)) {\n      // TODO: Make this better, for example, use relative magnitude of re and im rather than absolute\n      isImaginary = Math.abs(simp.value.re) < 1e-14;\n    }\n    for (var i in simp.units) {\n      if (hasOwnProperty(simp.units, i)) {\n        if (simp.units[i].unit) {\n          if (simp.units[i].unit.name === 'VA' && isImaginary) {\n            simp.units[i].unit = UNITS.VAR;\n          } else if (simp.units[i].unit.name === 'VAR' && !isImaginary) {\n            simp.units[i].unit = UNITS.VA;\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Helper to apply the best prefix if needed\r\n   * @param {Unit} simp The unit to be normalized\r\n   */\n  function applyBestPrefixIfNeeded(simp, offset) {\n    if (simp.units.length === 1 && !simp.fixPrefix) {\n      // Units must have integer powers, otherwise the prefix will change the\n      // outputted value by not-an-integer-power-of-ten\n      if (Math.abs(simp.units[0].power - Math.round(simp.units[0].power)) < 1e-14) {\n        // Apply the best prefix\n        simp.units[0].prefix = simp._bestPrefix(offset);\n      }\n    }\n  }\n\n  /**\r\n   * Calculate the best prefix using current value.\r\n   * @memberof Unit\r\n   * @returns {Object} prefix\r\n   * @param {number} [offset]  Optional offset for the best prefix calculation (default 1.2)\r\n   * @private\r\n   */\n  Unit.prototype._bestPrefix = function () {\n    var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.2;\n    if (this.units.length !== 1) {\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\n    }\n    if (Math.abs(this.units[0].power - Math.round(this.units[0].power)) >= 1e-14) {\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\n    }\n\n    // find the best prefix value (resulting in the value of which\n    // the absolute value of the log10 is closest to zero,\n    // though with a little offset of 1.2 for nicer values: you get a\n    // sequence 1mm 100mm 500mm 0.6m 1m 10m 100m 500m 0.6km 1km ...\n\n    // Note: the units value can be any numeric type, but to find the best\n    // prefix it's enough to work with limited precision of a regular number\n    // Update: using mathjs abs since we also allow complex numbers\n    var absValue = this.value !== null ? abs(this.value) : 0;\n    var absUnitValue = abs(this.units[0].unit.value);\n    var bestPrefix = this.units[0].prefix;\n    if (absValue === 0) {\n      return bestPrefix;\n    }\n    var power = this.units[0].power;\n    var bestDiff = Math.log(absValue / Math.pow(bestPrefix.value * absUnitValue, power)) / Math.LN10 - offset;\n    if (bestDiff > -2.200001 && bestDiff < 1.800001) return bestPrefix; // Allow the original prefix\n    bestDiff = Math.abs(bestDiff);\n    var prefixes = this.units[0].unit.prefixes;\n    for (var p in prefixes) {\n      if (hasOwnProperty(prefixes, p)) {\n        var prefix = prefixes[p];\n        if (prefix.scientific) {\n          var diff = Math.abs(Math.log(absValue / Math.pow(prefix.value * absUnitValue, power)) / Math.LN10 - offset);\n          if (diff < bestDiff || diff === bestDiff && prefix.name.length < bestPrefix.name.length) {\n            // choose the prefix with the smallest diff, or if equal, choose the one\n            // with the shortest name (can happen with SHORTLONG for example)\n            bestPrefix = prefix;\n            bestDiff = diff;\n          }\n        }\n      }\n    }\n    return bestPrefix;\n  };\n\n  /**\r\n   * Returns an array of units whose sum is equal to this unit\r\n   * @memberof Unit\r\n   * @param {Array} [parts] An array of strings or valueless units.\r\n   *\r\n   *   Example:\r\n   *\r\n   *   const u = new Unit(1, 'm')\r\n   *   u.splitUnit(['feet', 'inch'])\r\n   *     [ 3 feet, 3.3700787401575 inch ]\r\n   *\r\n   * @return {Array} An array of units.\r\n   */\n  Unit.prototype.splitUnit = function (parts) {\n    var x = this.clone();\n    var ret = [];\n    for (var i = 0; i < parts.length; i++) {\n      // Convert x to the requested unit\n      x = x.to(parts[i]);\n      if (i === parts.length - 1) break;\n\n      // Get the numeric value of this unit\n      var xNumeric = x.toNumeric();\n\n      // Check to see if xNumeric is nearly equal to an integer,\n      // since fix can incorrectly round down if there is round-off error\n      var xRounded = round(xNumeric);\n      var xFixed = void 0;\n      var isNearlyEqual = equal(xRounded, xNumeric);\n      if (isNearlyEqual) {\n        xFixed = xRounded;\n      } else {\n        xFixed = fix(x.toNumeric());\n      }\n      var y = new Unit(xFixed, parts[i].toString());\n      ret.push(y);\n      x = subtractScalar(x, y);\n    }\n\n    // This little bit fixes a bug where the remainder should be 0 but is a little bit off.\n    // But instead of comparing x, the remainder, with zero--we will compare the sum of\n    // all the parts so far with the original value. If they are nearly equal,\n    // we set the remainder to 0.\n    var testSum = 0;\n    for (var _i5 = 0; _i5 < ret.length; _i5++) {\n      testSum = addScalar(testSum, ret[_i5].value);\n    }\n    if (equal(testSum, this.value)) {\n      x.value = 0;\n    }\n    ret.push(x);\n    return ret;\n  };\n  var PREFIXES = {\n    NONE: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      }\n    },\n    SHORT: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e1,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e2,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e3,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e6,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e9,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e12,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e15,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e18,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e21,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e24,\n        scientific: true\n      },\n      R: {\n        name: 'R',\n        value: 1e27,\n        scientific: true\n      },\n      Q: {\n        name: 'Q',\n        value: 1e30,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-1,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-2,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-3,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-6,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-9,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-12,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-15,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-18,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-21,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-24,\n        scientific: true\n      },\n      r: {\n        name: 'r',\n        value: 1e-27,\n        scientific: true\n      },\n      q: {\n        name: 'q',\n        value: 1e-30,\n        scientific: true\n      }\n    },\n    LONG: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      deca: {\n        name: 'deca',\n        value: 1e1,\n        scientific: false\n      },\n      hecto: {\n        name: 'hecto',\n        value: 1e2,\n        scientific: false\n      },\n      kilo: {\n        name: 'kilo',\n        value: 1e3,\n        scientific: true\n      },\n      mega: {\n        name: 'mega',\n        value: 1e6,\n        scientific: true\n      },\n      giga: {\n        name: 'giga',\n        value: 1e9,\n        scientific: true\n      },\n      tera: {\n        name: 'tera',\n        value: 1e12,\n        scientific: true\n      },\n      peta: {\n        name: 'peta',\n        value: 1e15,\n        scientific: true\n      },\n      exa: {\n        name: 'exa',\n        value: 1e18,\n        scientific: true\n      },\n      zetta: {\n        name: 'zetta',\n        value: 1e21,\n        scientific: true\n      },\n      yotta: {\n        name: 'yotta',\n        value: 1e24,\n        scientific: true\n      },\n      ronna: {\n        name: 'ronna',\n        value: 1e27,\n        scientific: true\n      },\n      quetta: {\n        name: 'quetta',\n        value: 1e30,\n        scientific: true\n      },\n      deci: {\n        name: 'deci',\n        value: 1e-1,\n        scientific: false\n      },\n      centi: {\n        name: 'centi',\n        value: 1e-2,\n        scientific: false\n      },\n      milli: {\n        name: 'milli',\n        value: 1e-3,\n        scientific: true\n      },\n      micro: {\n        name: 'micro',\n        value: 1e-6,\n        scientific: true\n      },\n      nano: {\n        name: 'nano',\n        value: 1e-9,\n        scientific: true\n      },\n      pico: {\n        name: 'pico',\n        value: 1e-12,\n        scientific: true\n      },\n      femto: {\n        name: 'femto',\n        value: 1e-15,\n        scientific: true\n      },\n      atto: {\n        name: 'atto',\n        value: 1e-18,\n        scientific: true\n      },\n      zepto: {\n        name: 'zepto',\n        value: 1e-21,\n        scientific: true\n      },\n      yocto: {\n        name: 'yocto',\n        value: 1e-24,\n        scientific: true\n      },\n      ronto: {\n        name: 'ronto',\n        value: 1e-27,\n        scientific: true\n      },\n      quecto: {\n        name: 'quecto',\n        value: 1e-30,\n        scientific: true\n      }\n    },\n    SQUARED: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e2,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e4,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e6,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e12,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e18,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e24,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e30,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e36,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e42,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e48,\n        scientific: true\n      },\n      R: {\n        name: 'R',\n        value: 1e54,\n        scientific: true\n      },\n      Q: {\n        name: 'Q',\n        value: 1e60,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-2,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-4,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-6,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-12,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-18,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-24,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-30,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-36,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-42,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-48,\n        scientific: true\n      },\n      r: {\n        name: 'r',\n        value: 1e-54,\n        scientific: true\n      },\n      q: {\n        name: 'q',\n        value: 1e-60,\n        scientific: true\n      }\n    },\n    CUBIC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e3,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e6,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e9,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e18,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e27,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e36,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e45,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e54,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e63,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e72,\n        scientific: true\n      },\n      R: {\n        name: 'R',\n        value: 1e81,\n        scientific: true\n      },\n      Q: {\n        name: 'Q',\n        value: 1e90,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-3,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-6,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-9,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-18,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-27,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-36,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-45,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-54,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-63,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-72,\n        scientific: true\n      },\n      r: {\n        name: 'r',\n        value: 1e-81,\n        scientific: true\n      },\n      q: {\n        name: 'q',\n        value: 1e-90,\n        scientific: true\n      }\n    },\n    BINARY_SHORT_SI: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      k: {\n        name: 'k',\n        value: 1e3,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e6,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e9,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e12,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e15,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e18,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e21,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e24,\n        scientific: true\n      }\n    },\n    BINARY_SHORT_IEC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      Ki: {\n        name: 'Ki',\n        value: 1024,\n        scientific: true\n      },\n      Mi: {\n        name: 'Mi',\n        value: Math.pow(1024, 2),\n        scientific: true\n      },\n      Gi: {\n        name: 'Gi',\n        value: Math.pow(1024, 3),\n        scientific: true\n      },\n      Ti: {\n        name: 'Ti',\n        value: Math.pow(1024, 4),\n        scientific: true\n      },\n      Pi: {\n        name: 'Pi',\n        value: Math.pow(1024, 5),\n        scientific: true\n      },\n      Ei: {\n        name: 'Ei',\n        value: Math.pow(1024, 6),\n        scientific: true\n      },\n      Zi: {\n        name: 'Zi',\n        value: Math.pow(1024, 7),\n        scientific: true\n      },\n      Yi: {\n        name: 'Yi',\n        value: Math.pow(1024, 8),\n        scientific: true\n      }\n    },\n    BINARY_LONG_SI: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      kilo: {\n        name: 'kilo',\n        value: 1e3,\n        scientific: true\n      },\n      mega: {\n        name: 'mega',\n        value: 1e6,\n        scientific: true\n      },\n      giga: {\n        name: 'giga',\n        value: 1e9,\n        scientific: true\n      },\n      tera: {\n        name: 'tera',\n        value: 1e12,\n        scientific: true\n      },\n      peta: {\n        name: 'peta',\n        value: 1e15,\n        scientific: true\n      },\n      exa: {\n        name: 'exa',\n        value: 1e18,\n        scientific: true\n      },\n      zetta: {\n        name: 'zetta',\n        value: 1e21,\n        scientific: true\n      },\n      yotta: {\n        name: 'yotta',\n        value: 1e24,\n        scientific: true\n      }\n    },\n    BINARY_LONG_IEC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      kibi: {\n        name: 'kibi',\n        value: 1024,\n        scientific: true\n      },\n      mebi: {\n        name: 'mebi',\n        value: Math.pow(1024, 2),\n        scientific: true\n      },\n      gibi: {\n        name: 'gibi',\n        value: Math.pow(1024, 3),\n        scientific: true\n      },\n      tebi: {\n        name: 'tebi',\n        value: Math.pow(1024, 4),\n        scientific: true\n      },\n      pebi: {\n        name: 'pebi',\n        value: Math.pow(1024, 5),\n        scientific: true\n      },\n      exi: {\n        name: 'exi',\n        value: Math.pow(1024, 6),\n        scientific: true\n      },\n      zebi: {\n        name: 'zebi',\n        value: Math.pow(1024, 7),\n        scientific: true\n      },\n      yobi: {\n        name: 'yobi',\n        value: Math.pow(1024, 8),\n        scientific: true\n      }\n    },\n    BTU: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      MM: {\n        name: 'MM',\n        value: 1e6,\n        scientific: true\n      }\n    }\n  };\n  PREFIXES.SHORTLONG = _extends({}, PREFIXES.SHORT, PREFIXES.LONG);\n  PREFIXES.BINARY_SHORT = _extends({}, PREFIXES.BINARY_SHORT_SI, PREFIXES.BINARY_SHORT_IEC);\n  PREFIXES.BINARY_LONG = _extends({}, PREFIXES.BINARY_LONG_SI, PREFIXES.BINARY_LONG_IEC);\n\n  /* Internally, each unit is represented by a value and a dimension array. The elements of the dimensions array have the following meaning:\r\n   * Index  Dimension\r\n   * -----  ---------\r\n   *   0    Length\r\n   *   1    Mass\r\n   *   2    Time\r\n   *   3    Current\r\n   *   4    Temperature\r\n   *   5    Luminous intensity\r\n   *   6    Amount of substance\r\n   *   7    Angle\r\n   *   8    Bit (digital)\r\n   * For example, the unit \"298.15 K\" is a pure temperature and would have a value of 298.15 and a dimension array of [0, 0, 0, 0, 1, 0, 0, 0, 0]. The unit \"1 cal / (gm C)\" can be written in terms of the 9 fundamental dimensions as [length^2] / ([time^2] * [temperature]), and would a value of (after conversion to SI) 4184.0 and a dimensions array of [2, 0, -2, 0, -1, 0, 0, 0, 0].\r\n   *\r\n   */\n\n  var BASE_DIMENSIONS = ['MASS', 'LENGTH', 'TIME', 'CURRENT', 'TEMPERATURE', 'LUMINOUS_INTENSITY', 'AMOUNT_OF_SUBSTANCE', 'ANGLE', 'BIT'];\n  var BASE_UNITS = {\n    NONE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    MASS: {\n      dimensions: [1, 0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    LENGTH: {\n      dimensions: [0, 1, 0, 0, 0, 0, 0, 0, 0]\n    },\n    TIME: {\n      dimensions: [0, 0, 1, 0, 0, 0, 0, 0, 0]\n    },\n    CURRENT: {\n      dimensions: [0, 0, 0, 1, 0, 0, 0, 0, 0]\n    },\n    TEMPERATURE: {\n      dimensions: [0, 0, 0, 0, 1, 0, 0, 0, 0]\n    },\n    LUMINOUS_INTENSITY: {\n      dimensions: [0, 0, 0, 0, 0, 1, 0, 0, 0]\n    },\n    AMOUNT_OF_SUBSTANCE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 1, 0, 0]\n    },\n    FORCE: {\n      dimensions: [1, 1, -2, 0, 0, 0, 0, 0, 0]\n    },\n    SURFACE: {\n      dimensions: [0, 2, 0, 0, 0, 0, 0, 0, 0]\n    },\n    VOLUME: {\n      dimensions: [0, 3, 0, 0, 0, 0, 0, 0, 0]\n    },\n    ENERGY: {\n      dimensions: [1, 2, -2, 0, 0, 0, 0, 0, 0]\n    },\n    POWER: {\n      dimensions: [1, 2, -3, 0, 0, 0, 0, 0, 0]\n    },\n    PRESSURE: {\n      dimensions: [1, -1, -2, 0, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CHARGE: {\n      dimensions: [0, 0, 1, 1, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CAPACITANCE: {\n      dimensions: [-1, -2, 4, 2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_POTENTIAL: {\n      dimensions: [1, 2, -3, -1, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_RESISTANCE: {\n      dimensions: [1, 2, -3, -2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_INDUCTANCE: {\n      dimensions: [1, 2, -2, -2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CONDUCTANCE: {\n      dimensions: [-1, -2, 3, 2, 0, 0, 0, 0, 0]\n    },\n    MAGNETIC_FLUX: {\n      dimensions: [1, 2, -2, -1, 0, 0, 0, 0, 0]\n    },\n    MAGNETIC_FLUX_DENSITY: {\n      dimensions: [1, 0, -2, -1, 0, 0, 0, 0, 0]\n    },\n    FREQUENCY: {\n      dimensions: [0, 0, -1, 0, 0, 0, 0, 0, 0]\n    },\n    ANGLE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 1, 0]\n    },\n    BIT: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 1]\n    }\n  };\n  for (var key in BASE_UNITS) {\n    if (hasOwnProperty(BASE_UNITS, key)) {\n      BASE_UNITS[key].key = key;\n    }\n  }\n  var BASE_UNIT_NONE = {};\n  var UNIT_NONE = {\n    name: '',\n    base: BASE_UNIT_NONE,\n    value: 1,\n    offset: 0,\n    dimensions: BASE_DIMENSIONS.map(x => 0)\n  };\n  var UNITS = {\n    // length\n    meter: {\n      name: 'meter',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    inch: {\n      name: 'inch',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0254,\n      offset: 0\n    },\n    foot: {\n      name: 'foot',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.3048,\n      offset: 0\n    },\n    yard: {\n      name: 'yard',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.9144,\n      offset: 0\n    },\n    mile: {\n      name: 'mile',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1609.344,\n      offset: 0\n    },\n    link: {\n      name: 'link',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.201168,\n      offset: 0\n    },\n    rod: {\n      name: 'rod',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 5.0292,\n      offset: 0\n    },\n    chain: {\n      name: 'chain',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 20.1168,\n      offset: 0\n    },\n    angstrom: {\n      name: 'angstrom',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1e-10,\n      offset: 0\n    },\n    m: {\n      name: 'm',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    in: {\n      name: 'in',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0254,\n      offset: 0\n    },\n    ft: {\n      name: 'ft',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.3048,\n      offset: 0\n    },\n    yd: {\n      name: 'yd',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.9144,\n      offset: 0\n    },\n    mi: {\n      name: 'mi',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1609.344,\n      offset: 0\n    },\n    li: {\n      name: 'li',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.201168,\n      offset: 0\n    },\n    rd: {\n      name: 'rd',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 5.029210,\n      offset: 0\n    },\n    ch: {\n      name: 'ch',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 20.1168,\n      offset: 0\n    },\n    mil: {\n      name: 'mil',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000254,\n      offset: 0\n    },\n    // 1/1000 inch\n\n    // Surface\n    m2: {\n      name: 'm2',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.SQUARED,\n      value: 1,\n      offset: 0\n    },\n    sqin: {\n      name: 'sqin',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.00064516,\n      offset: 0\n    },\n    // 645.16 mm2\n    sqft: {\n      name: 'sqft',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.09290304,\n      offset: 0\n    },\n    // 0.09290304 m2\n    sqyd: {\n      name: 'sqyd',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.83612736,\n      offset: 0\n    },\n    // 0.83612736 m2\n    sqmi: {\n      name: 'sqmi',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 2589988.110336,\n      offset: 0\n    },\n    // 2.589988110336 km2\n    sqrd: {\n      name: 'sqrd',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 25.29295,\n      offset: 0\n    },\n    // 25.29295 m2\n    sqch: {\n      name: 'sqch',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 404.6873,\n      offset: 0\n    },\n    // 404.6873 m2\n    sqmil: {\n      name: 'sqmil',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 6.4516e-10,\n      offset: 0\n    },\n    // 6.4516 * 10^-10 m2\n    acre: {\n      name: 'acre',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 4046.86,\n      offset: 0\n    },\n    // 4046.86 m2\n    hectare: {\n      name: 'hectare',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 10000,\n      offset: 0\n    },\n    // 10000 m2\n\n    // Volume\n    m3: {\n      name: 'm3',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.CUBIC,\n      value: 1,\n      offset: 0\n    },\n    L: {\n      name: 'L',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    // litre\n    l: {\n      name: 'l',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    // litre\n    litre: {\n      name: 'litre',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.LONG,\n      value: 0.001,\n      offset: 0\n    },\n    cuin: {\n      name: 'cuin',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 1.6387064e-5,\n      offset: 0\n    },\n    // 1.6387064e-5 m3\n    cuft: {\n      name: 'cuft',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.028316846592,\n      offset: 0\n    },\n    // 28.316 846 592 L\n    cuyd: {\n      name: 'cuyd',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.764554857984,\n      offset: 0\n    },\n    // 764.554 857 984 L\n    teaspoon: {\n      name: 'teaspoon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000005,\n      offset: 0\n    },\n    // 5 mL\n    tablespoon: {\n      name: 'tablespoon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000015,\n      offset: 0\n    },\n    // 15 mL\n    // {name: 'cup', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.000240, offset: 0}, // 240 mL  // not possible, we have already another cup\n    drop: {\n      name: 'drop',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 5e-8,\n      offset: 0\n    },\n    // 0.05 mL = 5e-8 m3\n    gtt: {\n      name: 'gtt',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 5e-8,\n      offset: 0\n    },\n    // 0.05 mL = 5e-8 m3\n\n    // Liquid volume\n    minim: {\n      name: 'minim',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000000061611519921875,\n      offset: 0\n    },\n    // 1/61440 gallons\n    fluiddram: {\n      name: 'fluiddram',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000036966911953125,\n      offset: 0\n    },\n    // 1/1024 gallons\n    fluidounce: {\n      name: 'fluidounce',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000295735295625,\n      offset: 0\n    },\n    // 1/128 gallons\n    gill: {\n      name: 'gill',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.00011829411825,\n      offset: 0\n    },\n    // 1/32 gallons\n    cc: {\n      name: 'cc',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 1e-6,\n      offset: 0\n    },\n    // 1e-6 L\n    cup: {\n      name: 'cup',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0002365882365,\n      offset: 0\n    },\n    // 1/16 gallons\n    pint: {\n      name: 'pint',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000473176473,\n      offset: 0\n    },\n    // 1/8 gallons\n    quart: {\n      name: 'quart',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000946352946,\n      offset: 0\n    },\n    // 1/4 gallons\n    gallon: {\n      name: 'gallon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.003785411784,\n      offset: 0\n    },\n    // 3.785411784 L\n    beerbarrel: {\n      name: 'beerbarrel',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.117347765304,\n      offset: 0\n    },\n    // 31 gallons\n    oilbarrel: {\n      name: 'oilbarrel',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.158987294928,\n      offset: 0\n    },\n    // 42 gallons\n    hogshead: {\n      name: 'hogshead',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.238480942392,\n      offset: 0\n    },\n    // 63 gallons\n\n    // Mass\n    g: {\n      name: 'g',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    gram: {\n      name: 'gram',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.LONG,\n      value: 0.001,\n      offset: 0\n    },\n    ton: {\n      name: 'ton',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 907.18474,\n      offset: 0\n    },\n    t: {\n      name: 't',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 1000,\n      offset: 0\n    },\n    tonne: {\n      name: 'tonne',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.LONG,\n      value: 1000,\n      offset: 0\n    },\n    grain: {\n      name: 'grain',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 64.79891e-6,\n      offset: 0\n    },\n    dram: {\n      name: 'dram',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 1.7718451953125e-3,\n      offset: 0\n    },\n    ounce: {\n      name: 'ounce',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 28.349523125e-3,\n      offset: 0\n    },\n    poundmass: {\n      name: 'poundmass',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 453.59237e-3,\n      offset: 0\n    },\n    hundredweight: {\n      name: 'hundredweight',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 45.359237,\n      offset: 0\n    },\n    stick: {\n      name: 'stick',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 115e-3,\n      offset: 0\n    },\n    stone: {\n      name: 'stone',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 6.35029318,\n      offset: 0\n    },\n    gr: {\n      name: 'gr',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 64.79891e-6,\n      offset: 0\n    },\n    dr: {\n      name: 'dr',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 1.7718451953125e-3,\n      offset: 0\n    },\n    oz: {\n      name: 'oz',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 28.349523125e-3,\n      offset: 0\n    },\n    lbm: {\n      name: 'lbm',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 453.59237e-3,\n      offset: 0\n    },\n    cwt: {\n      name: 'cwt',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 45.359237,\n      offset: 0\n    },\n    // Time\n    s: {\n      name: 's',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    min: {\n      name: 'min',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 60,\n      offset: 0\n    },\n    h: {\n      name: 'h',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3600,\n      offset: 0\n    },\n    second: {\n      name: 'second',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    sec: {\n      name: 'sec',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    minute: {\n      name: 'minute',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 60,\n      offset: 0\n    },\n    hour: {\n      name: 'hour',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3600,\n      offset: 0\n    },\n    day: {\n      name: 'day',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 86400,\n      offset: 0\n    },\n    week: {\n      name: 'week',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 7 * 86400,\n      offset: 0\n    },\n    month: {\n      name: 'month',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 2629800,\n      // 1/12th of Julian year\n      offset: 0\n    },\n    year: {\n      name: 'year',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 31557600,\n      // Julian year\n      offset: 0\n    },\n    decade: {\n      name: 'decade',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 315576000,\n      // Julian decade\n      offset: 0\n    },\n    century: {\n      name: 'century',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3155760000,\n      // Julian century\n      offset: 0\n    },\n    millennium: {\n      name: 'millennium',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 31557600000,\n      // Julian millennium\n      offset: 0\n    },\n    // Frequency\n    hertz: {\n      name: 'Hertz',\n      base: BASE_UNITS.FREQUENCY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0,\n      reciprocal: true\n    },\n    Hz: {\n      name: 'Hz',\n      base: BASE_UNITS.FREQUENCY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0,\n      reciprocal: true\n    },\n    // Angle\n    rad: {\n      name: 'rad',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    radian: {\n      name: 'radian',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // deg = rad / (2*pi) * 360 = rad / 0.017453292519943295769236907684888\n    deg: {\n      name: 'deg',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    degree: {\n      name: 'degree',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // grad = rad / (2*pi) * 400  = rad / 0.015707963267948966192313216916399\n    grad: {\n      name: 'grad',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    gradian: {\n      name: 'gradian',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // cycle = rad / (2*pi) = rad / 6.2831853071795864769252867665793\n    cycle: {\n      name: 'cycle',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // arcsec = rad / (3600 * (360 / 2 * pi)) = rad / 0.0000048481368110953599358991410235795\n    arcsec: {\n      name: 'arcsec',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // arcmin = rad / (60 * (360 / 2 * pi)) = rad / 0.00029088820866572159615394846141477\n    arcmin: {\n      name: 'arcmin',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // Electric current\n    A: {\n      name: 'A',\n      base: BASE_UNITS.CURRENT,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    ampere: {\n      name: 'ampere',\n      base: BASE_UNITS.CURRENT,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // Temperature\n    // K(C) = C + 273.15\n    // K(F) = (F + 459.67) * (5 / 9)\n    // K(R) = R * (5 / 9)\n    K: {\n      name: 'K',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    degC: {\n      name: 'degC',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 273.15\n    },\n    degF: {\n      name: 'degF',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.SHORT,\n      value: new _Fraction(5, 9),\n      offset: 459.67\n    },\n    degR: {\n      name: 'degR',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.SHORT,\n      value: new _Fraction(5, 9),\n      offset: 0\n    },\n    kelvin: {\n      name: 'kelvin',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    celsius: {\n      name: 'celsius',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 273.15\n    },\n    fahrenheit: {\n      name: 'fahrenheit',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.LONG,\n      value: new _Fraction(5, 9),\n      offset: 459.67\n    },\n    rankine: {\n      name: 'rankine',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.LONG,\n      value: new _Fraction(5, 9),\n      offset: 0\n    },\n    // amount of substance\n    mol: {\n      name: 'mol',\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    mole: {\n      name: 'mole',\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // luminous intensity\n    cd: {\n      name: 'cd',\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    candela: {\n      name: 'candela',\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // TODO: units STERADIAN\n    // {name: 'sr', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\n    // {name: 'steradian', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\n\n    // Force\n    N: {\n      name: 'N',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    newton: {\n      name: 'newton',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    dyn: {\n      name: 'dyn',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.SHORT,\n      value: 0.00001,\n      offset: 0\n    },\n    dyne: {\n      name: 'dyne',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 0.00001,\n      offset: 0\n    },\n    lbf: {\n      name: 'lbf',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 4.4482216152605,\n      offset: 0\n    },\n    poundforce: {\n      name: 'poundforce',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 4.4482216152605,\n      offset: 0\n    },\n    kip: {\n      name: 'kip',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 4448.2216,\n      offset: 0\n    },\n    kilogramforce: {\n      name: 'kilogramforce',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 9.80665,\n      offset: 0\n    },\n    // Energy\n    J: {\n      name: 'J',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    joule: {\n      name: 'joule',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    erg: {\n      name: 'erg',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORTLONG,\n      // Both kiloerg and kerg are acceptable\n      value: 1e-7,\n      offset: 0\n    },\n    Wh: {\n      name: 'Wh',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 3600,\n      offset: 0\n    },\n    BTU: {\n      name: 'BTU',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.BTU,\n      value: 1055.05585262,\n      offset: 0\n    },\n    eV: {\n      name: 'eV',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 1.602176565e-19,\n      offset: 0\n    },\n    electronvolt: {\n      name: 'electronvolt',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.LONG,\n      value: 1.602176565e-19,\n      offset: 0\n    },\n    // Power\n    W: {\n      name: 'W',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    watt: {\n      name: 'watt',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    hp: {\n      name: 'hp',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.NONE,\n      value: 745.6998715386,\n      offset: 0\n    },\n    // Electrical power units\n    VAR: {\n      name: 'VAR',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: Complex.I,\n      offset: 0\n    },\n    VA: {\n      name: 'VA',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Pressure\n    Pa: {\n      name: 'Pa',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    psi: {\n      name: 'psi',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 6894.75729276459,\n      offset: 0\n    },\n    atm: {\n      name: 'atm',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 101325,\n      offset: 0\n    },\n    bar: {\n      name: 'bar',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.SHORTLONG,\n      value: 100000,\n      offset: 0\n    },\n    torr: {\n      name: 'torr',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 133.322,\n      offset: 0\n    },\n    mmHg: {\n      name: 'mmHg',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 133.322,\n      offset: 0\n    },\n    mmH2O: {\n      name: 'mmH2O',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 9.80665,\n      offset: 0\n    },\n    cmH2O: {\n      name: 'cmH2O',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 98.0665,\n      offset: 0\n    },\n    // Electric charge\n    coulomb: {\n      name: 'coulomb',\n      base: BASE_UNITS.ELECTRIC_CHARGE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    C: {\n      name: 'C',\n      base: BASE_UNITS.ELECTRIC_CHARGE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric capacitance\n    farad: {\n      name: 'farad',\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    F: {\n      name: 'F',\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric potential\n    volt: {\n      name: 'volt',\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    V: {\n      name: 'V',\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric resistance\n    ohm: {\n      name: 'ohm',\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\n      prefixes: PREFIXES.SHORTLONG,\n      // Both Mohm and megaohm are acceptable\n      value: 1,\n      offset: 0\n    },\n    /*\r\n     * Unicode breaks in browsers if charset is not specified\r\n    : {\r\n      name: '',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    */\n    // Electric inductance\n    henry: {\n      name: 'henry',\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    H: {\n      name: 'H',\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric conductance\n    siemens: {\n      name: 'siemens',\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    S: {\n      name: 'S',\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Magnetic flux\n    weber: {\n      name: 'weber',\n      base: BASE_UNITS.MAGNETIC_FLUX,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    Wb: {\n      name: 'Wb',\n      base: BASE_UNITS.MAGNETIC_FLUX,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Magnetic flux density\n    tesla: {\n      name: 'tesla',\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    T: {\n      name: 'T',\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Binary\n    b: {\n      name: 'b',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_SHORT,\n      value: 1,\n      offset: 0\n    },\n    bits: {\n      name: 'bits',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_LONG,\n      value: 1,\n      offset: 0\n    },\n    B: {\n      name: 'B',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_SHORT,\n      value: 8,\n      offset: 0\n    },\n    bytes: {\n      name: 'bytes',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_LONG,\n      value: 8,\n      offset: 0\n    }\n  };\n\n  // aliases (formerly plurals)\n  // note that ALIASES is only used at creation to create more entries in UNITS by copying the aliased units\n  var ALIASES = {\n    meters: 'meter',\n    inches: 'inch',\n    feet: 'foot',\n    yards: 'yard',\n    miles: 'mile',\n    links: 'link',\n    rods: 'rod',\n    chains: 'chain',\n    angstroms: 'angstrom',\n    lt: 'l',\n    litres: 'litre',\n    liter: 'litre',\n    liters: 'litre',\n    teaspoons: 'teaspoon',\n    tablespoons: 'tablespoon',\n    minims: 'minim',\n    fldr: 'fluiddram',\n    fluiddrams: 'fluiddram',\n    floz: 'fluidounce',\n    fluidounces: 'fluidounce',\n    gi: 'gill',\n    gills: 'gill',\n    cp: 'cup',\n    cups: 'cup',\n    pt: 'pint',\n    pints: 'pint',\n    qt: 'quart',\n    quarts: 'quart',\n    gal: 'gallon',\n    gallons: 'gallon',\n    bbl: 'beerbarrel',\n    beerbarrels: 'beerbarrel',\n    obl: 'oilbarrel',\n    oilbarrels: 'oilbarrel',\n    hogsheads: 'hogshead',\n    gtts: 'gtt',\n    grams: 'gram',\n    tons: 'ton',\n    tonnes: 'tonne',\n    grains: 'grain',\n    drams: 'dram',\n    ounces: 'ounce',\n    poundmasses: 'poundmass',\n    hundredweights: 'hundredweight',\n    sticks: 'stick',\n    lb: 'lbm',\n    lbs: 'lbm',\n    kips: 'kip',\n    kgf: 'kilogramforce',\n    acres: 'acre',\n    hectares: 'hectare',\n    sqfeet: 'sqft',\n    sqyard: 'sqyd',\n    sqmile: 'sqmi',\n    sqmiles: 'sqmi',\n    mmhg: 'mmHg',\n    mmh2o: 'mmH2O',\n    cmh2o: 'cmH2O',\n    seconds: 'second',\n    secs: 'second',\n    minutes: 'minute',\n    mins: 'minute',\n    hours: 'hour',\n    hr: 'hour',\n    hrs: 'hour',\n    days: 'day',\n    weeks: 'week',\n    months: 'month',\n    years: 'year',\n    decades: 'decade',\n    centuries: 'century',\n    millennia: 'millennium',\n    hertz: 'hertz',\n    radians: 'radian',\n    degrees: 'degree',\n    gradians: 'gradian',\n    cycles: 'cycle',\n    arcsecond: 'arcsec',\n    arcseconds: 'arcsec',\n    arcminute: 'arcmin',\n    arcminutes: 'arcmin',\n    BTUs: 'BTU',\n    watts: 'watt',\n    joules: 'joule',\n    amperes: 'ampere',\n    amps: 'ampere',\n    amp: 'ampere',\n    coulombs: 'coulomb',\n    volts: 'volt',\n    ohms: 'ohm',\n    farads: 'farad',\n    webers: 'weber',\n    teslas: 'tesla',\n    electronvolts: 'electronvolt',\n    moles: 'mole',\n    bit: 'bits',\n    byte: 'bytes'\n  };\n\n  /**\r\n   * Calculate the values for the angle units.\r\n   * Value is calculated as number or BigNumber depending on the configuration\r\n   * @param {{number: 'number' | 'BigNumber'}} config\r\n   */\n  function calculateAngleValues(config) {\n    if (config.number === 'BigNumber') {\n      var pi = createPi(_BigNumber);\n      UNITS.rad.value = new _BigNumber(1);\n      UNITS.deg.value = pi.div(180); // 2 * pi / 360\n      UNITS.grad.value = pi.div(200); // 2 * pi / 400\n      UNITS.cycle.value = pi.times(2); // 2 * pi\n      UNITS.arcsec.value = pi.div(648000); // 2 * pi / 360 / 3600\n      UNITS.arcmin.value = pi.div(10800); // 2 * pi / 360 / 60\n    } else {\n      // number\n      UNITS.rad.value = 1;\n      UNITS.deg.value = Math.PI / 180; // 2 * pi / 360\n      UNITS.grad.value = Math.PI / 200; // 2 * pi / 400\n      UNITS.cycle.value = Math.PI * 2; // 2 * pi\n      UNITS.arcsec.value = Math.PI / 648000; // 2 * pi / 360 / 3600\n      UNITS.arcmin.value = Math.PI / 10800; // 2 * pi / 360 / 60\n    }\n\n    // copy to the full names of the angles\n    UNITS.radian.value = UNITS.rad.value;\n    UNITS.degree.value = UNITS.deg.value;\n    UNITS.gradian.value = UNITS.grad.value;\n  }\n\n  // apply the angle values now\n  calculateAngleValues(config);\n  if (on) {\n    // recalculate the values on change of configuration\n    on('config', function (curr, prev) {\n      if (curr.number !== prev.number) {\n        calculateAngleValues(curr);\n      }\n    });\n  }\n\n  /**\r\n   * A unit system is a set of dimensionally independent base units plus a set of derived units, formed by multiplication and division of the base units, that are by convention used with the unit system.\r\n   * A user perhaps could issue a command to select a preferred unit system, or use the default (see below).\r\n   * Auto unit system: The default unit system is updated on the fly anytime a unit is parsed. The corresponding unit in the default unit system is updated, so that answers are given in the same units the user supplies.\r\n   */\n  var UNIT_SYSTEMS = {\n    si: {\n      // Base units\n      NONE: {\n        unit: UNIT_NONE,\n        prefix: PREFIXES.NONE['']\n      },\n      LENGTH: {\n        unit: UNITS.m,\n        prefix: PREFIXES.SHORT['']\n      },\n      MASS: {\n        unit: UNITS.g,\n        prefix: PREFIXES.SHORT.k\n      },\n      TIME: {\n        unit: UNITS.s,\n        prefix: PREFIXES.SHORT['']\n      },\n      CURRENT: {\n        unit: UNITS.A,\n        prefix: PREFIXES.SHORT['']\n      },\n      TEMPERATURE: {\n        unit: UNITS.K,\n        prefix: PREFIXES.SHORT['']\n      },\n      LUMINOUS_INTENSITY: {\n        unit: UNITS.cd,\n        prefix: PREFIXES.SHORT['']\n      },\n      AMOUNT_OF_SUBSTANCE: {\n        unit: UNITS.mol,\n        prefix: PREFIXES.SHORT['']\n      },\n      ANGLE: {\n        unit: UNITS.rad,\n        prefix: PREFIXES.SHORT['']\n      },\n      BIT: {\n        unit: UNITS.bits,\n        prefix: PREFIXES.SHORT['']\n      },\n      // Derived units\n      FORCE: {\n        unit: UNITS.N,\n        prefix: PREFIXES.SHORT['']\n      },\n      ENERGY: {\n        unit: UNITS.J,\n        prefix: PREFIXES.SHORT['']\n      },\n      POWER: {\n        unit: UNITS.W,\n        prefix: PREFIXES.SHORT['']\n      },\n      PRESSURE: {\n        unit: UNITS.Pa,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CHARGE: {\n        unit: UNITS.C,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CAPACITANCE: {\n        unit: UNITS.F,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_POTENTIAL: {\n        unit: UNITS.V,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_RESISTANCE: {\n        unit: UNITS.ohm,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_INDUCTANCE: {\n        unit: UNITS.H,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CONDUCTANCE: {\n        unit: UNITS.S,\n        prefix: PREFIXES.SHORT['']\n      },\n      MAGNETIC_FLUX: {\n        unit: UNITS.Wb,\n        prefix: PREFIXES.SHORT['']\n      },\n      MAGNETIC_FLUX_DENSITY: {\n        unit: UNITS.T,\n        prefix: PREFIXES.SHORT['']\n      },\n      FREQUENCY: {\n        unit: UNITS.Hz,\n        prefix: PREFIXES.SHORT['']\n      }\n    }\n  };\n\n  // Clone to create the other unit systems\n  UNIT_SYSTEMS.cgs = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\n  UNIT_SYSTEMS.cgs.LENGTH = {\n    unit: UNITS.m,\n    prefix: PREFIXES.SHORT.c\n  };\n  UNIT_SYSTEMS.cgs.MASS = {\n    unit: UNITS.g,\n    prefix: PREFIXES.SHORT['']\n  };\n  UNIT_SYSTEMS.cgs.FORCE = {\n    unit: UNITS.dyn,\n    prefix: PREFIXES.SHORT['']\n  };\n  UNIT_SYSTEMS.cgs.ENERGY = {\n    unit: UNITS.erg,\n    prefix: PREFIXES.NONE['']\n  };\n  // there are wholly 4 unique cgs systems for electricity and magnetism,\n  // so let's not worry about it unless somebody complains\n\n  UNIT_SYSTEMS.us = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\n  UNIT_SYSTEMS.us.LENGTH = {\n    unit: UNITS.ft,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.MASS = {\n    unit: UNITS.lbm,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.TEMPERATURE = {\n    unit: UNITS.degF,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.FORCE = {\n    unit: UNITS.lbf,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.ENERGY = {\n    unit: UNITS.BTU,\n    prefix: PREFIXES.BTU['']\n  };\n  UNIT_SYSTEMS.us.POWER = {\n    unit: UNITS.hp,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.PRESSURE = {\n    unit: UNITS.psi,\n    prefix: PREFIXES.NONE['']\n  };\n\n  // Add additional unit systems here.\n\n  // Choose a unit system to seed the auto unit system.\n  UNIT_SYSTEMS.auto = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\n\n  // Set the current unit system\n  var currentUnitSystem = UNIT_SYSTEMS.auto;\n\n  /**\r\n   * Set a unit system for formatting derived units.\r\n   * @memberof Unit\r\n   * @param {string} [name] The name of the unit system.\r\n   */\n  Unit.setUnitSystem = function (name) {\n    if (hasOwnProperty(UNIT_SYSTEMS, name)) {\n      currentUnitSystem = UNIT_SYSTEMS[name];\n    } else {\n      throw new Error('Unit system ' + name + ' does not exist. Choices are: ' + Object.keys(UNIT_SYSTEMS).join(', '));\n    }\n  };\n\n  /**\r\n   * Return the current unit system.\r\n   * @memberof Unit\r\n   * @return {string} The current unit system.\r\n   */\n  Unit.getUnitSystem = function () {\n    for (var _key in UNIT_SYSTEMS) {\n      if (hasOwnProperty(UNIT_SYSTEMS, _key)) {\n        if (UNIT_SYSTEMS[_key] === currentUnitSystem) {\n          return _key;\n        }\n      }\n    }\n  };\n\n  /**\r\n   * Converters to convert from number to an other numeric type like BigNumber\r\n   * or Fraction\r\n   */\n  Unit.typeConverters = {\n    BigNumber: function BigNumber(x) {\n      if (x !== null && x !== void 0 && x.isFraction) return new _BigNumber(String(x.n)).div(String(x.d)).times(String(x.s));\n      return new _BigNumber(x + ''); // stringify to prevent constructor error\n    },\n    Fraction: function Fraction(x) {\n      return new _Fraction(x);\n    },\n    Complex: function Complex(x) {\n      return x;\n    },\n    number: function number(x) {\n      if (x !== null && x !== void 0 && x.isFraction) return _number(x);\n      return x;\n    }\n  };\n\n  /**\r\n   * Retrieve the right converter function corresponding with this unit's\r\n   * value\r\n   *\r\n   * @memberof Unit\r\n   * @return {Function}\r\n   */\n  Unit.prototype._numberConverter = function () {\n    var convert = Unit.typeConverters[this.valueType()];\n    if (convert) {\n      return convert;\n    }\n    throw new TypeError('Unsupported Unit value type \"' + this.valueType() + '\"');\n  };\n\n  /**\r\n   * Retrieve the right convertor function corresponding with the type\r\n   * of provided exampleValue.\r\n   *\r\n   * @param {string} type   A string 'number', 'BigNumber', or 'Fraction'\r\n   *                        In case of an unknown type,\r\n   * @return {Function}\r\n   */\n  Unit._getNumberConverter = function (type) {\n    if (!Unit.typeConverters[type]) {\n      throw new TypeError('Unsupported type \"' + type + '\"');\n    }\n    return Unit.typeConverters[type];\n  };\n\n  // Add dimensions to each built-in unit\n  for (var _key2 in UNITS) {\n    if (hasOwnProperty(UNITS, _key2)) {\n      var unit = UNITS[_key2];\n      unit.dimensions = unit.base.dimensions;\n    }\n  }\n\n  // Create aliases\n  for (var _name2 in ALIASES) {\n    if (hasOwnProperty(ALIASES, _name2)) {\n      var _unit2 = UNITS[ALIASES[_name2]];\n      var alias = {};\n      for (var _key3 in _unit2) {\n        if (hasOwnProperty(_unit2, _key3)) {\n          alias[_key3] = _unit2[_key3];\n        }\n      }\n      alias.name = _name2;\n      UNITS[_name2] = alias;\n    }\n  }\n\n  /**\r\n   * Checks if a character is a valid latin letter (upper or lower case).\r\n   * Note that this function can be overridden, for example to allow support of other alphabets.\r\n   * @memberof Unit\r\n   * @param {string} c Tested character\r\n   * @return {boolean} true if the character is a latin letter\r\n   */\n  Unit.isValidAlpha = function isValidAlpha(c) {\n    return /^[a-zA-Z]$/.test(c);\n  };\n  function assertUnitNameIsValid(name) {\n    for (var i = 0; i < name.length; i++) {\n      c = name.charAt(i);\n      if (i === 0 && !Unit.isValidAlpha(c)) {\n        throw new Error('Invalid unit name (must begin with alpha character): \"' + name + '\"');\n      }\n      if (i > 0 && !(Unit.isValidAlpha(c) || isDigit(c))) {\n        throw new Error('Invalid unit name (only alphanumeric characters are allowed): \"' + name + '\"');\n      }\n    }\n  }\n\n  /**\r\n   * Wrapper around createUnitSingle.\r\n   * Example:\r\n   *  createUnit( {\r\n   *     foo: {\r\n   *       prefixes: 'long',\r\n   *       baseName: 'essence-of-foo'\r\n   *     },\r\n   *     bar: '40 foo',\r\n   *     baz: {\r\n   *       definition: '1 bar/hour',\r\n   *       prefixes: 'long'\r\n   *     }\r\n   *   },\r\n   *   {\r\n   *     override: true\r\n   *   })\r\n   * @memberof Unit\r\n   * @param {object} obj      Object map. Each key becomes a unit which is defined by its value.\r\n   * @param {object} options\r\n   * @return {Unit} the last created unit\r\n   */\n  Unit.createUnit = function (obj, options) {\n    if (typeof obj !== 'object') {\n      throw new TypeError(\"createUnit expects first parameter to be of type 'Object'\");\n    }\n\n    // Remove all units and aliases we are overriding\n    if (options && options.override) {\n      for (var _key4 in obj) {\n        if (hasOwnProperty(obj, _key4)) {\n          Unit.deleteUnit(_key4);\n        }\n        if (obj[_key4].aliases) {\n          for (var i = 0; i < obj[_key4].aliases.length; i++) {\n            Unit.deleteUnit(obj[_key4].aliases[i]);\n          }\n        }\n      }\n    }\n\n    // TODO: traverse multiple times until all units have been added\n    var lastUnit;\n    for (var _key5 in obj) {\n      if (hasOwnProperty(obj, _key5)) {\n        lastUnit = Unit.createUnitSingle(_key5, obj[_key5]);\n      }\n    }\n    return lastUnit;\n  };\n\n  /**\r\n   * Create a user-defined unit and register it with the Unit type.\r\n   * Example:\r\n   *  createUnitSingle('knot', '0.514444444 m/s')\r\n   *\r\n   * @memberof Unit\r\n   * @param {string} name      The name of the new unit. Must be unique. Example: 'knot'\r\n   * @param {string | Unit | object} definition      Definition of the unit in terms\r\n   * of existing units. For example, '0.514444444 m / s'. Can be a Unit, a string,\r\n   * or an Object. If an Object, may have the following properties:\r\n   *   - definition {string | Unit} The definition of this unit.\r\n   *   - prefixes {string} \"none\", \"short\", \"long\", \"binary_short\", or \"binary_long\".\r\n   *     The default is \"none\".\r\n   *   - aliases {Array} Array of strings. Example: ['knots', 'kt', 'kts']\r\n   *   - offset {Numeric} An offset to apply when converting from the unit. For\r\n   *     example, the offset for celsius is 273.15 and the offset for farhenheit\r\n   *     is 459.67. Default is 0.\r\n   *   - baseName {string} If the unit's dimension does not match that of any other\r\n   *     base unit, the name of the newly create base unit. Otherwise, this property\r\n   *     has no effect.\r\n   *\r\n   * @return {Unit}\r\n   */\n  Unit.createUnitSingle = function (name, obj) {\n    if (typeof obj === 'undefined' || obj === null) {\n      obj = {};\n    }\n    if (typeof name !== 'string') {\n      throw new TypeError(\"createUnitSingle expects first parameter to be of type 'string'\");\n    }\n\n    // Check collisions with existing units\n    if (hasOwnProperty(UNITS, name)) {\n      throw new Error('Cannot create unit \"' + name + '\": a unit with that name already exists');\n    }\n\n    // TODO: Validate name for collisions with other built-in functions (like abs or cos, for example), and for acceptable variable names. For example, '42' is probably not a valid unit. Nor is '%', since it is also an operator.\n\n    assertUnitNameIsValid(name);\n    var defUnit = null; // The Unit from which the new unit will be created.\n    var aliases = [];\n    var offset = 0;\n    var definition;\n    var prefixes;\n    var baseName;\n    if (obj && obj.type === 'Unit') {\n      defUnit = obj.clone();\n    } else if (typeof obj === 'string') {\n      if (obj !== '') {\n        definition = obj;\n      }\n    } else if (typeof obj === 'object') {\n      definition = obj.definition;\n      prefixes = obj.prefixes;\n      offset = obj.offset;\n      baseName = obj.baseName;\n      if (obj.aliases) {\n        aliases = obj.aliases.valueOf(); // aliases could be a Matrix, so convert to Array\n      }\n    } else {\n      throw new TypeError('Cannot create unit \"' + name + '\" from \"' + obj.toString() + '\": expecting \"string\" or \"Unit\" or \"Object\"');\n    }\n    if (aliases) {\n      for (var i = 0; i < aliases.length; i++) {\n        if (hasOwnProperty(UNITS, aliases[i])) {\n          throw new Error('Cannot create alias \"' + aliases[i] + '\": a unit with that name already exists');\n        }\n      }\n    }\n    if (definition && typeof definition === 'string' && !defUnit) {\n      try {\n        defUnit = Unit.parse(definition, {\n          allowNoUnits: true\n        });\n      } catch (ex) {\n        ex.message = 'Could not create unit \"' + name + '\" from \"' + definition + '\": ' + ex.message;\n        throw ex;\n      }\n    } else if (definition && definition.type === 'Unit') {\n      defUnit = definition.clone();\n    }\n    aliases = aliases || [];\n    offset = offset || 0;\n    if (prefixes && prefixes.toUpperCase) {\n      prefixes = PREFIXES[prefixes.toUpperCase()] || PREFIXES.NONE;\n    } else {\n      prefixes = PREFIXES.NONE;\n    }\n\n    // If defUnit is null, it is because the user did not\n    // specify a defintion. So create a new base dimension.\n    var newUnit = {};\n    if (!defUnit) {\n      // Add a new base dimension\n      baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\n      if (BASE_DIMENSIONS.indexOf(baseName) >= 0) {\n        throw new Error('Cannot create new base unit \"' + name + '\": a base unit with that name already exists (and cannot be overridden)');\n      }\n      BASE_DIMENSIONS.push(baseName);\n\n      // Push 0 onto existing base units\n      for (var b in BASE_UNITS) {\n        if (hasOwnProperty(BASE_UNITS, b)) {\n          BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length - 1] = 0;\n        }\n      }\n\n      // Add the new base unit\n      var newBaseUnit = {\n        dimensions: []\n      };\n      for (var _i6 = 0; _i6 < BASE_DIMENSIONS.length; _i6++) {\n        newBaseUnit.dimensions[_i6] = 0;\n      }\n      newBaseUnit.dimensions[BASE_DIMENSIONS.length - 1] = 1;\n      newBaseUnit.key = baseName;\n      BASE_UNITS[baseName] = newBaseUnit;\n      newUnit = {\n        name,\n        value: 1,\n        dimensions: BASE_UNITS[baseName].dimensions.slice(0),\n        prefixes,\n        offset,\n        base: BASE_UNITS[baseName]\n      };\n      currentUnitSystem[baseName] = {\n        unit: newUnit,\n        prefix: PREFIXES.NONE['']\n      };\n    } else {\n      newUnit = {\n        name,\n        value: defUnit.value,\n        dimensions: defUnit.dimensions.slice(0),\n        prefixes,\n        offset\n      };\n\n      // Create a new base if no matching base exists\n      var anyMatch = false;\n      for (var _i7 in BASE_UNITS) {\n        if (hasOwnProperty(BASE_UNITS, _i7)) {\n          var match = true;\n          for (var j = 0; j < BASE_DIMENSIONS.length; j++) {\n            if (Math.abs((newUnit.dimensions[j] || 0) - (BASE_UNITS[_i7].dimensions[j] || 0)) > 1e-12) {\n              match = false;\n              break;\n            }\n          }\n          if (match) {\n            anyMatch = true;\n            newUnit.base = BASE_UNITS[_i7];\n            break;\n          }\n        }\n      }\n      if (!anyMatch) {\n        baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\n        // Add the new base unit\n        var _newBaseUnit = {\n          dimensions: defUnit.dimensions.slice(0)\n        };\n        _newBaseUnit.key = baseName;\n        BASE_UNITS[baseName] = _newBaseUnit;\n        currentUnitSystem[baseName] = {\n          unit: newUnit,\n          prefix: PREFIXES.NONE['']\n        };\n        newUnit.base = BASE_UNITS[baseName];\n      }\n    }\n    Unit.UNITS[name] = newUnit;\n    for (var _i8 = 0; _i8 < aliases.length; _i8++) {\n      var aliasName = aliases[_i8];\n      var _alias = {};\n      for (var _key6 in newUnit) {\n        if (hasOwnProperty(newUnit, _key6)) {\n          _alias[_key6] = newUnit[_key6];\n        }\n      }\n      _alias.name = aliasName;\n      Unit.UNITS[aliasName] = _alias;\n    }\n\n    // delete the memoization cache because we created a new unit\n    delete _findUnit.cache;\n    return new Unit(null, name);\n  };\n  Unit.deleteUnit = function (name) {\n    delete Unit.UNITS[name];\n\n    // delete the memoization cache because we deleted a unit\n    delete _findUnit.cache;\n  };\n\n  // expose arrays with prefixes, dimensions, units, systems\n  Unit.PREFIXES = PREFIXES;\n  Unit.BASE_DIMENSIONS = BASE_DIMENSIONS;\n  Unit.BASE_UNITS = BASE_UNITS;\n  Unit.UNIT_SYSTEMS = UNIT_SYSTEMS;\n  Unit.UNITS = UNITS;\n  return Unit;\n}, {\n  isClass: true\n});","map":{"version":3,"names":["_defineProperty","_extends","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","isComplex","isUnit","typeOf","factory","memoize","endsWith","clone","hasOwnProperty","createBigNumberPi","createPi","name","dependencies","createUnitClass","_ref","on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","_number","Complex","BigNumber","_BigNumber","Fraction","_Fraction","toNumber","fixPrefixDefault","skipAutomaticSimplificationDefault","Unit","value","valuelessUnit","Error","undefined","TypeError","fixPrefix","skipAutomaticSimplification","units","dimensions","BASE_DIMENSIONS","map","x","u","parse","slice","_normalize","prototype","constructor","type","text","index","c","skipWhitespace","next","isDigitDot","isDigit","charAt","revert","oldIndex","parseNumber","tentativeNumber","tentativeIndex","parseUnit","unitName","isValidAlpha","firstC","parseCharacter","toFind","str","options","unit","powerMultiplierCurrent","expectingUnit","valueStr","err","parseFloat","powerMultiplierStack","powerMultiplierStackProduct","uStr","oldC","SyntaxError","toString","res","_findUnit","power","p","prefix","i","pop","base","baseDim","key","UNIT_SYSTEMS","auto","allowNoUnits","valueType","_isDerived","Math","convert","_getNumberConverter","unitValue","unitPrefixValue","unitPower","_denormalize","prefixValue","UNITS","prefixes","_name","_unit","prefixLen","prefixName","substring","_prefix","hasher","args","limit","isValuelessUnit","hasBase","BASE_UNITS","equalBase","other","equals","multiply","_other","_i","inverted","valThis","one","valOther","getNumericIfUnitless","divideInto","numerator","divide","_i2","_i3","NONE","predictable","typeOfValue","ret","offset","_numberConverter","nominalOffset","unitOffset","W","to","concat","thisUnitValue","thisNominalOffset","thisUnitOffset","otherUnitValue","otherNominalOffset","otherUnitOffset","toNumeric","toJSON","mathjs","formatUnits","skipSimp","fromJSON","json","_json$unit","_json$fixPrefix","_json$skipSimp","valueOf","simplify","proposedUnitList","matchingBase","currentUnitSystem","matchingUnit","missingBaseDim","toSI","si","strNum","strDen","nNum","nDen","_i4","substr","toBest","unitList","Array","isArray","startPrefixes","unitObjects","el","reduce","acc","result","formatBest","simp","unitStr","handleVAandVARUnits","applyBestPrefixIfNeeded","isImaginary","re","VAR","VA","_bestPrefix","absValue","absUnitValue","bestPrefix","bestDiff","log","LN10","scientific","diff","splitUnit","parts","xNumeric","xRounded","xFixed","isNearlyEqual","y","testSum","_i5","PREFIXES","SHORT","da","h","k","M","G","T","P","E","Z","Y","R","Q","d","m","n","f","a","z","q","LONG","deca","hecto","kilo","mega","giga","tera","peta","exa","zetta","yotta","ronna","quetta","deci","centi","milli","micro","nano","pico","femto","atto","zepto","yocto","ronto","quecto","SQUARED","CUBIC","BINARY_SHORT_SI","BINARY_SHORT_IEC","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi","BINARY_LONG_SI","BINARY_LONG_IEC","kibi","mebi","gibi","tebi","pebi","exi","zebi","yobi","BTU","MM","SHORTLONG","BINARY_SHORT","BINARY_LONG","MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","FORCE","SURFACE","VOLUME","ENERGY","POWER","PRESSURE","ELECTRIC_CHARGE","ELECTRIC_CAPACITANCE","ELECTRIC_POTENTIAL","ELECTRIC_RESISTANCE","ELECTRIC_INDUCTANCE","ELECTRIC_CONDUCTANCE","MAGNETIC_FLUX","MAGNETIC_FLUX_DENSITY","FREQUENCY","ANGLE","BIT","BASE_UNIT_NONE","UNIT_NONE","meter","inch","foot","yard","mile","link","rod","chain","angstrom","in","ft","yd","mi","li","rd","ch","mil","m2","sqin","sqft","sqyd","sqmi","sqrd","sqch","sqmil","acre","hectare","m3","L","l","litre","cuin","cuft","cuyd","teaspoon","tablespoon","drop","gtt","minim","fluiddram","fluidounce","gill","cc","cup","pint","quart","gallon","beerbarrel","oilbarrel","hogshead","g","gram","ton","tonne","grain","dram","ounce","poundmass","hundredweight","stick","stone","gr","dr","oz","lbm","cwt","s","min","second","sec","minute","hour","day","week","month","year","decade","century","millennium","hertz","reciprocal","Hz","rad","radian","deg","degree","grad","gradian","cycle","arcsec","arcmin","A","ampere","K","degC","degF","degR","kelvin","celsius","fahrenheit","rankine","mol","mole","cd","candela","N","newton","dyn","dyne","lbf","poundforce","kip","kilogramforce","J","joule","erg","Wh","eV","electronvolt","watt","hp","I","Pa","psi","atm","bar","torr","mmHg","mmH2O","cmH2O","coulomb","C","farad","F","volt","V","ohm","henry","H","siemens","S","weber","Wb","tesla","b","bits","B","bytes","ALIASES","meters","inches","feet","yards","miles","links","rods","chains","angstroms","lt","litres","liter","liters","teaspoons","tablespoons","minims","fldr","fluiddrams","floz","fluidounces","gi","gills","cp","cups","pt","pints","qt","quarts","gal","gallons","bbl","beerbarrels","obl","oilbarrels","hogsheads","gtts","grams","tons","tonnes","grains","drams","ounces","poundmasses","hundredweights","sticks","lb","lbs","kips","kgf","acres","hectares","sqfeet","sqyard","sqmile","sqmiles","mmhg","mmh2o","cmh2o","seconds","secs","minutes","mins","hours","hr","hrs","days","weeks","months","years","decades","centuries","millennia","radians","degrees","gradians","cycles","arcsecond","arcseconds","arcminute","arcminutes","BTUs","watts","joules","amperes","amps","amp","coulombs","volts","ohms","farads","webers","teslas","electronvolts","moles","bit","byte","calculateAngleValues","pi","div","times","PI","curr","prev","cgs","JSON","stringify","us","setUnitSystem","join","getUnitSystem","_key","typeConverters","isFraction","String","_key2","_name2","_unit2","alias","_key3","test","assertUnitNameIsValid","createUnit","obj","override","_key4","deleteUnit","aliases","lastUnit","_key5","createUnitSingle","defUnit","definition","baseName","ex","message","toUpperCase","newUnit","indexOf","newBaseUnit","_i6","anyMatch","_i7","match","j","_newBaseUnit","_i8","aliasName","_alias","_key6","cache","isClass"],"sources":["C:/Users/dudet/Documents/gitexp/CampusEats/node_modules/mathjs/lib/esm/type/unit/Unit.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\r\nimport _extends from \"@babel/runtime/helpers/extends\";\r\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\r\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\r\nimport { isComplex, isUnit, typeOf } from '../../utils/is.js';\r\nimport { factory } from '../../utils/factory.js';\r\nimport { memoize } from '../../utils/function.js';\r\nimport { endsWith } from '../../utils/string.js';\r\nimport { clone, hasOwnProperty } from '../../utils/object.js';\r\nimport { createBigNumberPi as createPi } from '../../utils/bignumber/constants.js';\r\nvar name = 'Unit';\r\nvar dependencies = ['?on', 'config', 'addScalar', 'subtractScalar', 'multiplyScalar', 'divideScalar', 'pow', 'abs', 'fix', 'round', 'equal', 'isNumeric', 'format', 'number', 'Complex', 'BigNumber', 'Fraction'];\r\nexport var createUnitClass = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    on,\r\n    config,\r\n    addScalar,\r\n    subtractScalar,\r\n    multiplyScalar,\r\n    divideScalar,\r\n    pow,\r\n    abs,\r\n    fix,\r\n    round,\r\n    equal,\r\n    isNumeric,\r\n    format,\r\n    number: _number,\r\n    Complex,\r\n    BigNumber: _BigNumber,\r\n    Fraction: _Fraction\r\n  } = _ref;\r\n  var toNumber = _number;\r\n  var fixPrefixDefault = false;\r\n  var skipAutomaticSimplificationDefault = true;\r\n\r\n  /**\r\n   * A unit can be constructed in the following ways:\r\n   *\r\n   *     const a = new Unit(value, valuelessUnit)\r\n   *     const b = new Unit(null, valuelessUnit)\r\n   *     const c = Unit.parse(str)\r\n   *\r\n   * Example usage:\r\n   *\r\n   *     const a = new Unit(5, 'cm')               // 50 mm\r\n   *     const b = Unit.parse('23 kg')             // 23 kg\r\n   *     const c = math.in(a, new Unit(null, 'm')  // 0.05 m\r\n   *     const d = new Unit(9.81, \"m/s^2\")         // 9.81 m/s^2\r\n   *\r\n   * @class Unit\r\n   * @constructor Unit\r\n   * @param {number | BigNumber | Fraction | Complex | boolean} [value]  A value like 5.2\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   */\r\n  function Unit(value, valuelessUnit) {\r\n    if (!(this instanceof Unit)) {\r\n      throw new Error('Constructor must be called with the new operator');\r\n    }\r\n    if (!(value === null || value === undefined || isNumeric(value) || isComplex(value))) {\r\n      throw new TypeError('First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined');\r\n    }\r\n    this.fixPrefix = fixPrefixDefault; // if true, function format will not search for the\r\n    // best prefix but leave it as initially provided.\r\n    // fixPrefix is set true by the method Unit.to\r\n\r\n    // The justification behind this is that if the constructor is explicitly called,\r\n    // the caller wishes the units to be returned exactly as supplied.\r\n    this.skipAutomaticSimplification = skipAutomaticSimplificationDefault;\r\n    if (valuelessUnit === undefined) {\r\n      this.units = [];\r\n      this.dimensions = BASE_DIMENSIONS.map(x => 0);\r\n    } else if (typeof valuelessUnit === 'string') {\r\n      var u = Unit.parse(valuelessUnit);\r\n      this.units = u.units;\r\n      this.dimensions = u.dimensions;\r\n    } else if (isUnit(valuelessUnit) && valuelessUnit.value === null) {\r\n      // clone from valuelessUnit\r\n      this.fixPrefix = valuelessUnit.fixPrefix;\r\n      this.skipAutomaticSimplification = valuelessUnit.skipAutomaticSimplification;\r\n      this.dimensions = valuelessUnit.dimensions.slice(0);\r\n      this.units = valuelessUnit.units.map(u => _extends({}, u));\r\n    } else {\r\n      throw new TypeError('Second parameter in Unit constructor must be a string or valueless Unit');\r\n    }\r\n    this.value = this._normalize(value);\r\n  }\r\n\r\n  /**\r\n   * Attach type information\r\n   */\r\n  Object.defineProperty(Unit, 'name', {\r\n    value: 'Unit'\r\n  });\r\n  Unit.prototype.constructor = Unit;\r\n  Unit.prototype.type = 'Unit';\r\n  Unit.prototype.isUnit = true;\r\n\r\n  // private variables and functions for the Unit parser\r\n  var text, index, c;\r\n  function skipWhitespace() {\r\n    while (c === ' ' || c === '\\t') {\r\n      next();\r\n    }\r\n  }\r\n  function isDigitDot(c) {\r\n    return c >= '0' && c <= '9' || c === '.';\r\n  }\r\n  function isDigit(c) {\r\n    return c >= '0' && c <= '9';\r\n  }\r\n  function next() {\r\n    index++;\r\n    c = text.charAt(index);\r\n  }\r\n  function revert(oldIndex) {\r\n    index = oldIndex;\r\n    c = text.charAt(index);\r\n  }\r\n  function parseNumber() {\r\n    var number = '';\r\n    var oldIndex = index;\r\n    if (c === '+') {\r\n      next();\r\n    } else if (c === '-') {\r\n      number += c;\r\n      next();\r\n    }\r\n    if (!isDigitDot(c)) {\r\n      // a + or - must be followed by a digit\r\n      revert(oldIndex);\r\n      return null;\r\n    }\r\n\r\n    // get number, can have a single dot\r\n    if (c === '.') {\r\n      number += c;\r\n      next();\r\n      if (!isDigit(c)) {\r\n        // this is no legal number, it is just a dot\r\n        revert(oldIndex);\r\n        return null;\r\n      }\r\n    } else {\r\n      while (isDigit(c)) {\r\n        number += c;\r\n        next();\r\n      }\r\n      if (c === '.') {\r\n        number += c;\r\n        next();\r\n      }\r\n    }\r\n    while (isDigit(c)) {\r\n      number += c;\r\n      next();\r\n    }\r\n\r\n    // check for exponential notation like \"2.3e-4\" or \"1.23e50\"\r\n    if (c === 'E' || c === 'e') {\r\n      // The grammar branches here. This could either be part of an exponent or the start of a unit that begins with the letter e, such as \"4exabytes\"\r\n\r\n      var tentativeNumber = '';\r\n      var tentativeIndex = index;\r\n      tentativeNumber += c;\r\n      next();\r\n      if (c === '+' || c === '-') {\r\n        tentativeNumber += c;\r\n        next();\r\n      }\r\n\r\n      // Scientific notation MUST be followed by an exponent (otherwise we assume it is not scientific notation)\r\n      if (!isDigit(c)) {\r\n        // The e or E must belong to something else, so return the number without the e or E.\r\n        revert(tentativeIndex);\r\n        return number;\r\n      }\r\n\r\n      // We can now safely say that this is scientific notation.\r\n      number = number + tentativeNumber;\r\n      while (isDigit(c)) {\r\n        number += c;\r\n        next();\r\n      }\r\n    }\r\n    return number;\r\n  }\r\n  function parseUnit() {\r\n    var unitName = '';\r\n\r\n    // Alphanumeric characters only; matches [a-zA-Z0-9]\r\n    while (isDigit(c) || Unit.isValidAlpha(c)) {\r\n      unitName += c;\r\n      next();\r\n    }\r\n\r\n    // Must begin with [a-zA-Z]\r\n    var firstC = unitName.charAt(0);\r\n    if (Unit.isValidAlpha(firstC)) {\r\n      return unitName;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  function parseCharacter(toFind) {\r\n    if (c === toFind) {\r\n      next();\r\n      return toFind;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Parse a string into a unit. The value of the unit is parsed as number,\r\n   * BigNumber, or Fraction depending on the math.js config setting `number`.\r\n   *\r\n   * Throws an exception if the provided string does not contain a valid unit or\r\n   * cannot be parsed.\r\n   * @memberof Unit\r\n   * @param {string} str        A string like \"5.2 inch\", \"4e2 cm/s^2\"\r\n   * @return {Unit} unit\r\n   */\r\n  Unit.parse = function (str, options) {\r\n    options = options || {};\r\n    text = str;\r\n    index = -1;\r\n    c = '';\r\n    if (typeof text !== 'string') {\r\n      throw new TypeError('Invalid argument in Unit.parse, string expected');\r\n    }\r\n    var unit = new Unit();\r\n    unit.units = [];\r\n    var powerMultiplierCurrent = 1;\r\n    var expectingUnit = false;\r\n\r\n    // A unit should follow this pattern:\r\n    // [number] ...[ [*/] unit[^number] ]\r\n    // unit[^number] ... [ [*/] unit[^number] ]\r\n\r\n    // Rules:\r\n    // number is any floating point number.\r\n    // unit is any alphanumeric string beginning with an alpha. Units with names like e3 should be avoided because they look like the exponent of a floating point number!\r\n    // The string may optionally begin with a number.\r\n    // Each unit may optionally be followed by ^number.\r\n    // Whitespace or a forward slash is recommended between consecutive units, although the following technically is parseable:\r\n    //   2m^2kg/s^2\r\n    // it is not good form. If a unit starts with e, then it could be confused as a floating point number:\r\n    //   4erg\r\n\r\n    next();\r\n    skipWhitespace();\r\n\r\n    // Optional number at the start of the string\r\n    var valueStr = parseNumber();\r\n    var value = null;\r\n    if (valueStr) {\r\n      if (config.number === 'BigNumber') {\r\n        value = new _BigNumber(valueStr);\r\n      } else if (config.number === 'Fraction') {\r\n        try {\r\n          // not all numbers can be turned in Fractions, for example very small numbers not\r\n          value = new _Fraction(valueStr);\r\n        } catch (err) {\r\n          value = parseFloat(valueStr);\r\n        }\r\n      } else {\r\n        // number\r\n        value = parseFloat(valueStr);\r\n      }\r\n      skipWhitespace(); // Whitespace is not required here\r\n\r\n      // handle multiplication or division right after the value, like '1/s'\r\n      if (parseCharacter('*')) {\r\n        powerMultiplierCurrent = 1;\r\n        expectingUnit = true;\r\n      } else if (parseCharacter('/')) {\r\n        powerMultiplierCurrent = -1;\r\n        expectingUnit = true;\r\n      }\r\n    }\r\n\r\n    // Stack to keep track of powerMultipliers applied to each parentheses group\r\n    var powerMultiplierStack = [];\r\n\r\n    // Running product of all elements in powerMultiplierStack\r\n    var powerMultiplierStackProduct = 1;\r\n    while (true) {\r\n      skipWhitespace();\r\n\r\n      // Check for and consume opening parentheses, pushing powerMultiplierCurrent to the stack\r\n      // A '(' will always appear directly before a unit.\r\n      while (c === '(') {\r\n        powerMultiplierStack.push(powerMultiplierCurrent);\r\n        powerMultiplierStackProduct *= powerMultiplierCurrent;\r\n        powerMultiplierCurrent = 1;\r\n        next();\r\n        skipWhitespace();\r\n      }\r\n\r\n      // Is there something here?\r\n      var uStr = void 0;\r\n      if (c) {\r\n        var oldC = c;\r\n        uStr = parseUnit();\r\n        if (uStr === null) {\r\n          throw new SyntaxError('Unexpected \"' + oldC + '\" in \"' + text + '\" at index ' + index.toString());\r\n        }\r\n      } else {\r\n        // End of input.\r\n        break;\r\n      }\r\n\r\n      // Verify the unit exists and get the prefix (if any)\r\n      var res = _findUnit(uStr);\r\n      if (res === null) {\r\n        // Unit not found.\r\n        throw new SyntaxError('Unit \"' + uStr + '\" not found.');\r\n      }\r\n      var power = powerMultiplierCurrent * powerMultiplierStackProduct;\r\n      // Is there a \"^ number\"?\r\n      skipWhitespace();\r\n      if (parseCharacter('^')) {\r\n        skipWhitespace();\r\n        var p = parseNumber();\r\n        if (p === null) {\r\n          // No valid number found for the power!\r\n          throw new SyntaxError('In \"' + str + '\", \"^\" must be followed by a floating-point number');\r\n        }\r\n        power *= p;\r\n      }\r\n\r\n      // Add the unit to the list\r\n      unit.units.push({\r\n        unit: res.unit,\r\n        prefix: res.prefix,\r\n        power\r\n      });\r\n      for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n        unit.dimensions[i] += (res.unit.dimensions[i] || 0) * power;\r\n      }\r\n\r\n      // Check for and consume closing parentheses, popping from the stack.\r\n      // A ')' will always follow a unit.\r\n      skipWhitespace();\r\n      while (c === ')') {\r\n        if (powerMultiplierStack.length === 0) {\r\n          throw new SyntaxError('Unmatched \")\" in \"' + text + '\" at index ' + index.toString());\r\n        }\r\n        powerMultiplierStackProduct /= powerMultiplierStack.pop();\r\n        next();\r\n        skipWhitespace();\r\n      }\r\n\r\n      // \"*\" and \"/\" should mean we are expecting something to come next.\r\n      // Is there a forward slash? If so, negate powerMultiplierCurrent. The next unit or paren group is in the denominator.\r\n      expectingUnit = false;\r\n      if (parseCharacter('*')) {\r\n        // explicit multiplication\r\n        powerMultiplierCurrent = 1;\r\n        expectingUnit = true;\r\n      } else if (parseCharacter('/')) {\r\n        // division\r\n        powerMultiplierCurrent = -1;\r\n        expectingUnit = true;\r\n      } else {\r\n        // implicit multiplication\r\n        powerMultiplierCurrent = 1;\r\n      }\r\n\r\n      // Replace the unit into the auto unit system\r\n      if (res.unit.base) {\r\n        var baseDim = res.unit.base.key;\r\n        UNIT_SYSTEMS.auto[baseDim] = {\r\n          unit: res.unit,\r\n          prefix: res.prefix\r\n        };\r\n      }\r\n    }\r\n\r\n    // Has the string been entirely consumed?\r\n    skipWhitespace();\r\n    if (c) {\r\n      throw new SyntaxError('Could not parse: \"' + str + '\"');\r\n    }\r\n\r\n    // Is there a trailing slash?\r\n    if (expectingUnit) {\r\n      throw new SyntaxError('Trailing characters: \"' + str + '\"');\r\n    }\r\n\r\n    // Is the parentheses stack empty?\r\n    if (powerMultiplierStack.length !== 0) {\r\n      throw new SyntaxError('Unmatched \"(\" in \"' + text + '\"');\r\n    }\r\n\r\n    // Are there any units at all?\r\n    if (unit.units.length === 0 && !options.allowNoUnits) {\r\n      throw new SyntaxError('\"' + str + '\" contains no units');\r\n    }\r\n    unit.value = value !== undefined ? unit._normalize(value) : null;\r\n    return unit;\r\n  };\r\n\r\n  /**\r\n   * create a copy of this unit\r\n   * @memberof Unit\r\n   * @return {Unit} Returns a cloned version of the unit\r\n   */\r\n  Unit.prototype.clone = function () {\r\n    var unit = new Unit();\r\n    unit.fixPrefix = this.fixPrefix;\r\n    unit.skipAutomaticSimplification = this.skipAutomaticSimplification;\r\n    unit.value = clone(this.value);\r\n    unit.dimensions = this.dimensions.slice(0);\r\n    unit.units = [];\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      unit.units[i] = {};\r\n      for (var p in this.units[i]) {\r\n        if (hasOwnProperty(this.units[i], p)) {\r\n          unit.units[i][p] = this.units[i][p];\r\n        }\r\n      }\r\n    }\r\n    return unit;\r\n  };\r\n\r\n  /**\r\n   * Return the type of the value of this unit\r\n   *\r\n   * @memberof Unit\r\n   * @return {string} type of the value of the unit\r\n   */\r\n  Unit.prototype.valueType = function () {\r\n    return typeOf(this.value);\r\n  };\r\n\r\n  /**\r\n   * Return whether the unit is derived (such as m/s, or cm^2, but not N)\r\n   * @memberof Unit\r\n   * @return {boolean} True if the unit is derived\r\n   * @private\r\n   */\r\n  Unit.prototype._isDerived = function () {\r\n    if (this.units.length === 0) {\r\n      return false;\r\n    }\r\n    return this.units.length > 1 || Math.abs(this.units[0].power - 1.0) > 1e-15;\r\n  };\r\n\r\n  /**\r\n   * Normalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number | BigNumber | Fraction | boolean} value\r\n   * @return {number | BigNumber | Fraction | boolean} normalized value\r\n   * @private\r\n   */\r\n  Unit.prototype._normalize = function (value) {\r\n    if (value === null || value === undefined || this.units.length === 0) {\r\n      return value;\r\n    }\r\n    var res = value;\r\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      var unitValue = convert(this.units[i].unit.value);\r\n      var unitPrefixValue = convert(this.units[i].prefix.value);\r\n      var unitPower = convert(this.units[i].power);\r\n      res = multiplyScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\r\n    }\r\n    return res;\r\n  };\r\n\r\n  /**\r\n   * Denormalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number} value\r\n   * @param {number} [prefixValue]    Optional prefix value to be used (ignored if this is a derived unit)\r\n   * @return {number} denormalized value\r\n   * @private\r\n   */\r\n  Unit.prototype._denormalize = function (value, prefixValue) {\r\n    if (value === null || value === undefined || this.units.length === 0) {\r\n      return value;\r\n    }\r\n    var res = value;\r\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      var unitValue = convert(this.units[i].unit.value);\r\n      var unitPrefixValue = convert(this.units[i].prefix.value);\r\n      var unitPower = convert(this.units[i].power);\r\n      res = divideScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\r\n    }\r\n    return res;\r\n  };\r\n\r\n  /**\r\n   * Find a unit from a string\r\n   * @memberof Unit\r\n   * @param {string} str              A string like 'cm' or 'inch'\r\n   * @returns {Object | null} result  When found, an object with fields unit and\r\n   *                                  prefix is returned. Else, null is returned.\r\n   * @private\r\n   */\r\n  var _findUnit = memoize(str => {\r\n    // First, match units names exactly. For example, a user could define 'mm' as 10^-4 m, which is silly, but then we would want 'mm' to match the user-defined unit.\r\n    if (hasOwnProperty(UNITS, str)) {\r\n      var unit = UNITS[str];\r\n      var prefix = unit.prefixes[''];\r\n      return {\r\n        unit,\r\n        prefix\r\n      };\r\n    }\r\n    for (var _name in UNITS) {\r\n      if (hasOwnProperty(UNITS, _name)) {\r\n        if (endsWith(str, _name)) {\r\n          var _unit = UNITS[_name];\r\n          var prefixLen = str.length - _name.length;\r\n          var prefixName = str.substring(0, prefixLen);\r\n          var _prefix = hasOwnProperty(_unit.prefixes, prefixName) ? _unit.prefixes[prefixName] : undefined;\r\n          if (_prefix !== undefined) {\r\n            // store unit, prefix, and value\r\n            return {\r\n              unit: _unit,\r\n              prefix: _prefix\r\n            };\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }, {\r\n    hasher: args => args[0],\r\n    limit: 100\r\n  });\r\n\r\n  /**\r\n   * Test if the given expression is a unit.\r\n   * The unit can have a prefix but cannot have a value.\r\n   * @memberof Unit\r\n   * @param {string} name   A string to be tested whether it is a value less unit.\r\n   *                        The unit can have prefix, like \"cm\"\r\n   * @return {boolean}      true if the given string is a unit\r\n   */\r\n  Unit.isValuelessUnit = function (name) {\r\n    return _findUnit(name) !== null;\r\n  };\r\n\r\n  /**\r\n   * check if this unit has given base unit\r\n   * If this unit is a derived unit, this will ALWAYS return false, since by definition base units are not derived.\r\n   * @memberof Unit\r\n   * @param {BASE_UNIT | string | undefined} base\r\n   */\r\n  Unit.prototype.hasBase = function (base) {\r\n    if (typeof base === 'string') {\r\n      base = BASE_UNITS[base];\r\n    }\r\n    if (!base) {\r\n      return false;\r\n    }\r\n\r\n    // All dimensions must be the same\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      if (Math.abs((this.dimensions[i] || 0) - (base.dimensions[i] || 0)) > 1e-12) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Check if this unit has a base or bases equal to another base or bases\r\n   * For derived units, the exponent on each base also must match\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if equal base\r\n   */\r\n  Unit.prototype.equalBase = function (other) {\r\n    // All dimensions must be the same\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      if (Math.abs((this.dimensions[i] || 0) - (other.dimensions[i] || 0)) > 1e-12) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Check if this unit equals another unit\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if both units are equal\r\n   */\r\n  Unit.prototype.equals = function (other) {\r\n    return this.equalBase(other) && equal(this.value, other.value);\r\n  };\r\n\r\n  /**\r\n   * Multiply this unit with another one or with a scalar\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {Unit} product of this unit and the other unit\r\n   */\r\n  Unit.prototype.multiply = function (_other) {\r\n    var res = this.clone();\r\n    var other = isUnit(_other) ? _other : new Unit(_other);\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) + (other.dimensions[i] || 0);\r\n    }\r\n\r\n    // Append other's units list onto res\r\n    for (var _i = 0; _i < other.units.length; _i++) {\r\n      // Make a shallow copy of every unit\r\n      var inverted = _objectSpread({}, other.units[_i]);\r\n      res.units.push(inverted);\r\n    }\r\n\r\n    // If at least one operand has a value, then the result should also have a value\r\n    if (this.value !== null || other.value !== null) {\r\n      var valThis = this.value === null ? this._normalize(one(other.value)) : this.value;\r\n      var valOther = other.value === null ? other._normalize(one(this.value)) : other.value;\r\n      res.value = multiplyScalar(valThis, valOther);\r\n    } else {\r\n      res.value = null;\r\n    }\r\n    if (isUnit(_other)) {\r\n      res.skipAutomaticSimplification = false;\r\n    }\r\n    return getNumericIfUnitless(res);\r\n  };\r\n\r\n  /**\r\n   * Divide a number by this unit\r\n   *\r\n   * @memberof Unit\r\n   * @param {numeric} numerator\r\n   * @param {unit} result of dividing numerator by this unit\r\n   */\r\n  Unit.prototype.divideInto = function (numerator) {\r\n    return new Unit(numerator).divide(this);\r\n  };\r\n\r\n  /**\r\n   * Divide this unit by another one\r\n   * @memberof Unit\r\n   * @param {Unit | numeric} other\r\n   * @return {Unit} result of dividing this unit by the other unit\r\n   */\r\n  Unit.prototype.divide = function (_other) {\r\n    var res = this.clone();\r\n    var other = isUnit(_other) ? _other : new Unit(_other);\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) - (other.dimensions[i] || 0);\r\n    }\r\n\r\n    // Invert and append other's units list onto res\r\n    for (var _i2 = 0; _i2 < other.units.length; _i2++) {\r\n      // Make a shallow copy of every unit\r\n      var inverted = _objectSpread(_objectSpread({}, other.units[_i2]), {}, {\r\n        power: -other.units[_i2].power\r\n      });\r\n      res.units.push(inverted);\r\n    }\r\n\r\n    // If at least one operand has a value, the result should have a value\r\n    if (this.value !== null || other.value !== null) {\r\n      var valThis = this.value === null ? this._normalize(one(other.value)) : this.value;\r\n      var valOther = other.value === null ? other._normalize(one(this.value)) : other.value;\r\n      res.value = divideScalar(valThis, valOther);\r\n    } else {\r\n      res.value = null;\r\n    }\r\n    if (isUnit(_other)) {\r\n      res.skipAutomaticSimplification = false;\r\n    }\r\n    return getNumericIfUnitless(res);\r\n  };\r\n\r\n  /**\r\n   * Calculate the power of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} p\r\n   * @returns {Unit}      The result: this^p\r\n   */\r\n  Unit.prototype.pow = function (p) {\r\n    var res = this.clone();\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) * p;\r\n    }\r\n\r\n    // Adjust the power of each unit in the list\r\n    for (var _i3 = 0; _i3 < res.units.length; _i3++) {\r\n      res.units[_i3].power *= p;\r\n    }\r\n    if (res.value !== null) {\r\n      res.value = pow(res.value, p);\r\n\r\n      // only allow numeric output, we don't want to return a Complex number\r\n      // if (!isNumeric(res.value)) {\r\n      //  res.value = NaN\r\n      // }\r\n      // Update: Complex supported now\r\n    } else {\r\n      res.value = null;\r\n    }\r\n    res.skipAutomaticSimplification = false;\r\n    return getNumericIfUnitless(res);\r\n  };\r\n\r\n  /**\r\n   * Return the numeric value of this unit if it is dimensionless, has a value, and config.predictable == false; or the original unit otherwise\r\n   * @param {Unit} unit\r\n   * @returns {number | Fraction | BigNumber | Unit}  The numeric value of the unit if conditions are met, or the original unit otherwise\r\n   */\r\n  function getNumericIfUnitless(unit) {\r\n    if (unit.equalBase(BASE_UNITS.NONE) && unit.value !== null && !config.predictable) {\r\n      return unit.value;\r\n    } else {\r\n      return unit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a value one with the numeric type of `typeOfValue`.\r\n   * For example, `one(new BigNumber(3))` returns `BigNumber(1)`\r\n   * @param {number | Fraction | BigNumber} typeOfValue\r\n   * @returns {number | Fraction | BigNumber}\r\n   */\r\n  function one(typeOfValue) {\r\n    // TODO: this is a workaround to prevent the following BigNumber conversion error from throwing:\r\n    //  \"TypeError: Cannot implicitly convert a number with >15 significant digits to BigNumber\"\r\n    //  see https://github.com/josdejong/mathjs/issues/3450\r\n    //      https://github.com/josdejong/mathjs/pull/3375\r\n    var convert = Unit._getNumberConverter(typeOf(typeOfValue));\r\n    return convert(1);\r\n  }\r\n\r\n  /**\r\n   * Calculate the absolute value of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} x\r\n   * @returns {Unit}      The result: |x|, absolute value of x\r\n   */\r\n  Unit.prototype.abs = function () {\r\n    var ret = this.clone();\r\n    if (ret.value !== null) {\r\n      if (ret._isDerived() || ret.units.length === 0 || ret.units[0].unit.offset === 0) {\r\n        ret.value = abs(ret.value);\r\n      } else {\r\n        // To give the correct, but unexpected, results for units with an offset.\r\n        // For example, abs(-283.15 degC) = -263.15 degC !!!\r\n        // We must take the offset into consideration here\r\n        var convert = ret._numberConverter(); // convert to Fraction or BigNumber if needed\r\n        var unitValue = convert(ret.units[0].unit.value);\r\n        var nominalOffset = convert(ret.units[0].unit.offset);\r\n        var unitOffset = multiplyScalar(unitValue, nominalOffset);\r\n        ret.value = subtractScalar(abs(addScalar(ret.value, unitOffset)), unitOffset);\r\n      }\r\n    }\r\n    for (var i in ret.units) {\r\n      if (ret.units[i].unit.name === 'VA' || ret.units[i].unit.name === 'VAR') {\r\n        ret.units[i].unit = UNITS.W;\r\n      }\r\n    }\r\n    return ret;\r\n  };\r\n\r\n  /**\r\n   * Convert the unit to a specific unit name.\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   * @returns {Unit} Returns a clone of the unit with a fixed prefix and unit.\r\n   */\r\n  Unit.prototype.to = function (valuelessUnit) {\r\n    var value = this.value === null ? this._normalize(1) : this.value;\r\n    var other;\r\n    if (typeof valuelessUnit === 'string') {\r\n      other = Unit.parse(valuelessUnit);\r\n    } else if (isUnit(valuelessUnit)) {\r\n      other = valuelessUnit.clone();\r\n    } else {\r\n      throw new Error('String or Unit expected as parameter');\r\n    }\r\n    if (!this.equalBase(other)) {\r\n      throw new Error(\"Units do not match ('\".concat(other.toString(), \"' != '\").concat(this.toString(), \"')\"));\r\n    }\r\n    if (other.value !== null) {\r\n      throw new Error('Cannot convert to a unit with a value');\r\n    }\r\n    if (this.value === null || this._isDerived() || this.units.length === 0 || other.units.length === 0 || this.units[0].unit.offset === other.units[0].unit.offset) {\r\n      other.value = clone(value);\r\n    } else {\r\n      /* Need to adjust value by difference in offset to convert */\r\n      var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n      var thisUnitValue = this.units[0].unit.value;\r\n      var thisNominalOffset = this.units[0].unit.offset;\r\n      var thisUnitOffset = multiplyScalar(thisUnitValue, thisNominalOffset);\r\n      var otherUnitValue = other.units[0].unit.value;\r\n      var otherNominalOffset = other.units[0].unit.offset;\r\n      var otherUnitOffset = multiplyScalar(otherUnitValue, otherNominalOffset);\r\n      other.value = addScalar(value, convert(subtractScalar(thisUnitOffset, otherUnitOffset)));\r\n    }\r\n    other.fixPrefix = true;\r\n    other.skipAutomaticSimplification = true;\r\n    return other;\r\n  };\r\n\r\n  /**\r\n   * Return the value of the unit when represented with given valueless unit\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number} Returns the unit value as number.\r\n   */\r\n  // TODO: deprecate Unit.toNumber? It's always better to use toNumeric\r\n  Unit.prototype.toNumber = function (valuelessUnit) {\r\n    return toNumber(this.toNumeric(valuelessUnit));\r\n  };\r\n\r\n  /**\r\n   * Return the value of the unit in the original numeric type\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number | BigNumber | Fraction} Returns the unit value\r\n   */\r\n  Unit.prototype.toNumeric = function (valuelessUnit) {\r\n    var other;\r\n    if (valuelessUnit) {\r\n      // Allow getting the numeric value without converting to a different unit\r\n      other = this.to(valuelessUnit);\r\n    } else {\r\n      other = this.clone();\r\n    }\r\n    if (other._isDerived() || other.units.length === 0) {\r\n      return other._denormalize(other.value);\r\n    } else {\r\n      return other._denormalize(other.value, other.units[0].prefix.value);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Get a string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n  Unit.prototype.toString = function () {\r\n    return this.format();\r\n  };\r\n\r\n  /**\r\n   * Get a JSON representation of the unit\r\n   * @memberof Unit\r\n   * @returns {Object} Returns a JSON object structured as:\r\n   *                   `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false, \"skipSimp\": true}`\r\n   */\r\n  Unit.prototype.toJSON = function () {\r\n    return {\r\n      mathjs: 'Unit',\r\n      value: this._denormalize(this.value),\r\n      unit: this.units.length > 0 ? this.formatUnits() : null,\r\n      fixPrefix: this.fixPrefix,\r\n      skipSimp: this.skipAutomaticSimplification\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Instantiate a Unit from a JSON object\r\n   * @memberof Unit\r\n   * @param {Object} json  A JSON object structured as:\r\n   *                       `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   * @return {Unit}\r\n   */\r\n  Unit.fromJSON = function (json) {\r\n    var _json$unit, _json$fixPrefix, _json$skipSimp;\r\n    var unit = new Unit(json.value, (_json$unit = json.unit) !== null && _json$unit !== void 0 ? _json$unit : undefined);\r\n    unit.fixPrefix = (_json$fixPrefix = json.fixPrefix) !== null && _json$fixPrefix !== void 0 ? _json$fixPrefix : fixPrefixDefault;\r\n    unit.skipAutomaticSimplification = (_json$skipSimp = json.skipSimp) !== null && _json$skipSimp !== void 0 ? _json$skipSimp : skipAutomaticSimplificationDefault;\r\n    return unit;\r\n  };\r\n\r\n  /**\r\n   * Returns the string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n  Unit.prototype.valueOf = Unit.prototype.toString;\r\n\r\n  /**\r\n   * Simplify this Unit's unit list and return a new Unit with the simplified list.\r\n   * The returned Unit will contain a list of the \"best\" units for formatting.\r\n   */\r\n  Unit.prototype.simplify = function () {\r\n    var ret = this.clone();\r\n    var proposedUnitList = [];\r\n\r\n    // Search for a matching base\r\n    var matchingBase;\r\n    for (var key in currentUnitSystem) {\r\n      if (hasOwnProperty(currentUnitSystem, key)) {\r\n        if (ret.hasBase(BASE_UNITS[key])) {\r\n          matchingBase = key;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (matchingBase === 'NONE') {\r\n      ret.units = [];\r\n    } else {\r\n      var matchingUnit;\r\n      if (matchingBase) {\r\n        // Does the unit system have a matching unit?\r\n        if (hasOwnProperty(currentUnitSystem, matchingBase)) {\r\n          matchingUnit = currentUnitSystem[matchingBase];\r\n        }\r\n      }\r\n      if (matchingUnit) {\r\n        ret.units = [{\r\n          unit: matchingUnit.unit,\r\n          prefix: matchingUnit.prefix,\r\n          power: 1.0\r\n        }];\r\n      } else {\r\n        // Multiple units or units with powers are formatted like this:\r\n        // 5 (kg m^2) / (s^3 mol)\r\n        // Build an representation from the base units of the current unit system\r\n        var missingBaseDim = false;\r\n        for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n          var baseDim = BASE_DIMENSIONS[i];\r\n          if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\r\n            if (hasOwnProperty(currentUnitSystem, baseDim)) {\r\n              proposedUnitList.push({\r\n                unit: currentUnitSystem[baseDim].unit,\r\n                prefix: currentUnitSystem[baseDim].prefix,\r\n                power: ret.dimensions[i] || 0\r\n              });\r\n            } else {\r\n              missingBaseDim = true;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Is the proposed unit list \"simpler\" than the existing one?\r\n        if (proposedUnitList.length < ret.units.length && !missingBaseDim) {\r\n          // Replace this unit list with the proposed list\r\n          ret.units = proposedUnitList;\r\n        }\r\n      }\r\n    }\r\n    return ret;\r\n  };\r\n\r\n  /**\r\n   * Returns a new Unit in the SI system with the same value as this one\r\n   */\r\n  Unit.prototype.toSI = function () {\r\n    var ret = this.clone();\r\n    var proposedUnitList = [];\r\n\r\n    // Multiple units or units with powers are formatted like this:\r\n    // 5 (kg m^2) / (s^3 mol)\r\n    // Build an representation from the base units of the SI unit system\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      var baseDim = BASE_DIMENSIONS[i];\r\n      if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\r\n        if (hasOwnProperty(UNIT_SYSTEMS.si, baseDim)) {\r\n          proposedUnitList.push({\r\n            unit: UNIT_SYSTEMS.si[baseDim].unit,\r\n            prefix: UNIT_SYSTEMS.si[baseDim].prefix,\r\n            power: ret.dimensions[i] || 0\r\n          });\r\n        } else {\r\n          throw new Error('Cannot express custom unit ' + baseDim + ' in SI units');\r\n        }\r\n      }\r\n    }\r\n\r\n    // Replace this unit list with the proposed list\r\n    ret.units = proposedUnitList;\r\n    ret.fixPrefix = true;\r\n    ret.skipAutomaticSimplification = true;\r\n    if (this.value !== null) {\r\n      ret.value = null;\r\n      return this.to(ret);\r\n    }\r\n    return ret;\r\n  };\r\n\r\n  /**\r\n   * Get a string representation of the units of this Unit, without the value. The unit list is formatted as-is without first being simplified.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n  Unit.prototype.formatUnits = function () {\r\n    var strNum = '';\r\n    var strDen = '';\r\n    var nNum = 0;\r\n    var nDen = 0;\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      if (this.units[i].power > 0) {\r\n        nNum++;\r\n        strNum += ' ' + this.units[i].prefix.name + this.units[i].unit.name;\r\n        if (Math.abs(this.units[i].power - 1.0) > 1e-15) {\r\n          strNum += '^' + this.units[i].power;\r\n        }\r\n      } else if (this.units[i].power < 0) {\r\n        nDen++;\r\n      }\r\n    }\r\n    if (nDen > 0) {\r\n      for (var _i4 = 0; _i4 < this.units.length; _i4++) {\r\n        if (this.units[_i4].power < 0) {\r\n          if (nNum > 0) {\r\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\r\n            if (Math.abs(this.units[_i4].power + 1.0) > 1e-15) {\r\n              strDen += '^' + -this.units[_i4].power;\r\n            }\r\n          } else {\r\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\r\n            strDen += '^' + this.units[_i4].power;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // Remove leading \" \"\r\n    strNum = strNum.substr(1);\r\n    strDen = strDen.substr(1);\r\n\r\n    // Add parans for better copy/paste back into evaluate, for example, or for better pretty print formatting\r\n    if (nNum > 1 && nDen > 0) {\r\n      strNum = '(' + strNum + ')';\r\n    }\r\n    if (nDen > 1 && nNum > 0) {\r\n      strDen = '(' + strDen + ')';\r\n    }\r\n    var str = strNum;\r\n    if (nNum > 0 && nDen > 0) {\r\n      str += ' / ';\r\n    }\r\n    str += strDen;\r\n    return str;\r\n  };\r\n\r\n  /**\r\n   * Get a unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {string[] | Unit[]} [units]  Array of units strings or valueLess Unit objects in wich choose the best one\r\n   * @param {Object} [options]  Options for parsing the unit. See parseUnit for details.\r\n   *\r\n   * @return {Unit} Returns a new Unit with the given value and unit.\r\n   */\r\n  Unit.prototype.toBest = function () {\r\n    var unitList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    if (unitList && !Array.isArray(unitList)) {\r\n      throw new Error('Invalid unit type. Expected string or Unit.');\r\n    }\r\n    var startPrefixes = this.units[0].unit.prefixes;\r\n    if (unitList && unitList.length > 0) {\r\n      var unitObjects = unitList.map(u => {\r\n        var unit = null;\r\n        if (typeof u === 'string') {\r\n          unit = Unit.parse(u);\r\n          if (!unit) {\r\n            throw new Error('Invalid unit type. Expected compatible string or Unit.');\r\n          }\r\n        } else if (!isUnit(u)) {\r\n          throw new Error('Invalid unit type. Expected compatible string or Unit.');\r\n        }\r\n        if (unit === null) {\r\n          unit = u.clone();\r\n        }\r\n        try {\r\n          this.to(unit.formatUnits());\r\n          return unit;\r\n        } catch (e) {\r\n          throw new Error('Invalid unit type. Expected compatible string or Unit.');\r\n        }\r\n      });\r\n      var prefixes = unitObjects.map(el => el.units[0].prefix);\r\n      this.units[0].unit.prefixes = prefixes.reduce((acc, prefix) => {\r\n        acc[prefix.name] = prefix;\r\n        return acc;\r\n      }, {});\r\n      this.units[0].prefix = prefixes[0];\r\n    }\r\n    var result = formatBest(this, options).simp;\r\n    this.units[0].unit.prefixes = startPrefixes;\r\n    result.fixPrefix = true;\r\n    return result;\r\n  };\r\n  /**\r\n   * Get a string representation of the Unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {Object | number | Function} [options]  Formatting options. See\r\n   *                                                lib/utils/number:format for a\r\n   *                                                description of the available\r\n   *                                                options.\r\n   * @return {string}\r\n   */\r\n  Unit.prototype.format = function (options) {\r\n    var {\r\n      simp,\r\n      valueStr,\r\n      unitStr\r\n    } = formatBest(this, options);\r\n    var str = valueStr;\r\n    if (simp.value && isComplex(simp.value)) {\r\n      str = '(' + str + ')'; // Surround complex values with ( ) to enable better parsing\r\n    }\r\n    if (unitStr.length > 0 && str.length > 0) {\r\n      str += ' ';\r\n    }\r\n    str += unitStr;\r\n    return str;\r\n  };\r\n\r\n  /**\r\n  * Helper function to normalize a unit for conversion and formatting\r\n  * @param {Unit} unit The unit to be normalized\r\n  * @return {Object} Object with normalized unit and value\r\n  * @private\r\n  */\r\n  function formatBest(unit) {\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    // Simplfy the unit list, unless it is valueless or was created directly in the\r\n    // constructor or as the result of to or toSI\r\n    var simp = unit.skipAutomaticSimplification || unit.value === null ? unit.clone() : unit.simplify();\r\n\r\n    // Apply some custom logic for handling VA and VAR. The goal is to express the value of the unit as a real value, if possible. Otherwise, use a real-valued unit instead of a complex-valued one.\r\n    handleVAandVARUnits(simp);\r\n    // Now apply the best prefix\r\n    // Units must have only one unit and not have the fixPrefix flag set\r\n    applyBestPrefixIfNeeded(simp, options.offset);\r\n    var value = simp._denormalize(simp.value);\r\n    var valueStr = simp.value !== null ? format(value, options || {}) : '';\r\n    var unitStr = simp.formatUnits();\r\n    return {\r\n      simp,\r\n      valueStr,\r\n      unitStr\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Helper to handle VA and VAR units\r\n   * @param {Unit} simp The unit to be normalized\r\n   */\r\n  function handleVAandVARUnits(simp) {\r\n    var isImaginary = false;\r\n    if (typeof simp.value !== 'undefined' && simp.value !== null && isComplex(simp.value)) {\r\n      // TODO: Make this better, for example, use relative magnitude of re and im rather than absolute\r\n      isImaginary = Math.abs(simp.value.re) < 1e-14;\r\n    }\r\n    for (var i in simp.units) {\r\n      if (hasOwnProperty(simp.units, i)) {\r\n        if (simp.units[i].unit) {\r\n          if (simp.units[i].unit.name === 'VA' && isImaginary) {\r\n            simp.units[i].unit = UNITS.VAR;\r\n          } else if (simp.units[i].unit.name === 'VAR' && !isImaginary) {\r\n            simp.units[i].unit = UNITS.VA;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Helper to apply the best prefix if needed\r\n   * @param {Unit} simp The unit to be normalized\r\n   */\r\n  function applyBestPrefixIfNeeded(simp, offset) {\r\n    if (simp.units.length === 1 && !simp.fixPrefix) {\r\n      // Units must have integer powers, otherwise the prefix will change the\r\n      // outputted value by not-an-integer-power-of-ten\r\n      if (Math.abs(simp.units[0].power - Math.round(simp.units[0].power)) < 1e-14) {\r\n        // Apply the best prefix\r\n        simp.units[0].prefix = simp._bestPrefix(offset);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate the best prefix using current value.\r\n   * @memberof Unit\r\n   * @returns {Object} prefix\r\n   * @param {number} [offset]  Optional offset for the best prefix calculation (default 1.2)\r\n   * @private\r\n   */\r\n  Unit.prototype._bestPrefix = function () {\r\n    var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.2;\r\n    if (this.units.length !== 1) {\r\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\r\n    }\r\n    if (Math.abs(this.units[0].power - Math.round(this.units[0].power)) >= 1e-14) {\r\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\r\n    }\r\n\r\n    // find the best prefix value (resulting in the value of which\r\n    // the absolute value of the log10 is closest to zero,\r\n    // though with a little offset of 1.2 for nicer values: you get a\r\n    // sequence 1mm 100mm 500mm 0.6m 1m 10m 100m 500m 0.6km 1km ...\r\n\r\n    // Note: the units value can be any numeric type, but to find the best\r\n    // prefix it's enough to work with limited precision of a regular number\r\n    // Update: using mathjs abs since we also allow complex numbers\r\n    var absValue = this.value !== null ? abs(this.value) : 0;\r\n    var absUnitValue = abs(this.units[0].unit.value);\r\n    var bestPrefix = this.units[0].prefix;\r\n    if (absValue === 0) {\r\n      return bestPrefix;\r\n    }\r\n    var power = this.units[0].power;\r\n    var bestDiff = Math.log(absValue / Math.pow(bestPrefix.value * absUnitValue, power)) / Math.LN10 - offset;\r\n    if (bestDiff > -2.200001 && bestDiff < 1.800001) return bestPrefix; // Allow the original prefix\r\n    bestDiff = Math.abs(bestDiff);\r\n    var prefixes = this.units[0].unit.prefixes;\r\n    for (var p in prefixes) {\r\n      if (hasOwnProperty(prefixes, p)) {\r\n        var prefix = prefixes[p];\r\n        if (prefix.scientific) {\r\n          var diff = Math.abs(Math.log(absValue / Math.pow(prefix.value * absUnitValue, power)) / Math.LN10 - offset);\r\n          if (diff < bestDiff || diff === bestDiff && prefix.name.length < bestPrefix.name.length) {\r\n            // choose the prefix with the smallest diff, or if equal, choose the one\r\n            // with the shortest name (can happen with SHORTLONG for example)\r\n            bestPrefix = prefix;\r\n            bestDiff = diff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return bestPrefix;\r\n  };\r\n\r\n  /**\r\n   * Returns an array of units whose sum is equal to this unit\r\n   * @memberof Unit\r\n   * @param {Array} [parts] An array of strings or valueless units.\r\n   *\r\n   *   Example:\r\n   *\r\n   *   const u = new Unit(1, 'm')\r\n   *   u.splitUnit(['feet', 'inch'])\r\n   *     [ 3 feet, 3.3700787401575 inch ]\r\n   *\r\n   * @return {Array} An array of units.\r\n   */\r\n  Unit.prototype.splitUnit = function (parts) {\r\n    var x = this.clone();\r\n    var ret = [];\r\n    for (var i = 0; i < parts.length; i++) {\r\n      // Convert x to the requested unit\r\n      x = x.to(parts[i]);\r\n      if (i === parts.length - 1) break;\r\n\r\n      // Get the numeric value of this unit\r\n      var xNumeric = x.toNumeric();\r\n\r\n      // Check to see if xNumeric is nearly equal to an integer,\r\n      // since fix can incorrectly round down if there is round-off error\r\n      var xRounded = round(xNumeric);\r\n      var xFixed = void 0;\r\n      var isNearlyEqual = equal(xRounded, xNumeric);\r\n      if (isNearlyEqual) {\r\n        xFixed = xRounded;\r\n      } else {\r\n        xFixed = fix(x.toNumeric());\r\n      }\r\n      var y = new Unit(xFixed, parts[i].toString());\r\n      ret.push(y);\r\n      x = subtractScalar(x, y);\r\n    }\r\n\r\n    // This little bit fixes a bug where the remainder should be 0 but is a little bit off.\r\n    // But instead of comparing x, the remainder, with zero--we will compare the sum of\r\n    // all the parts so far with the original value. If they are nearly equal,\r\n    // we set the remainder to 0.\r\n    var testSum = 0;\r\n    for (var _i5 = 0; _i5 < ret.length; _i5++) {\r\n      testSum = addScalar(testSum, ret[_i5].value);\r\n    }\r\n    if (equal(testSum, this.value)) {\r\n      x.value = 0;\r\n    }\r\n    ret.push(x);\r\n    return ret;\r\n  };\r\n  var PREFIXES = {\r\n    NONE: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      }\r\n    },\r\n    SHORT: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e1,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      R: {\r\n        name: 'R',\r\n        value: 1e27,\r\n        scientific: true\r\n      },\r\n      Q: {\r\n        name: 'Q',\r\n        value: 1e30,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-1,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-3,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-15,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-21,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-24,\r\n        scientific: true\r\n      },\r\n      r: {\r\n        name: 'r',\r\n        value: 1e-27,\r\n        scientific: true\r\n      },\r\n      q: {\r\n        name: 'q',\r\n        value: 1e-30,\r\n        scientific: true\r\n      }\r\n    },\r\n    LONG: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      deca: {\r\n        name: 'deca',\r\n        value: 1e1,\r\n        scientific: false\r\n      },\r\n      hecto: {\r\n        name: 'hecto',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      kilo: {\r\n        name: 'kilo',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      mega: {\r\n        name: 'mega',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      giga: {\r\n        name: 'giga',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      tera: {\r\n        name: 'tera',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      peta: {\r\n        name: 'peta',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      exa: {\r\n        name: 'exa',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      zetta: {\r\n        name: 'zetta',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      yotta: {\r\n        name: 'yotta',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      ronna: {\r\n        name: 'ronna',\r\n        value: 1e27,\r\n        scientific: true\r\n      },\r\n      quetta: {\r\n        name: 'quetta',\r\n        value: 1e30,\r\n        scientific: true\r\n      },\r\n      deci: {\r\n        name: 'deci',\r\n        value: 1e-1,\r\n        scientific: false\r\n      },\r\n      centi: {\r\n        name: 'centi',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      milli: {\r\n        name: 'milli',\r\n        value: 1e-3,\r\n        scientific: true\r\n      },\r\n      micro: {\r\n        name: 'micro',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      nano: {\r\n        name: 'nano',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      pico: {\r\n        name: 'pico',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      femto: {\r\n        name: 'femto',\r\n        value: 1e-15,\r\n        scientific: true\r\n      },\r\n      atto: {\r\n        name: 'atto',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      zepto: {\r\n        name: 'zepto',\r\n        value: 1e-21,\r\n        scientific: true\r\n      },\r\n      yocto: {\r\n        name: 'yocto',\r\n        value: 1e-24,\r\n        scientific: true\r\n      },\r\n      ronto: {\r\n        name: 'ronto',\r\n        value: 1e-27,\r\n        scientific: true\r\n      },\r\n      quecto: {\r\n        name: 'quecto',\r\n        value: 1e-30,\r\n        scientific: true\r\n      }\r\n    },\r\n    SQUARED: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e4,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e30,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e36,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e42,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e48,\r\n        scientific: true\r\n      },\r\n      R: {\r\n        name: 'R',\r\n        value: 1e54,\r\n        scientific: true\r\n      },\r\n      Q: {\r\n        name: 'Q',\r\n        value: 1e60,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-4,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-24,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-30,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-36,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-42,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-48,\r\n        scientific: true\r\n      },\r\n      r: {\r\n        name: 'r',\r\n        value: 1e-54,\r\n        scientific: true\r\n      },\r\n      q: {\r\n        name: 'q',\r\n        value: 1e-60,\r\n        scientific: true\r\n      }\r\n    },\r\n    CUBIC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e3,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e6,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e27,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e36,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e45,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e54,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e63,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e72,\r\n        scientific: true\r\n      },\r\n      R: {\r\n        name: 'R',\r\n        value: 1e81,\r\n        scientific: true\r\n      },\r\n      Q: {\r\n        name: 'Q',\r\n        value: 1e90,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-3,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-6,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-27,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-36,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-45,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-54,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-63,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-72,\r\n        scientific: true\r\n      },\r\n      r: {\r\n        name: 'r',\r\n        value: 1e-81,\r\n        scientific: true\r\n      },\r\n      q: {\r\n        name: 'q',\r\n        value: 1e-90,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_SHORT_SI: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e24,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_SHORT_IEC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      Ki: {\r\n        name: 'Ki',\r\n        value: 1024,\r\n        scientific: true\r\n      },\r\n      Mi: {\r\n        name: 'Mi',\r\n        value: Math.pow(1024, 2),\r\n        scientific: true\r\n      },\r\n      Gi: {\r\n        name: 'Gi',\r\n        value: Math.pow(1024, 3),\r\n        scientific: true\r\n      },\r\n      Ti: {\r\n        name: 'Ti',\r\n        value: Math.pow(1024, 4),\r\n        scientific: true\r\n      },\r\n      Pi: {\r\n        name: 'Pi',\r\n        value: Math.pow(1024, 5),\r\n        scientific: true\r\n      },\r\n      Ei: {\r\n        name: 'Ei',\r\n        value: Math.pow(1024, 6),\r\n        scientific: true\r\n      },\r\n      Zi: {\r\n        name: 'Zi',\r\n        value: Math.pow(1024, 7),\r\n        scientific: true\r\n      },\r\n      Yi: {\r\n        name: 'Yi',\r\n        value: Math.pow(1024, 8),\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_LONG_SI: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      kilo: {\r\n        name: 'kilo',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      mega: {\r\n        name: 'mega',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      giga: {\r\n        name: 'giga',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      tera: {\r\n        name: 'tera',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      peta: {\r\n        name: 'peta',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      exa: {\r\n        name: 'exa',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      zetta: {\r\n        name: 'zetta',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      yotta: {\r\n        name: 'yotta',\r\n        value: 1e24,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_LONG_IEC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      kibi: {\r\n        name: 'kibi',\r\n        value: 1024,\r\n        scientific: true\r\n      },\r\n      mebi: {\r\n        name: 'mebi',\r\n        value: Math.pow(1024, 2),\r\n        scientific: true\r\n      },\r\n      gibi: {\r\n        name: 'gibi',\r\n        value: Math.pow(1024, 3),\r\n        scientific: true\r\n      },\r\n      tebi: {\r\n        name: 'tebi',\r\n        value: Math.pow(1024, 4),\r\n        scientific: true\r\n      },\r\n      pebi: {\r\n        name: 'pebi',\r\n        value: Math.pow(1024, 5),\r\n        scientific: true\r\n      },\r\n      exi: {\r\n        name: 'exi',\r\n        value: Math.pow(1024, 6),\r\n        scientific: true\r\n      },\r\n      zebi: {\r\n        name: 'zebi',\r\n        value: Math.pow(1024, 7),\r\n        scientific: true\r\n      },\r\n      yobi: {\r\n        name: 'yobi',\r\n        value: Math.pow(1024, 8),\r\n        scientific: true\r\n      }\r\n    },\r\n    BTU: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      MM: {\r\n        name: 'MM',\r\n        value: 1e6,\r\n        scientific: true\r\n      }\r\n    }\r\n  };\r\n  PREFIXES.SHORTLONG = _extends({}, PREFIXES.SHORT, PREFIXES.LONG);\r\n  PREFIXES.BINARY_SHORT = _extends({}, PREFIXES.BINARY_SHORT_SI, PREFIXES.BINARY_SHORT_IEC);\r\n  PREFIXES.BINARY_LONG = _extends({}, PREFIXES.BINARY_LONG_SI, PREFIXES.BINARY_LONG_IEC);\r\n\r\n  /* Internally, each unit is represented by a value and a dimension array. The elements of the dimensions array have the following meaning:\r\n   * Index  Dimension\r\n   * -----  ---------\r\n   *   0    Length\r\n   *   1    Mass\r\n   *   2    Time\r\n   *   3    Current\r\n   *   4    Temperature\r\n   *   5    Luminous intensity\r\n   *   6    Amount of substance\r\n   *   7    Angle\r\n   *   8    Bit (digital)\r\n   * For example, the unit \"298.15 K\" is a pure temperature and would have a value of 298.15 and a dimension array of [0, 0, 0, 0, 1, 0, 0, 0, 0]. The unit \"1 cal / (gm C)\" can be written in terms of the 9 fundamental dimensions as [length^2] / ([time^2] * [temperature]), and would a value of (after conversion to SI) 4184.0 and a dimensions array of [2, 0, -2, 0, -1, 0, 0, 0, 0].\r\n   *\r\n   */\r\n\r\n  var BASE_DIMENSIONS = ['MASS', 'LENGTH', 'TIME', 'CURRENT', 'TEMPERATURE', 'LUMINOUS_INTENSITY', 'AMOUNT_OF_SUBSTANCE', 'ANGLE', 'BIT'];\r\n  var BASE_UNITS = {\r\n    NONE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    MASS: {\r\n      dimensions: [1, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    LENGTH: {\r\n      dimensions: [0, 1, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    TIME: {\r\n      dimensions: [0, 0, 1, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    CURRENT: {\r\n      dimensions: [0, 0, 0, 1, 0, 0, 0, 0, 0]\r\n    },\r\n    TEMPERATURE: {\r\n      dimensions: [0, 0, 0, 0, 1, 0, 0, 0, 0]\r\n    },\r\n    LUMINOUS_INTENSITY: {\r\n      dimensions: [0, 0, 0, 0, 0, 1, 0, 0, 0]\r\n    },\r\n    AMOUNT_OF_SUBSTANCE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 1, 0, 0]\r\n    },\r\n    FORCE: {\r\n      dimensions: [1, 1, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    SURFACE: {\r\n      dimensions: [0, 2, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    VOLUME: {\r\n      dimensions: [0, 3, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ENERGY: {\r\n      dimensions: [1, 2, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    POWER: {\r\n      dimensions: [1, 2, -3, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    PRESSURE: {\r\n      dimensions: [1, -1, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CHARGE: {\r\n      dimensions: [0, 0, 1, 1, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CAPACITANCE: {\r\n      dimensions: [-1, -2, 4, 2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_POTENTIAL: {\r\n      dimensions: [1, 2, -3, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_RESISTANCE: {\r\n      dimensions: [1, 2, -3, -2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_INDUCTANCE: {\r\n      dimensions: [1, 2, -2, -2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CONDUCTANCE: {\r\n      dimensions: [-1, -2, 3, 2, 0, 0, 0, 0, 0]\r\n    },\r\n    MAGNETIC_FLUX: {\r\n      dimensions: [1, 2, -2, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    MAGNETIC_FLUX_DENSITY: {\r\n      dimensions: [1, 0, -2, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    FREQUENCY: {\r\n      dimensions: [0, 0, -1, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ANGLE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 1, 0]\r\n    },\r\n    BIT: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 1]\r\n    }\r\n  };\r\n  for (var key in BASE_UNITS) {\r\n    if (hasOwnProperty(BASE_UNITS, key)) {\r\n      BASE_UNITS[key].key = key;\r\n    }\r\n  }\r\n  var BASE_UNIT_NONE = {};\r\n  var UNIT_NONE = {\r\n    name: '',\r\n    base: BASE_UNIT_NONE,\r\n    value: 1,\r\n    offset: 0,\r\n    dimensions: BASE_DIMENSIONS.map(x => 0)\r\n  };\r\n  var UNITS = {\r\n    // length\r\n    meter: {\r\n      name: 'meter',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    inch: {\r\n      name: 'inch',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0254,\r\n      offset: 0\r\n    },\r\n    foot: {\r\n      name: 'foot',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.3048,\r\n      offset: 0\r\n    },\r\n    yard: {\r\n      name: 'yard',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.9144,\r\n      offset: 0\r\n    },\r\n    mile: {\r\n      name: 'mile',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1609.344,\r\n      offset: 0\r\n    },\r\n    link: {\r\n      name: 'link',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.201168,\r\n      offset: 0\r\n    },\r\n    rod: {\r\n      name: 'rod',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5.0292,\r\n      offset: 0\r\n    },\r\n    chain: {\r\n      name: 'chain',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 20.1168,\r\n      offset: 0\r\n    },\r\n    angstrom: {\r\n      name: 'angstrom',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1e-10,\r\n      offset: 0\r\n    },\r\n    m: {\r\n      name: 'm',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    in: {\r\n      name: 'in',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0254,\r\n      offset: 0\r\n    },\r\n    ft: {\r\n      name: 'ft',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.3048,\r\n      offset: 0\r\n    },\r\n    yd: {\r\n      name: 'yd',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.9144,\r\n      offset: 0\r\n    },\r\n    mi: {\r\n      name: 'mi',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1609.344,\r\n      offset: 0\r\n    },\r\n    li: {\r\n      name: 'li',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.201168,\r\n      offset: 0\r\n    },\r\n    rd: {\r\n      name: 'rd',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5.029210,\r\n      offset: 0\r\n    },\r\n    ch: {\r\n      name: 'ch',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 20.1168,\r\n      offset: 0\r\n    },\r\n    mil: {\r\n      name: 'mil',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000254,\r\n      offset: 0\r\n    },\r\n    // 1/1000 inch\r\n\r\n    // Surface\r\n    m2: {\r\n      name: 'm2',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.SQUARED,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    sqin: {\r\n      name: 'sqin',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00064516,\r\n      offset: 0\r\n    },\r\n    // 645.16 mm2\r\n    sqft: {\r\n      name: 'sqft',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.09290304,\r\n      offset: 0\r\n    },\r\n    // 0.09290304 m2\r\n    sqyd: {\r\n      name: 'sqyd',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.83612736,\r\n      offset: 0\r\n    },\r\n    // 0.83612736 m2\r\n    sqmi: {\r\n      name: 'sqmi',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 2589988.110336,\r\n      offset: 0\r\n    },\r\n    // 2.589988110336 km2\r\n    sqrd: {\r\n      name: 'sqrd',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 25.29295,\r\n      offset: 0\r\n    },\r\n    // 25.29295 m2\r\n    sqch: {\r\n      name: 'sqch',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 404.6873,\r\n      offset: 0\r\n    },\r\n    // 404.6873 m2\r\n    sqmil: {\r\n      name: 'sqmil',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6.4516e-10,\r\n      offset: 0\r\n    },\r\n    // 6.4516 * 10^-10 m2\r\n    acre: {\r\n      name: 'acre',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4046.86,\r\n      offset: 0\r\n    },\r\n    // 4046.86 m2\r\n    hectare: {\r\n      name: 'hectare',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 10000,\r\n      offset: 0\r\n    },\r\n    // 10000 m2\r\n\r\n    // Volume\r\n    m3: {\r\n      name: 'm3',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.CUBIC,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    L: {\r\n      name: 'L',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    // litre\r\n    l: {\r\n      name: 'l',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    // litre\r\n    litre: {\r\n      name: 'litre',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    cuin: {\r\n      name: 'cuin',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.6387064e-5,\r\n      offset: 0\r\n    },\r\n    // 1.6387064e-5 m3\r\n    cuft: {\r\n      name: 'cuft',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.028316846592,\r\n      offset: 0\r\n    },\r\n    // 28.316 846 592 L\r\n    cuyd: {\r\n      name: 'cuyd',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.764554857984,\r\n      offset: 0\r\n    },\r\n    // 764.554 857 984 L\r\n    teaspoon: {\r\n      name: 'teaspoon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000005,\r\n      offset: 0\r\n    },\r\n    // 5 mL\r\n    tablespoon: {\r\n      name: 'tablespoon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000015,\r\n      offset: 0\r\n    },\r\n    // 15 mL\r\n    // {name: 'cup', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.000240, offset: 0}, // 240 mL  // not possible, we have already another cup\r\n    drop: {\r\n      name: 'drop',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5e-8,\r\n      offset: 0\r\n    },\r\n    // 0.05 mL = 5e-8 m3\r\n    gtt: {\r\n      name: 'gtt',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5e-8,\r\n      offset: 0\r\n    },\r\n    // 0.05 mL = 5e-8 m3\r\n\r\n    // Liquid volume\r\n    minim: {\r\n      name: 'minim',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000000061611519921875,\r\n      offset: 0\r\n    },\r\n    // 1/61440 gallons\r\n    fluiddram: {\r\n      name: 'fluiddram',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000036966911953125,\r\n      offset: 0\r\n    },\r\n    // 1/1024 gallons\r\n    fluidounce: {\r\n      name: 'fluidounce',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000295735295625,\r\n      offset: 0\r\n    },\r\n    // 1/128 gallons\r\n    gill: {\r\n      name: 'gill',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00011829411825,\r\n      offset: 0\r\n    },\r\n    // 1/32 gallons\r\n    cc: {\r\n      name: 'cc',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1e-6,\r\n      offset: 0\r\n    },\r\n    // 1e-6 L\r\n    cup: {\r\n      name: 'cup',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0002365882365,\r\n      offset: 0\r\n    },\r\n    // 1/16 gallons\r\n    pint: {\r\n      name: 'pint',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000473176473,\r\n      offset: 0\r\n    },\r\n    // 1/8 gallons\r\n    quart: {\r\n      name: 'quart',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000946352946,\r\n      offset: 0\r\n    },\r\n    // 1/4 gallons\r\n    gallon: {\r\n      name: 'gallon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.003785411784,\r\n      offset: 0\r\n    },\r\n    // 3.785411784 L\r\n    beerbarrel: {\r\n      name: 'beerbarrel',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.117347765304,\r\n      offset: 0\r\n    },\r\n    // 31 gallons\r\n    oilbarrel: {\r\n      name: 'oilbarrel',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.158987294928,\r\n      offset: 0\r\n    },\r\n    // 42 gallons\r\n    hogshead: {\r\n      name: 'hogshead',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.238480942392,\r\n      offset: 0\r\n    },\r\n    // 63 gallons\r\n\r\n    // Mass\r\n    g: {\r\n      name: 'g',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    gram: {\r\n      name: 'gram',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    ton: {\r\n      name: 'ton',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 907.18474,\r\n      offset: 0\r\n    },\r\n    t: {\r\n      name: 't',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1000,\r\n      offset: 0\r\n    },\r\n    tonne: {\r\n      name: 'tonne',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1000,\r\n      offset: 0\r\n    },\r\n    grain: {\r\n      name: 'grain',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 64.79891e-6,\r\n      offset: 0\r\n    },\r\n    dram: {\r\n      name: 'dram',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.7718451953125e-3,\r\n      offset: 0\r\n    },\r\n    ounce: {\r\n      name: 'ounce',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 28.349523125e-3,\r\n      offset: 0\r\n    },\r\n    poundmass: {\r\n      name: 'poundmass',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 453.59237e-3,\r\n      offset: 0\r\n    },\r\n    hundredweight: {\r\n      name: 'hundredweight',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 45.359237,\r\n      offset: 0\r\n    },\r\n    stick: {\r\n      name: 'stick',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 115e-3,\r\n      offset: 0\r\n    },\r\n    stone: {\r\n      name: 'stone',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6.35029318,\r\n      offset: 0\r\n    },\r\n    gr: {\r\n      name: 'gr',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 64.79891e-6,\r\n      offset: 0\r\n    },\r\n    dr: {\r\n      name: 'dr',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.7718451953125e-3,\r\n      offset: 0\r\n    },\r\n    oz: {\r\n      name: 'oz',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 28.349523125e-3,\r\n      offset: 0\r\n    },\r\n    lbm: {\r\n      name: 'lbm',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 453.59237e-3,\r\n      offset: 0\r\n    },\r\n    cwt: {\r\n      name: 'cwt',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 45.359237,\r\n      offset: 0\r\n    },\r\n    // Time\r\n    s: {\r\n      name: 's',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    min: {\r\n      name: 'min',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 60,\r\n      offset: 0\r\n    },\r\n    h: {\r\n      name: 'h',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    second: {\r\n      name: 'second',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    sec: {\r\n      name: 'sec',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    minute: {\r\n      name: 'minute',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 60,\r\n      offset: 0\r\n    },\r\n    hour: {\r\n      name: 'hour',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    day: {\r\n      name: 'day',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 86400,\r\n      offset: 0\r\n    },\r\n    week: {\r\n      name: 'week',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 7 * 86400,\r\n      offset: 0\r\n    },\r\n    month: {\r\n      name: 'month',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 2629800,\r\n      // 1/12th of Julian year\r\n      offset: 0\r\n    },\r\n    year: {\r\n      name: 'year',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 31557600,\r\n      // Julian year\r\n      offset: 0\r\n    },\r\n    decade: {\r\n      name: 'decade',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 315576000,\r\n      // Julian decade\r\n      offset: 0\r\n    },\r\n    century: {\r\n      name: 'century',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3155760000,\r\n      // Julian century\r\n      offset: 0\r\n    },\r\n    millennium: {\r\n      name: 'millennium',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 31557600000,\r\n      // Julian millennium\r\n      offset: 0\r\n    },\r\n    // Frequency\r\n    hertz: {\r\n      name: 'Hertz',\r\n      base: BASE_UNITS.FREQUENCY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0,\r\n      reciprocal: true\r\n    },\r\n    Hz: {\r\n      name: 'Hz',\r\n      base: BASE_UNITS.FREQUENCY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0,\r\n      reciprocal: true\r\n    },\r\n    // Angle\r\n    rad: {\r\n      name: 'rad',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    radian: {\r\n      name: 'radian',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // deg = rad / (2*pi) * 360 = rad / 0.017453292519943295769236907684888\r\n    deg: {\r\n      name: 'deg',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    degree: {\r\n      name: 'degree',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // grad = rad / (2*pi) * 400  = rad / 0.015707963267948966192313216916399\r\n    grad: {\r\n      name: 'grad',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    gradian: {\r\n      name: 'gradian',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // cycle = rad / (2*pi) = rad / 6.2831853071795864769252867665793\r\n    cycle: {\r\n      name: 'cycle',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // arcsec = rad / (3600 * (360 / 2 * pi)) = rad / 0.0000048481368110953599358991410235795\r\n    arcsec: {\r\n      name: 'arcsec',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // arcmin = rad / (60 * (360 / 2 * pi)) = rad / 0.00029088820866572159615394846141477\r\n    arcmin: {\r\n      name: 'arcmin',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // Electric current\r\n    A: {\r\n      name: 'A',\r\n      base: BASE_UNITS.CURRENT,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    ampere: {\r\n      name: 'ampere',\r\n      base: BASE_UNITS.CURRENT,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Temperature\r\n    // K(C) = C + 273.15\r\n    // K(F) = (F + 459.67) * (5 / 9)\r\n    // K(R) = R * (5 / 9)\r\n    K: {\r\n      name: 'K',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    degC: {\r\n      name: 'degC',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 273.15\r\n    },\r\n    degF: {\r\n      name: 'degF',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: new _Fraction(5, 9),\r\n      offset: 459.67\r\n    },\r\n    degR: {\r\n      name: 'degR',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: new _Fraction(5, 9),\r\n      offset: 0\r\n    },\r\n    kelvin: {\r\n      name: 'kelvin',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    celsius: {\r\n      name: 'celsius',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 273.15\r\n    },\r\n    fahrenheit: {\r\n      name: 'fahrenheit',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: new _Fraction(5, 9),\r\n      offset: 459.67\r\n    },\r\n    rankine: {\r\n      name: 'rankine',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: new _Fraction(5, 9),\r\n      offset: 0\r\n    },\r\n    // amount of substance\r\n    mol: {\r\n      name: 'mol',\r\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    mole: {\r\n      name: 'mole',\r\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // luminous intensity\r\n    cd: {\r\n      name: 'cd',\r\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    candela: {\r\n      name: 'candela',\r\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // TODO: units STERADIAN\r\n    // {name: 'sr', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\r\n    // {name: 'steradian', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\r\n\r\n    // Force\r\n    N: {\r\n      name: 'N',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    newton: {\r\n      name: 'newton',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    dyn: {\r\n      name: 'dyn',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.00001,\r\n      offset: 0\r\n    },\r\n    dyne: {\r\n      name: 'dyne',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.00001,\r\n      offset: 0\r\n    },\r\n    lbf: {\r\n      name: 'lbf',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4.4482216152605,\r\n      offset: 0\r\n    },\r\n    poundforce: {\r\n      name: 'poundforce',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4.4482216152605,\r\n      offset: 0\r\n    },\r\n    kip: {\r\n      name: 'kip',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 4448.2216,\r\n      offset: 0\r\n    },\r\n    kilogramforce: {\r\n      name: 'kilogramforce',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 9.80665,\r\n      offset: 0\r\n    },\r\n    // Energy\r\n    J: {\r\n      name: 'J',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    joule: {\r\n      name: 'joule',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    erg: {\r\n      name: 'erg',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORTLONG,\r\n      // Both kiloerg and kerg are acceptable\r\n      value: 1e-7,\r\n      offset: 0\r\n    },\r\n    Wh: {\r\n      name: 'Wh',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    BTU: {\r\n      name: 'BTU',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.BTU,\r\n      value: 1055.05585262,\r\n      offset: 0\r\n    },\r\n    eV: {\r\n      name: 'eV',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1.602176565e-19,\r\n      offset: 0\r\n    },\r\n    electronvolt: {\r\n      name: 'electronvolt',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1.602176565e-19,\r\n      offset: 0\r\n    },\r\n    // Power\r\n    W: {\r\n      name: 'W',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    watt: {\r\n      name: 'watt',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    hp: {\r\n      name: 'hp',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 745.6998715386,\r\n      offset: 0\r\n    },\r\n    // Electrical power units\r\n    VAR: {\r\n      name: 'VAR',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: Complex.I,\r\n      offset: 0\r\n    },\r\n    VA: {\r\n      name: 'VA',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Pressure\r\n    Pa: {\r\n      name: 'Pa',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    psi: {\r\n      name: 'psi',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6894.75729276459,\r\n      offset: 0\r\n    },\r\n    atm: {\r\n      name: 'atm',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 101325,\r\n      offset: 0\r\n    },\r\n    bar: {\r\n      name: 'bar',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.SHORTLONG,\r\n      value: 100000,\r\n      offset: 0\r\n    },\r\n    torr: {\r\n      name: 'torr',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 133.322,\r\n      offset: 0\r\n    },\r\n    mmHg: {\r\n      name: 'mmHg',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 133.322,\r\n      offset: 0\r\n    },\r\n    mmH2O: {\r\n      name: 'mmH2O',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 9.80665,\r\n      offset: 0\r\n    },\r\n    cmH2O: {\r\n      name: 'cmH2O',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 98.0665,\r\n      offset: 0\r\n    },\r\n    // Electric charge\r\n    coulomb: {\r\n      name: 'coulomb',\r\n      base: BASE_UNITS.ELECTRIC_CHARGE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    C: {\r\n      name: 'C',\r\n      base: BASE_UNITS.ELECTRIC_CHARGE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric capacitance\r\n    farad: {\r\n      name: 'farad',\r\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    F: {\r\n      name: 'F',\r\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric potential\r\n    volt: {\r\n      name: 'volt',\r\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    V: {\r\n      name: 'V',\r\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric resistance\r\n    ohm: {\r\n      name: 'ohm',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORTLONG,\r\n      // Both Mohm and megaohm are acceptable\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    /*\r\n     * Unicode breaks in browsers if charset is not specified\r\n    : {\r\n      name: '',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    */\r\n    // Electric inductance\r\n    henry: {\r\n      name: 'henry',\r\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    H: {\r\n      name: 'H',\r\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric conductance\r\n    siemens: {\r\n      name: 'siemens',\r\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    S: {\r\n      name: 'S',\r\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Magnetic flux\r\n    weber: {\r\n      name: 'weber',\r\n      base: BASE_UNITS.MAGNETIC_FLUX,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    Wb: {\r\n      name: 'Wb',\r\n      base: BASE_UNITS.MAGNETIC_FLUX,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Magnetic flux density\r\n    tesla: {\r\n      name: 'tesla',\r\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    T: {\r\n      name: 'T',\r\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Binary\r\n    b: {\r\n      name: 'b',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    bits: {\r\n      name: 'bits',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    B: {\r\n      name: 'B',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_SHORT,\r\n      value: 8,\r\n      offset: 0\r\n    },\r\n    bytes: {\r\n      name: 'bytes',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_LONG,\r\n      value: 8,\r\n      offset: 0\r\n    }\r\n  };\r\n\r\n  // aliases (formerly plurals)\r\n  // note that ALIASES is only used at creation to create more entries in UNITS by copying the aliased units\r\n  var ALIASES = {\r\n    meters: 'meter',\r\n    inches: 'inch',\r\n    feet: 'foot',\r\n    yards: 'yard',\r\n    miles: 'mile',\r\n    links: 'link',\r\n    rods: 'rod',\r\n    chains: 'chain',\r\n    angstroms: 'angstrom',\r\n    lt: 'l',\r\n    litres: 'litre',\r\n    liter: 'litre',\r\n    liters: 'litre',\r\n    teaspoons: 'teaspoon',\r\n    tablespoons: 'tablespoon',\r\n    minims: 'minim',\r\n    fldr: 'fluiddram',\r\n    fluiddrams: 'fluiddram',\r\n    floz: 'fluidounce',\r\n    fluidounces: 'fluidounce',\r\n    gi: 'gill',\r\n    gills: 'gill',\r\n    cp: 'cup',\r\n    cups: 'cup',\r\n    pt: 'pint',\r\n    pints: 'pint',\r\n    qt: 'quart',\r\n    quarts: 'quart',\r\n    gal: 'gallon',\r\n    gallons: 'gallon',\r\n    bbl: 'beerbarrel',\r\n    beerbarrels: 'beerbarrel',\r\n    obl: 'oilbarrel',\r\n    oilbarrels: 'oilbarrel',\r\n    hogsheads: 'hogshead',\r\n    gtts: 'gtt',\r\n    grams: 'gram',\r\n    tons: 'ton',\r\n    tonnes: 'tonne',\r\n    grains: 'grain',\r\n    drams: 'dram',\r\n    ounces: 'ounce',\r\n    poundmasses: 'poundmass',\r\n    hundredweights: 'hundredweight',\r\n    sticks: 'stick',\r\n    lb: 'lbm',\r\n    lbs: 'lbm',\r\n    kips: 'kip',\r\n    kgf: 'kilogramforce',\r\n    acres: 'acre',\r\n    hectares: 'hectare',\r\n    sqfeet: 'sqft',\r\n    sqyard: 'sqyd',\r\n    sqmile: 'sqmi',\r\n    sqmiles: 'sqmi',\r\n    mmhg: 'mmHg',\r\n    mmh2o: 'mmH2O',\r\n    cmh2o: 'cmH2O',\r\n    seconds: 'second',\r\n    secs: 'second',\r\n    minutes: 'minute',\r\n    mins: 'minute',\r\n    hours: 'hour',\r\n    hr: 'hour',\r\n    hrs: 'hour',\r\n    days: 'day',\r\n    weeks: 'week',\r\n    months: 'month',\r\n    years: 'year',\r\n    decades: 'decade',\r\n    centuries: 'century',\r\n    millennia: 'millennium',\r\n    hertz: 'hertz',\r\n    radians: 'radian',\r\n    degrees: 'degree',\r\n    gradians: 'gradian',\r\n    cycles: 'cycle',\r\n    arcsecond: 'arcsec',\r\n    arcseconds: 'arcsec',\r\n    arcminute: 'arcmin',\r\n    arcminutes: 'arcmin',\r\n    BTUs: 'BTU',\r\n    watts: 'watt',\r\n    joules: 'joule',\r\n    amperes: 'ampere',\r\n    amps: 'ampere',\r\n    amp: 'ampere',\r\n    coulombs: 'coulomb',\r\n    volts: 'volt',\r\n    ohms: 'ohm',\r\n    farads: 'farad',\r\n    webers: 'weber',\r\n    teslas: 'tesla',\r\n    electronvolts: 'electronvolt',\r\n    moles: 'mole',\r\n    bit: 'bits',\r\n    byte: 'bytes'\r\n  };\r\n\r\n  /**\r\n   * Calculate the values for the angle units.\r\n   * Value is calculated as number or BigNumber depending on the configuration\r\n   * @param {{number: 'number' | 'BigNumber'}} config\r\n   */\r\n  function calculateAngleValues(config) {\r\n    if (config.number === 'BigNumber') {\r\n      var pi = createPi(_BigNumber);\r\n      UNITS.rad.value = new _BigNumber(1);\r\n      UNITS.deg.value = pi.div(180); // 2 * pi / 360\r\n      UNITS.grad.value = pi.div(200); // 2 * pi / 400\r\n      UNITS.cycle.value = pi.times(2); // 2 * pi\r\n      UNITS.arcsec.value = pi.div(648000); // 2 * pi / 360 / 3600\r\n      UNITS.arcmin.value = pi.div(10800); // 2 * pi / 360 / 60\r\n    } else {\r\n      // number\r\n      UNITS.rad.value = 1;\r\n      UNITS.deg.value = Math.PI / 180; // 2 * pi / 360\r\n      UNITS.grad.value = Math.PI / 200; // 2 * pi / 400\r\n      UNITS.cycle.value = Math.PI * 2; // 2 * pi\r\n      UNITS.arcsec.value = Math.PI / 648000; // 2 * pi / 360 / 3600\r\n      UNITS.arcmin.value = Math.PI / 10800; // 2 * pi / 360 / 60\r\n    }\r\n\r\n    // copy to the full names of the angles\r\n    UNITS.radian.value = UNITS.rad.value;\r\n    UNITS.degree.value = UNITS.deg.value;\r\n    UNITS.gradian.value = UNITS.grad.value;\r\n  }\r\n\r\n  // apply the angle values now\r\n  calculateAngleValues(config);\r\n  if (on) {\r\n    // recalculate the values on change of configuration\r\n    on('config', function (curr, prev) {\r\n      if (curr.number !== prev.number) {\r\n        calculateAngleValues(curr);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * A unit system is a set of dimensionally independent base units plus a set of derived units, formed by multiplication and division of the base units, that are by convention used with the unit system.\r\n   * A user perhaps could issue a command to select a preferred unit system, or use the default (see below).\r\n   * Auto unit system: The default unit system is updated on the fly anytime a unit is parsed. The corresponding unit in the default unit system is updated, so that answers are given in the same units the user supplies.\r\n   */\r\n  var UNIT_SYSTEMS = {\r\n    si: {\r\n      // Base units\r\n      NONE: {\r\n        unit: UNIT_NONE,\r\n        prefix: PREFIXES.NONE['']\r\n      },\r\n      LENGTH: {\r\n        unit: UNITS.m,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MASS: {\r\n        unit: UNITS.g,\r\n        prefix: PREFIXES.SHORT.k\r\n      },\r\n      TIME: {\r\n        unit: UNITS.s,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      CURRENT: {\r\n        unit: UNITS.A,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      TEMPERATURE: {\r\n        unit: UNITS.K,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      LUMINOUS_INTENSITY: {\r\n        unit: UNITS.cd,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      AMOUNT_OF_SUBSTANCE: {\r\n        unit: UNITS.mol,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ANGLE: {\r\n        unit: UNITS.rad,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      BIT: {\r\n        unit: UNITS.bits,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      // Derived units\r\n      FORCE: {\r\n        unit: UNITS.N,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ENERGY: {\r\n        unit: UNITS.J,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      POWER: {\r\n        unit: UNITS.W,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      PRESSURE: {\r\n        unit: UNITS.Pa,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CHARGE: {\r\n        unit: UNITS.C,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CAPACITANCE: {\r\n        unit: UNITS.F,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_POTENTIAL: {\r\n        unit: UNITS.V,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_RESISTANCE: {\r\n        unit: UNITS.ohm,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_INDUCTANCE: {\r\n        unit: UNITS.H,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CONDUCTANCE: {\r\n        unit: UNITS.S,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MAGNETIC_FLUX: {\r\n        unit: UNITS.Wb,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MAGNETIC_FLUX_DENSITY: {\r\n        unit: UNITS.T,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      FREQUENCY: {\r\n        unit: UNITS.Hz,\r\n        prefix: PREFIXES.SHORT['']\r\n      }\r\n    }\r\n  };\r\n\r\n  // Clone to create the other unit systems\r\n  UNIT_SYSTEMS.cgs = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\r\n  UNIT_SYSTEMS.cgs.LENGTH = {\r\n    unit: UNITS.m,\r\n    prefix: PREFIXES.SHORT.c\r\n  };\r\n  UNIT_SYSTEMS.cgs.MASS = {\r\n    unit: UNITS.g,\r\n    prefix: PREFIXES.SHORT['']\r\n  };\r\n  UNIT_SYSTEMS.cgs.FORCE = {\r\n    unit: UNITS.dyn,\r\n    prefix: PREFIXES.SHORT['']\r\n  };\r\n  UNIT_SYSTEMS.cgs.ENERGY = {\r\n    unit: UNITS.erg,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  // there are wholly 4 unique cgs systems for electricity and magnetism,\r\n  // so let's not worry about it unless somebody complains\r\n\r\n  UNIT_SYSTEMS.us = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\r\n  UNIT_SYSTEMS.us.LENGTH = {\r\n    unit: UNITS.ft,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.MASS = {\r\n    unit: UNITS.lbm,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.TEMPERATURE = {\r\n    unit: UNITS.degF,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.FORCE = {\r\n    unit: UNITS.lbf,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.ENERGY = {\r\n    unit: UNITS.BTU,\r\n    prefix: PREFIXES.BTU['']\r\n  };\r\n  UNIT_SYSTEMS.us.POWER = {\r\n    unit: UNITS.hp,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.PRESSURE = {\r\n    unit: UNITS.psi,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n\r\n  // Add additional unit systems here.\r\n\r\n  // Choose a unit system to seed the auto unit system.\r\n  UNIT_SYSTEMS.auto = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\r\n\r\n  // Set the current unit system\r\n  var currentUnitSystem = UNIT_SYSTEMS.auto;\r\n\r\n  /**\r\n   * Set a unit system for formatting derived units.\r\n   * @memberof Unit\r\n   * @param {string} [name] The name of the unit system.\r\n   */\r\n  Unit.setUnitSystem = function (name) {\r\n    if (hasOwnProperty(UNIT_SYSTEMS, name)) {\r\n      currentUnitSystem = UNIT_SYSTEMS[name];\r\n    } else {\r\n      throw new Error('Unit system ' + name + ' does not exist. Choices are: ' + Object.keys(UNIT_SYSTEMS).join(', '));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Return the current unit system.\r\n   * @memberof Unit\r\n   * @return {string} The current unit system.\r\n   */\r\n  Unit.getUnitSystem = function () {\r\n    for (var _key in UNIT_SYSTEMS) {\r\n      if (hasOwnProperty(UNIT_SYSTEMS, _key)) {\r\n        if (UNIT_SYSTEMS[_key] === currentUnitSystem) {\r\n          return _key;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Converters to convert from number to an other numeric type like BigNumber\r\n   * or Fraction\r\n   */\r\n  Unit.typeConverters = {\r\n    BigNumber: function BigNumber(x) {\r\n      if (x !== null && x !== void 0 && x.isFraction) return new _BigNumber(String(x.n)).div(String(x.d)).times(String(x.s));\r\n      return new _BigNumber(x + ''); // stringify to prevent constructor error\r\n    },\r\n    Fraction: function Fraction(x) {\r\n      return new _Fraction(x);\r\n    },\r\n    Complex: function Complex(x) {\r\n      return x;\r\n    },\r\n    number: function number(x) {\r\n      if (x !== null && x !== void 0 && x.isFraction) return _number(x);\r\n      return x;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Retrieve the right converter function corresponding with this unit's\r\n   * value\r\n   *\r\n   * @memberof Unit\r\n   * @return {Function}\r\n   */\r\n  Unit.prototype._numberConverter = function () {\r\n    var convert = Unit.typeConverters[this.valueType()];\r\n    if (convert) {\r\n      return convert;\r\n    }\r\n    throw new TypeError('Unsupported Unit value type \"' + this.valueType() + '\"');\r\n  };\r\n\r\n  /**\r\n   * Retrieve the right convertor function corresponding with the type\r\n   * of provided exampleValue.\r\n   *\r\n   * @param {string} type   A string 'number', 'BigNumber', or 'Fraction'\r\n   *                        In case of an unknown type,\r\n   * @return {Function}\r\n   */\r\n  Unit._getNumberConverter = function (type) {\r\n    if (!Unit.typeConverters[type]) {\r\n      throw new TypeError('Unsupported type \"' + type + '\"');\r\n    }\r\n    return Unit.typeConverters[type];\r\n  };\r\n\r\n  // Add dimensions to each built-in unit\r\n  for (var _key2 in UNITS) {\r\n    if (hasOwnProperty(UNITS, _key2)) {\r\n      var unit = UNITS[_key2];\r\n      unit.dimensions = unit.base.dimensions;\r\n    }\r\n  }\r\n\r\n  // Create aliases\r\n  for (var _name2 in ALIASES) {\r\n    if (hasOwnProperty(ALIASES, _name2)) {\r\n      var _unit2 = UNITS[ALIASES[_name2]];\r\n      var alias = {};\r\n      for (var _key3 in _unit2) {\r\n        if (hasOwnProperty(_unit2, _key3)) {\r\n          alias[_key3] = _unit2[_key3];\r\n        }\r\n      }\r\n      alias.name = _name2;\r\n      UNITS[_name2] = alias;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks if a character is a valid latin letter (upper or lower case).\r\n   * Note that this function can be overridden, for example to allow support of other alphabets.\r\n   * @memberof Unit\r\n   * @param {string} c Tested character\r\n   * @return {boolean} true if the character is a latin letter\r\n   */\r\n  Unit.isValidAlpha = function isValidAlpha(c) {\r\n    return /^[a-zA-Z]$/.test(c);\r\n  };\r\n  function assertUnitNameIsValid(name) {\r\n    for (var i = 0; i < name.length; i++) {\r\n      c = name.charAt(i);\r\n      if (i === 0 && !Unit.isValidAlpha(c)) {\r\n        throw new Error('Invalid unit name (must begin with alpha character): \"' + name + '\"');\r\n      }\r\n      if (i > 0 && !(Unit.isValidAlpha(c) || isDigit(c))) {\r\n        throw new Error('Invalid unit name (only alphanumeric characters are allowed): \"' + name + '\"');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Wrapper around createUnitSingle.\r\n   * Example:\r\n   *  createUnit( {\r\n   *     foo: {\r\n   *       prefixes: 'long',\r\n   *       baseName: 'essence-of-foo'\r\n   *     },\r\n   *     bar: '40 foo',\r\n   *     baz: {\r\n   *       definition: '1 bar/hour',\r\n   *       prefixes: 'long'\r\n   *     }\r\n   *   },\r\n   *   {\r\n   *     override: true\r\n   *   })\r\n   * @memberof Unit\r\n   * @param {object} obj      Object map. Each key becomes a unit which is defined by its value.\r\n   * @param {object} options\r\n   * @return {Unit} the last created unit\r\n   */\r\n  Unit.createUnit = function (obj, options) {\r\n    if (typeof obj !== 'object') {\r\n      throw new TypeError(\"createUnit expects first parameter to be of type 'Object'\");\r\n    }\r\n\r\n    // Remove all units and aliases we are overriding\r\n    if (options && options.override) {\r\n      for (var _key4 in obj) {\r\n        if (hasOwnProperty(obj, _key4)) {\r\n          Unit.deleteUnit(_key4);\r\n        }\r\n        if (obj[_key4].aliases) {\r\n          for (var i = 0; i < obj[_key4].aliases.length; i++) {\r\n            Unit.deleteUnit(obj[_key4].aliases[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // TODO: traverse multiple times until all units have been added\r\n    var lastUnit;\r\n    for (var _key5 in obj) {\r\n      if (hasOwnProperty(obj, _key5)) {\r\n        lastUnit = Unit.createUnitSingle(_key5, obj[_key5]);\r\n      }\r\n    }\r\n    return lastUnit;\r\n  };\r\n\r\n  /**\r\n   * Create a user-defined unit and register it with the Unit type.\r\n   * Example:\r\n   *  createUnitSingle('knot', '0.514444444 m/s')\r\n   *\r\n   * @memberof Unit\r\n   * @param {string} name      The name of the new unit. Must be unique. Example: 'knot'\r\n   * @param {string | Unit | object} definition      Definition of the unit in terms\r\n   * of existing units. For example, '0.514444444 m / s'. Can be a Unit, a string,\r\n   * or an Object. If an Object, may have the following properties:\r\n   *   - definition {string | Unit} The definition of this unit.\r\n   *   - prefixes {string} \"none\", \"short\", \"long\", \"binary_short\", or \"binary_long\".\r\n   *     The default is \"none\".\r\n   *   - aliases {Array} Array of strings. Example: ['knots', 'kt', 'kts']\r\n   *   - offset {Numeric} An offset to apply when converting from the unit. For\r\n   *     example, the offset for celsius is 273.15 and the offset for farhenheit\r\n   *     is 459.67. Default is 0.\r\n   *   - baseName {string} If the unit's dimension does not match that of any other\r\n   *     base unit, the name of the newly create base unit. Otherwise, this property\r\n   *     has no effect.\r\n   *\r\n   * @return {Unit}\r\n   */\r\n  Unit.createUnitSingle = function (name, obj) {\r\n    if (typeof obj === 'undefined' || obj === null) {\r\n      obj = {};\r\n    }\r\n    if (typeof name !== 'string') {\r\n      throw new TypeError(\"createUnitSingle expects first parameter to be of type 'string'\");\r\n    }\r\n\r\n    // Check collisions with existing units\r\n    if (hasOwnProperty(UNITS, name)) {\r\n      throw new Error('Cannot create unit \"' + name + '\": a unit with that name already exists');\r\n    }\r\n\r\n    // TODO: Validate name for collisions with other built-in functions (like abs or cos, for example), and for acceptable variable names. For example, '42' is probably not a valid unit. Nor is '%', since it is also an operator.\r\n\r\n    assertUnitNameIsValid(name);\r\n    var defUnit = null; // The Unit from which the new unit will be created.\r\n    var aliases = [];\r\n    var offset = 0;\r\n    var definition;\r\n    var prefixes;\r\n    var baseName;\r\n    if (obj && obj.type === 'Unit') {\r\n      defUnit = obj.clone();\r\n    } else if (typeof obj === 'string') {\r\n      if (obj !== '') {\r\n        definition = obj;\r\n      }\r\n    } else if (typeof obj === 'object') {\r\n      definition = obj.definition;\r\n      prefixes = obj.prefixes;\r\n      offset = obj.offset;\r\n      baseName = obj.baseName;\r\n      if (obj.aliases) {\r\n        aliases = obj.aliases.valueOf(); // aliases could be a Matrix, so convert to Array\r\n      }\r\n    } else {\r\n      throw new TypeError('Cannot create unit \"' + name + '\" from \"' + obj.toString() + '\": expecting \"string\" or \"Unit\" or \"Object\"');\r\n    }\r\n    if (aliases) {\r\n      for (var i = 0; i < aliases.length; i++) {\r\n        if (hasOwnProperty(UNITS, aliases[i])) {\r\n          throw new Error('Cannot create alias \"' + aliases[i] + '\": a unit with that name already exists');\r\n        }\r\n      }\r\n    }\r\n    if (definition && typeof definition === 'string' && !defUnit) {\r\n      try {\r\n        defUnit = Unit.parse(definition, {\r\n          allowNoUnits: true\r\n        });\r\n      } catch (ex) {\r\n        ex.message = 'Could not create unit \"' + name + '\" from \"' + definition + '\": ' + ex.message;\r\n        throw ex;\r\n      }\r\n    } else if (definition && definition.type === 'Unit') {\r\n      defUnit = definition.clone();\r\n    }\r\n    aliases = aliases || [];\r\n    offset = offset || 0;\r\n    if (prefixes && prefixes.toUpperCase) {\r\n      prefixes = PREFIXES[prefixes.toUpperCase()] || PREFIXES.NONE;\r\n    } else {\r\n      prefixes = PREFIXES.NONE;\r\n    }\r\n\r\n    // If defUnit is null, it is because the user did not\r\n    // specify a defintion. So create a new base dimension.\r\n    var newUnit = {};\r\n    if (!defUnit) {\r\n      // Add a new base dimension\r\n      baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\r\n      if (BASE_DIMENSIONS.indexOf(baseName) >= 0) {\r\n        throw new Error('Cannot create new base unit \"' + name + '\": a base unit with that name already exists (and cannot be overridden)');\r\n      }\r\n      BASE_DIMENSIONS.push(baseName);\r\n\r\n      // Push 0 onto existing base units\r\n      for (var b in BASE_UNITS) {\r\n        if (hasOwnProperty(BASE_UNITS, b)) {\r\n          BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length - 1] = 0;\r\n        }\r\n      }\r\n\r\n      // Add the new base unit\r\n      var newBaseUnit = {\r\n        dimensions: []\r\n      };\r\n      for (var _i6 = 0; _i6 < BASE_DIMENSIONS.length; _i6++) {\r\n        newBaseUnit.dimensions[_i6] = 0;\r\n      }\r\n      newBaseUnit.dimensions[BASE_DIMENSIONS.length - 1] = 1;\r\n      newBaseUnit.key = baseName;\r\n      BASE_UNITS[baseName] = newBaseUnit;\r\n      newUnit = {\r\n        name,\r\n        value: 1,\r\n        dimensions: BASE_UNITS[baseName].dimensions.slice(0),\r\n        prefixes,\r\n        offset,\r\n        base: BASE_UNITS[baseName]\r\n      };\r\n      currentUnitSystem[baseName] = {\r\n        unit: newUnit,\r\n        prefix: PREFIXES.NONE['']\r\n      };\r\n    } else {\r\n      newUnit = {\r\n        name,\r\n        value: defUnit.value,\r\n        dimensions: defUnit.dimensions.slice(0),\r\n        prefixes,\r\n        offset\r\n      };\r\n\r\n      // Create a new base if no matching base exists\r\n      var anyMatch = false;\r\n      for (var _i7 in BASE_UNITS) {\r\n        if (hasOwnProperty(BASE_UNITS, _i7)) {\r\n          var match = true;\r\n          for (var j = 0; j < BASE_DIMENSIONS.length; j++) {\r\n            if (Math.abs((newUnit.dimensions[j] || 0) - (BASE_UNITS[_i7].dimensions[j] || 0)) > 1e-12) {\r\n              match = false;\r\n              break;\r\n            }\r\n          }\r\n          if (match) {\r\n            anyMatch = true;\r\n            newUnit.base = BASE_UNITS[_i7];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (!anyMatch) {\r\n        baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\r\n        // Add the new base unit\r\n        var _newBaseUnit = {\r\n          dimensions: defUnit.dimensions.slice(0)\r\n        };\r\n        _newBaseUnit.key = baseName;\r\n        BASE_UNITS[baseName] = _newBaseUnit;\r\n        currentUnitSystem[baseName] = {\r\n          unit: newUnit,\r\n          prefix: PREFIXES.NONE['']\r\n        };\r\n        newUnit.base = BASE_UNITS[baseName];\r\n      }\r\n    }\r\n    Unit.UNITS[name] = newUnit;\r\n    for (var _i8 = 0; _i8 < aliases.length; _i8++) {\r\n      var aliasName = aliases[_i8];\r\n      var _alias = {};\r\n      for (var _key6 in newUnit) {\r\n        if (hasOwnProperty(newUnit, _key6)) {\r\n          _alias[_key6] = newUnit[_key6];\r\n        }\r\n      }\r\n      _alias.name = aliasName;\r\n      Unit.UNITS[aliasName] = _alias;\r\n    }\r\n\r\n    // delete the memoization cache because we created a new unit\r\n    delete _findUnit.cache;\r\n    return new Unit(null, name);\r\n  };\r\n  Unit.deleteUnit = function (name) {\r\n    delete Unit.UNITS[name];\r\n\r\n    // delete the memoization cache because we deleted a unit\r\n    delete _findUnit.cache;\r\n  };\r\n\r\n  // expose arrays with prefixes, dimensions, units, systems\r\n  Unit.PREFIXES = PREFIXES;\r\n  Unit.BASE_DIMENSIONS = BASE_DIMENSIONS;\r\n  Unit.BASE_UNITS = BASE_UNITS;\r\n  Unit.UNIT_SYSTEMS = UNIT_SYSTEMS;\r\n  Unit.UNITS = UNITS;\r\n  return Unit;\r\n}, {\r\n  isClass: true\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}