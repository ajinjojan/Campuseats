{"ast":null,"code":"import { factory } from '../../utils/factory.js';\nimport { isInteger } from '../../utils/number.js';\nvar name = 'bernoulli';\nvar dependencies = ['typed', 'config', 'isInteger', 'number', '?BigNumber', '?Fraction'];\nexport var createBernoulli = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    config,\n    number,\n    BigNumber: _BigNumber,\n    Fraction\n  } = _ref;\n  /**\r\n   * Return the `n`th Bernoulli number, for positive integers `n`\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.bernoulli(n)\r\n   *\r\n   * Examples:\r\n   *\r\n   *     math.bernoulli(1)                  // returns -0.5\r\n   *     // All other odd Bernoulli numbers are 0:\r\n   *     math.bernoulli(7)                  // returns 0\r\n   *     math.bernoulli(math.bignumber(6))  // value bignumber(1).div(42)\r\n   *     // Produces exact rationals for bigint or fraction input:\r\n   *     math.bernoulli(8n)                 // Fraction -1,30\r\n   *     math.bernoulli(math.fraction(10))  // Fraction 5,66\r\n   *\r\n   * See also:\r\n   *\r\n   *     combinations, gamma, stirlingS2\r\n   *\r\n   * @param {number | BigNumber | bigint | Fraction} n\r\n   *    Index of the Bernoulli number\r\n   * @return {number | BigNumber | Fraction}\r\n   *    nth Bernoulli number, of a type corresponding to the argument n\r\n   */\n\n  var numberCache = [undefined];\n  var fractionCache = [undefined];\n  var bigCache = [undefined];\n  var cachedPrecision = 50;\n  return typed(name, {\n    number: index => _bernoulli(index, n => n, numberCache, (a, b) => a + b, (a, b) => a * b, (a, b) => a / b),\n    'bigint | Fraction': index => _bernoulli(number(index), n => new Fraction(n), fractionCache, (a, b) => a.add(b), (a, b) => a.mul(b), (a, b) => a.div(b)),\n    BigNumber: index => {\n      if (config.precision !== cachedPrecision) {\n        bigCache = [undefined];\n        cachedPrecision = config.precision;\n      }\n      return _bernoulli(number(index), n => new _BigNumber(n), bigCache, (a, b) => a.add(b), (a, b) => a.mul(b), (a, b) => a.div(b));\n    }\n  });\n});\n\n/**\r\n * Underlying implementation, with all operations passed in.\r\n * Parameters:\r\n * 1. index: a (positive integer) number specifying which Bernoulli number\r\n *    to compute.\r\n * 2. promote: a function that takes an integer number and returns\r\n *    the desired type for the Bernoulli number values.\r\n * 3. A: a cache array of partial computation data that _bernoulli should use.\r\n *    Different cache arrays should be provided for different types.\r\n * 4. plus: a function that adds two values of the desired type.\r\n * 5. times: a function that multiplies two values of the desired type.\r\n * 6. divide: a function that divides one value of the desired type by another.\r\n */\nfunction _bernoulli(index, promote, A, plus, times, divide) {\n  if (index < 0 || !isInteger(index)) {\n    throw new RangeError('Bernoulli index must be nonnegative integer');\n  }\n  if (index === 0) return promote(1);\n  if (index === 1) return divide(promote(-1), promote(2));\n  if (index % 2 === 1) return promote(0);\n  // We proceed as in https://math.stackexchange.com/a/2844337\n  // (by no means the most efficient, but very simple to implement)\n  // A cache entry consists of a triple\n  // [cotangent coefficient a_n, prefactor, Bernouilli number B_2n]\n  var one = promote(1);\n  if (A.length === 1) {\n    A.push([divide(one, promote(-3)), divide(one, promote(-2)), divide(one, promote(6))]);\n  }\n  var half = index / 2;\n  var zero = promote(0);\n  var two = promote(2);\n  while (A.length <= half) {\n    var i = A.length; // next cotangent coefficient to compute\n    var lim = Math.floor((i + 1) / 2);\n    var a = zero;\n    for (var m = 1; m < lim; ++m) {\n      a = plus(a, times(A[m][0], A[i - m][0]));\n    }\n    a = times(a, two);\n    if (i % 2 === 0) a = plus(a, times(A[lim][0], A[lim][0]));\n    a = divide(a, promote(-(2 * i + 1)));\n    var prefactor = divide(times(A[i - 1][1], promote(-i * (2 * i - 1))), two);\n    A.push([a, prefactor, times(prefactor, a)]);\n  }\n  return A[half][2];\n}","map":{"version":3,"names":["factory","isInteger","name","dependencies","createBernoulli","_ref","typed","config","number","BigNumber","_BigNumber","Fraction","numberCache","undefined","fractionCache","bigCache","cachedPrecision","index","_bernoulli","n","a","b","add","mul","div","precision","promote","A","plus","times","divide","RangeError","one","length","push","half","zero","two","i","lim","Math","floor","m","prefactor"],"sources":["C:/Users/dudet/Documents/gitexp/CampusEats/node_modules/mathjs/lib/esm/function/probability/bernoulli.js"],"sourcesContent":["import { factory } from '../../utils/factory.js';\r\nimport { isInteger } from '../../utils/number.js';\r\nvar name = 'bernoulli';\r\nvar dependencies = ['typed', 'config', 'isInteger', 'number', '?BigNumber', '?Fraction'];\r\nexport var createBernoulli = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    typed,\r\n    config,\r\n    number,\r\n    BigNumber: _BigNumber,\r\n    Fraction\r\n  } = _ref;\r\n  /**\r\n   * Return the `n`th Bernoulli number, for positive integers `n`\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.bernoulli(n)\r\n   *\r\n   * Examples:\r\n   *\r\n   *     math.bernoulli(1)                  // returns -0.5\r\n   *     // All other odd Bernoulli numbers are 0:\r\n   *     math.bernoulli(7)                  // returns 0\r\n   *     math.bernoulli(math.bignumber(6))  // value bignumber(1).div(42)\r\n   *     // Produces exact rationals for bigint or fraction input:\r\n   *     math.bernoulli(8n)                 // Fraction -1,30\r\n   *     math.bernoulli(math.fraction(10))  // Fraction 5,66\r\n   *\r\n   * See also:\r\n   *\r\n   *     combinations, gamma, stirlingS2\r\n   *\r\n   * @param {number | BigNumber | bigint | Fraction} n\r\n   *    Index of the Bernoulli number\r\n   * @return {number | BigNumber | Fraction}\r\n   *    nth Bernoulli number, of a type corresponding to the argument n\r\n   */\r\n\r\n  var numberCache = [undefined];\r\n  var fractionCache = [undefined];\r\n  var bigCache = [undefined];\r\n  var cachedPrecision = 50;\r\n  return typed(name, {\r\n    number: index => _bernoulli(index, n => n, numberCache, (a, b) => a + b, (a, b) => a * b, (a, b) => a / b),\r\n    'bigint | Fraction': index => _bernoulli(number(index), n => new Fraction(n), fractionCache, (a, b) => a.add(b), (a, b) => a.mul(b), (a, b) => a.div(b)),\r\n    BigNumber: index => {\r\n      if (config.precision !== cachedPrecision) {\r\n        bigCache = [undefined];\r\n        cachedPrecision = config.precision;\r\n      }\r\n      return _bernoulli(number(index), n => new _BigNumber(n), bigCache, (a, b) => a.add(b), (a, b) => a.mul(b), (a, b) => a.div(b));\r\n    }\r\n  });\r\n});\r\n\r\n/**\r\n * Underlying implementation, with all operations passed in.\r\n * Parameters:\r\n * 1. index: a (positive integer) number specifying which Bernoulli number\r\n *    to compute.\r\n * 2. promote: a function that takes an integer number and returns\r\n *    the desired type for the Bernoulli number values.\r\n * 3. A: a cache array of partial computation data that _bernoulli should use.\r\n *    Different cache arrays should be provided for different types.\r\n * 4. plus: a function that adds two values of the desired type.\r\n * 5. times: a function that multiplies two values of the desired type.\r\n * 6. divide: a function that divides one value of the desired type by another.\r\n */\r\nfunction _bernoulli(index, promote, A, plus, times, divide) {\r\n  if (index < 0 || !isInteger(index)) {\r\n    throw new RangeError('Bernoulli index must be nonnegative integer');\r\n  }\r\n  if (index === 0) return promote(1);\r\n  if (index === 1) return divide(promote(-1), promote(2));\r\n  if (index % 2 === 1) return promote(0);\r\n  // We proceed as in https://math.stackexchange.com/a/2844337\r\n  // (by no means the most efficient, but very simple to implement)\r\n  // A cache entry consists of a triple\r\n  // [cotangent coefficient a_n, prefactor, Bernouilli number B_2n]\r\n  var one = promote(1);\r\n  if (A.length === 1) {\r\n    A.push([divide(one, promote(-3)), divide(one, promote(-2)), divide(one, promote(6))]);\r\n  }\r\n  var half = index / 2;\r\n  var zero = promote(0);\r\n  var two = promote(2);\r\n  while (A.length <= half) {\r\n    var i = A.length; // next cotangent coefficient to compute\r\n    var lim = Math.floor((i + 1) / 2);\r\n    var a = zero;\r\n    for (var m = 1; m < lim; ++m) {\r\n      a = plus(a, times(A[m][0], A[i - m][0]));\r\n    }\r\n    a = times(a, two);\r\n    if (i % 2 === 0) a = plus(a, times(A[lim][0], A[lim][0]));\r\n    a = divide(a, promote(-(2 * i + 1)));\r\n    var prefactor = divide(times(A[i - 1][1], promote(-i * (2 * i - 1))), two);\r\n    A.push([a, prefactor, times(prefactor, a)]);\r\n  }\r\n  return A[half][2];\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}